!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){return e(b[g][1][a]||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){"use strict";var d=(a("jquery"),a("../pages/pageUtils.js")),e=a("../context.js"),f=a("../utils.js"),g=function(a,b){a&&f.extend(!0,this,a),this.parent=b,this.id="button-"+d.generateId()};g.prototype.type='"type" not set in button!',g.prototype.cssClass=void 0,g.prototype.getCssClass=function(){return this.cssClass?this.cssClass:this.type},g.prototype.selector=void 0,g.prototype.getSelector=function(){return"button."+this.id},g.prototype.bindableIn={},g.prototype.notUseInPages=[],g.prototype.disabled=!1,g.prototype.textsBundle=void 0,g.prototype.getTextsBundle=function(){if(this.textsBundle)return this.textsBundle;throw'"textsBundle" property not set in '+this+"!"},g.doSuperClassOf=function(a){a.prototype=new g,a.prototype.constructor=a},g.prototype.isBindable=function(a){return!!this.bindableIn[a]},g.prototype.toString=function(){return this.type+" button ("+this.id+")"},g.prototype.checkComponents=function(){var a=this.parent.getPage(),b=a.componentsMap.validate();return!0===b||(e.showError(a.getOptions(),!1,b.message,b.translate),!1)},b.exports=g},{"../context.js":27,"../pages/pageUtils.js":55,"../utils.js":57,jquery:61}],2:[function(a,b,c){"use strict";var d=a("jquery"),e=function(){var a=function(a,c,d,e){if(!a)throw'Undefined source in getButtonList method with type "'+c+'"!';for(var f=[],g=0;g<a.length;++g){var h=a[g],i=b(h,c,d,e);-1==i.notUseInPages.indexOf(d.getType())&&f.push(i)}return f},b=function(a,b,e,f){var g=void 0;if(g=d.isPlainObject(a)?c(a.type||"generic",a,e,f):c(a,{},e,f),!g.isBindable(b))throw'Button "'+g+'" not bindable to type "'+b+'"!';return g},c=function(a,b,c,d){var e=d.buttons[a];if(!e)throw"Unknown button type to build: "+a;return new e(b,c)};return{getButtonList:a}}();b.exports=e},{jquery:61}],3:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="form_cancel",e.prototype.cssClass="zcrud-form-cancel-command-button",e.prototype.bindableIn={formToolbar:!0},e.prototype.getTextsBundle=function(){return{title:void 0,content:{translate:!0,text:"Cancel"}}},e.prototype.run=function(a,b,c){a.preventDefault(),a.stopPropagation(),b.cancelForm(a,c)},b.exports=e},{"../button.js":1}],4:[function(a,b,c){"use strict";var d=(a("jquery"),a("../../context.js")),e=a("../button.js"),f=function(a,b){e.call(this,a,b)};e.doSuperClassOf(f),f.prototype.type="form_copySubformRows",f.prototype.cssClass="zcrud-copy-subform-rows-command-button",f.prototype.bindableIn={formToolbar:!0},f.prototype.getTextsBundle=function(){return{title:void 0,content:{translate:!0,text:this.title||"Copy rows"}}},f.prototype.run=function(a,b,c,e){if(a.preventDefault(),a.stopPropagation(),this.checkComponents()){0==b.getField(this.target).addNewRowsFromSubform(this.source,this.onlySelected,this.removeFromSource,this.deselect).length&&d.showError(b.getOptions(),!1,"Please, select at least one item!")}},b.exports=f},{"../../context.js":27,"../button.js":1,jquery:61}],5:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="form_submit",e.prototype.cssClass="zcrud-form-submit-command-button",e.prototype.bindableIn={formToolbar:!0},e.prototype.getTextsBundle=function(){return{title:void 0,content:{translate:!0,text:"delete"==this.parent.getType()?"Delete":"Save"}}},e.prototype.run=function(a,b,c){a.preventDefault(),a.stopPropagation(),b.getSubmitFunction().call(b,a,c)},b.exports=e},{"../button.js":1}],6:[function(a,b,c){"use strict";var d=a("./button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),d.prototype.isBindable=function(){return!0},b.exports=e},{"./button.js":1}],7:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="list_addNewRow",e.prototype.cssClass="zcrud-new-row-command-button",e.prototype.bindableIn={listToolbar:!0},e.prototype.getTextsBundle=function(){return{title:{translate:!0,text:"Add new record"},content:{translate:!1,text:"+"}}},e.prototype.run=function(a,b){a.preventDefault(),a.stopPropagation(),b.getComponent("editing").addNewRow(a)},b.exports=e},{"../button.js":1}],8:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="list_deleteRow",e.prototype.cssClass="zcrud-delete-row-command-button",e.prototype.bindableIn={listRow:!0},e.prototype.getTextsBundle=function(){return{title:{translate:!1,text:"Delete record"},content:void 0}},e.prototype.run=function(a,b){a.preventDefault(),a.stopPropagation(),b.getComponent("editing").deleteRow(a)},b.exports=e},{"../button.js":1}],9:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="list_showCreateForm",e.prototype.cssClass="zcrud-new-command-button",e.prototype.bindableIn={listToolbar:!0},e.prototype.getTextsBundle=function(){return{title:{translate:!0,text:"Add new record"},content:{translate:!1,text:"+"}}},e.prototype.run=function(a,b){a.preventDefault(),a.stopPropagation(),b.showCreateForm(a)},b.exports=e},{"../button.js":1}],10:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="list_showDeleteForm",e.prototype.cssClass="zcrud-delete-command-button",e.prototype.bindableIn={listRow:!0},e.prototype.getTextsBundle=function(){return{title:{translate:!1,text:"Delete record"},content:void 0}},e.prototype.run=function(a,b){a.preventDefault(),a.stopPropagation(),b.showDeleteForm(a)},b.exports=e},{"../button.js":1}],11:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="list_showEditForm",e.prototype.cssClass="zcrud-edit-command-button",e.prototype.bindableIn={listRow:!0},e.prototype.getTextsBundle=function(){return{title:{translate:!1,text:"Edit record"},content:void 0}},e.prototype.run=function(a,b){a.preventDefault(),a.stopPropagation(),b.showEditForm(a)},b.exports=e},{"../button.js":1}],12:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="list_submit",e.prototype.cssClass="zcrud-save-command-button",e.prototype.bindableIn={listToolbar:!0},e.prototype.getTextsBundle=function(){return{title:void 0,content:{translate:!0,text:"Save"}}},e.prototype.run=function(a,b){a.preventDefault(),a.stopPropagation(),b.getComponent("editing").submit(a)},b.exports=e},{"../button.js":1}],13:[function(a,b,c){"use strict";var d=a("../context.js"),e=a("./button.js"),f=function(a,b){e.call(this,a,b)};e.doSuperClassOf(f),f.prototype.type="redo",f.prototype.cssClass="zcrud-redo-command-button",f.prototype.bindableIn={formToolbar:!0,listToolbar:!0},f.prototype.disabled=!0,f.prototype.getTextsBundle=function(){return{title:void 0,content:{translate:!0,text:"Redo"}}},f.prototype.run=function(a,b){a.preventDefault(),a.stopPropagation(),d.getHistory().redo(b.getId())},b.exports=f},{"../context.js":27,"./button.js":1}],14:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="subform_addNewRow",e.prototype.cssClass="zcrud-new-row-command-button",e.prototype.bindableIn={subformToolbar:!0},e.prototype.notUseInPages=["delete"],e.prototype.getTextsBundle=function(){return{title:{translate:!0,text:"Add new record"},content:{translate:!1,text:"+"}}},e.prototype.run=function(a,b,c){a.preventDefault(),a.stopPropagation(),this.checkComponents()&&b.addNewRow(c)},b.exports=e},{"../button.js":1}],15:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="subform_deleteRow",e.prototype.cssClass="zcrud-delete-row-command-button",e.prototype.bindableIn={subformRow:!0},e.prototype.notUseInPages=["delete"],e.prototype.getTextsBundle=function(){return{title:{translate:!1,text:"Delete record"},content:void 0}},e.prototype.run=function(a,b){a.preventDefault(),a.stopPropagation(),b.deleteRow(a)},b.exports=e},{"../button.js":1}],16:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="subform_showCreateForm",e.prototype.cssClass="zcrud-new-command-button",e.prototype.bindableIn={subformToolbar:!0},e.prototype.notUseInPages=["delete"],e.prototype.getTextsBundle=function(){return{title:{translate:!0,text:"Add new record"},content:{translate:!1,text:"+"}}},e.prototype.run=function(a,b){a.preventDefault(),a.stopPropagation(),b.showCreateForm(a)},b.exports=e},{"../button.js":1}],17:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="subform_showDeleteForm",e.prototype.cssClass="zcrud-delete-command-button",e.prototype.bindableIn={subformRow:!0},e.prototype.notUseInPages=["delete"],e.prototype.getTextsBundle=function(){return{title:{translate:!1,text:"Delete record"},content:void 0}},e.prototype.run=function(a,b){a.preventDefault(),a.stopPropagation(),b.showNewFormUsingRecordFromServer("delete",a)},b.exports=e},{"../button.js":1}],18:[function(a,b,c){"use strict";var d=a("../button.js"),e=function(a,b){d.call(this,a,b)};d.doSuperClassOf(e),e.prototype.type="subform_showEditForm",e.prototype.cssClass="zcrud-edit-command-button",e.prototype.bindableIn={subformRow:!0},e.prototype.notUseInPages=["delete"],e.prototype.getTextsBundle=function(){return{title:{translate:!1,text:"Edit record"},content:void 0}},e.prototype.run=function(a,b){a.preventDefault(),a.stopPropagation(),b.showNewFormUsingRecordFromServer("update",a)},b.exports=e},{"../button.js":1}],19:[function(a,b,c){"use strict";var d=a("../context.js"),e=a("./button.js"),f=function(a,b){e.call(this,a,b)};e.doSuperClassOf(f),f.prototype.type="undo",f.prototype.cssClass="zcrud-undo-command-button",f.prototype.bindableIn={formToolbar:!0,listToolbar:!0},f.prototype.disabled=!0,f.prototype.getTextsBundle=function(){return{title:void 0,content:{translate:!0,text:"Undo"}}},f.prototype.run=function(a,b){a.preventDefault(),a.stopPropagation(),d.getHistory().undo(b.getId())},b.exports=f},{"../context.js":27,"./button.js":1}],20:[function(a,b,c){"use strict";var d=(a("jquery"),a("../context.js")),e=function(a,b,c,d){this.options=a,this.thisOptions=b,this.parent=c,this.page=d};e.prototype.processDirty=function(a){if(!this.parent.isDirty())return void a();var b=this;d.confirm(this.options,{title:d.translate("dirtyPagingTitle"),text:d.translate("dirtyPagingText"),className:"wideConfirm",buttons:{cancel:d.translate("dirtyPagingCancel"),discard:{text:d.translate("dirtyPagingDiscard"),value:"discard"}}},function(c){"discard"==c&&(b.parent.removeChanges(),a())})},e.prototype.getOptions=function(){return this.options},e.prototype.getThisOptions=function(){return this.thisOptions},e.prototype.getParent=function(){return this.parent},e.prototype.getPage=function(){return this.page},e.prototype.validate=function(){return!0},e.prototype.resetPage=function(){},e.prototype.addToDataToSend=function(){},e.prototype.dataFromServer=function(){},e.prototype.bindEvents=function(){},e.prototype.bindEventsIn1Row=function(){},e.doSuperClassOf=function(a){a.prototype=new e,a.prototype.constructor=a},b.exports=e},{"../context.js":27,jquery:61}],21:[function(a,b,c){"use strict";var d=(a("../context.js"),a("jquery")),e=function(a,b,c,e){var f=a,g=b,h=c,i=e,j={},k=function(){l()},l=function(){for(var a in g){var b=g[a];b.isOn&&m(a,b)}},m=function(a,b){var c=b.constructorClass;j[a]=new c(f,b,h,i)},n=function(a){return j[a]},o=function(a){var b=n(a);if(b)return b;throw"Error in componentsMap trying to get component: "+a},p=function(){for(var a in j){j[a].resetPage()}},q=function(a){for(var b in j){j[b].addToDataToSend(a)}return a},r=function(a){for(var b in j){j[b].dataFromServer(a)}},s=function(){for(var a in j){j[a].bindEvents()}},t=function(a){for(var b in j){j[b].bindEventsIn1Row(a)}},u=function(){for(var a in j){var b=j[a],c=b.validate();if(!0!==c)return!!d.isPlainObject(c)&&c}return!0},v={getComponent:n,getSecureComponent:o,resetPage:p,addToDataToSend:q,dataFromServer:r,bindEvents:s,bindEventsIn1Row:t,validate:u};return k(),v};b.exports=e},{"../context.js":27,jquery:61}],22:[function(a,b,c){"use strict";var d=a("jquery"),e=a("../context.js"),f=a("./component.js"),g=a("../pages/pageUtils.js"),h=a("../history/history.js"),i=a("../crudManager.js"),j=a("../validationManager.js"),k=a("../fields/fieldUtils.js"),l=a("../utils.js"),m=function(a,b,c){f.call(this,a,b,c),this.listPage=c,this.autoSubmitMode=!1,e.setHistory(new h(this.options,this.thisOptions,this.listPage))};f.doSuperClassOf(m),m.prototype.bindEvents=function(){var a=d("#"+this.listPage.getId());this.bindEventsInRows(a);var b=this.listPage.getThisOptions().formId;j.initFormValidation(b,d("#"+b),this.options)},m.prototype.bindEventsInRows=function(a,b){var c=this;a.find(".zcrud-column-data input.historyField, .zcrud-column-data textarea.historyField, .zcrud-column-data select.historyField").change(function(a,b){if(!b){var f=d(this),g=c.listPage.getFieldByName(f.prop("name")),h=f.closest("tr");e.getHistory().putChange(f,g.getValue(f),h.attr("data-record-index"),h.attr("data-record-id"),c.listPage.getId(),g),c.autoSubmitMode&&c.submit.call(c,a)}}),this.listPage.bindButtonsEvent(this.listPage.getByRowButtons());var f=this.listPage.getInstanceDictionaryExtension(),g=this.listPage.getFields();b?this.bindEventsForFieldsAnd1Record(g,f,b,a):this.bindEventsForFieldsAndAllRecords(g,f,f.records)},m.prototype.bindEventsForFieldsAndAllRecords=function(a,b,c){for(var e=d("#"+this.listPage.getThisOptions().tbodyId).children().filter(".zcrud-data-row"),f=0;f<c.length;f++){var g=c[f];this.bindEventsForFieldsAnd1Record(a,b,g,e.filter(":eq("+f+")"))}},m.prototype.bindEventsForFieldsAnd1Record=function(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e];f.afterProcessTemplateForField(this.buildProcessTemplateParams(f,c,b),d)}},m.prototype.buildProcessTemplateParams=function(a,b,c){return{field:a,value:b[a.id],options:this.options,record:b,source:"update",dictionary:c}},m.prototype.deleteRow=function(a){var b=d(a.target).closest("tr");e.getHistory().putDelete(this.listPage.getId(),b.attr("data-record-id"),b.attr("data-record-index"),b.attr("data-record-key"),b),this.autoSubmitMode&&this.submit(a)},m.prototype.addNewRow=function(a){var b=k.buildDefaultValuesRecord(this.listPage.getFields()),c=this.buildDictionaryForNewRow(b),f=e.getHistory().putCreate(this.listPage.getId(),c,d("#"+this.listPage.getThisOptions().tbodyId),b),g=f.get$Tr();this.bindEventsInRows(g,b),j.initFormValidation(this.listPage.getThisOptions().formId,g,this.options)},m.prototype.buildDictionaryForNewRow=function(a){var b=l.extend({},this.listPage.getInstanceDictionaryExtension());return b.records=[a],b.editable=!0,b},m.prototype.undo=function(a){e.getHistory().undo(this.listPage.getId())},m.prototype.redo=function(a){e.getHistory().redo(this.listPage.getId())},m.prototype.submit=function(a){var b=this;this.parent.processDirty(this.thisOptions.confirm.save,"EditableList",function(){b.doSubmit(a)})},m.prototype.doSubmit=function(a){var b=this,c=e.getJSONBuilder(this.options).buildJSONForAll(this.thisOptions.key||this.options.key,this.listPage.getInstanceDictionaryExtension().records,this.listPage.getFields(),void 0,e.getHistory());if(!c)return e.showError(this.options,!1,"No operation to do!"),!1;var d={existingRecords:c.existingRecords,newRecords:c.newRecords,recordsToRemove:c.recordsToRemove,success:function(a){b.listPage.showStatusMessage({status:{message:"listUpdateSuccess",date:(new Date).toLocaleString()}});var d=b.updateRecords(c,a),f=b.listPage.getSecureComponent("paging");f&&f.dataFromClient(d),b.listPage.updateBottomPanel(),b.updateKeys(e.getHistory().getAllTr$FromCreateItems(),a.newRecords),e.getHistory().reset(b.listPage.getId())},error:function(a,c,d){g.ajaxError(a,c,d,b.options,e,void 0)},url:this.thisOptions.updateURL};return i.batchUpdate(d,this.options,{$form:this.listPage.get$form(),formType:"list",dataToSend:d,options:this.options}),c},m.prototype.updateRecords=function(a,b){var c=0,d=this.listPage.getRecords();for(var e in a.existingRecords){var f=a.existingRecords[e],g=d[e],h=f[this.options.key],i=l.extend(!0,{},g,f),j=e;h&&e!==h&&(delete d[e],e=h),this.listPage.updateRecord(j,i),this.triggerEvent(this.options.events.recordUpdated,d[e],b)}for(var k in b.newRecords){++c;var m=b.newRecords[k];e=m[this.options.key],this.listPage.addRecord(e,m),this.triggerEvent(this.options.events.recordAdded,m,b)}for(var n=0;n<a.recordsToRemove.length;n++){--c,e=a.recordsToRemove[n];var o=l.extend(!0,{},d[e]);this.listPage.deleteRecord(e),this.triggerEvent(this.options.events.recordDeleted,o,b)}return c},m.prototype.triggerEvent=function(a,b,c){a({record:b,serverResponse:c,options:this.options})},m.prototype.updateKeys=function(a,b){if(a.length!=b.length)return void e.showError(this.options,!0,"Error trying to update keys: $trArray and records length does not match!");for(var c=this.listPage.getField(this.options.key),d=0;d<b.length;++d){var f=b[d],g=a[d],h=f[this.options.key];c&&g.find("[name='"+c.id+"']").val(h),g.attr("data-record-key",h)}},m.prototype.removeChanges=function(){e.getHistory().reset(this.listPage.getId())},b.exports=m},{"../context.js":27,"../crudManager.js":28,"../fields/fieldUtils.js":36,"../history/history.js":45,"../pages/pageUtils.js":55,"../utils.js":57,"../validationManager.js":58,"./component.js":20,jquery:61}],23:[function(a,b,c){"use strict";var d=a("jquery"),e=(a("../context.js"),a("./component.js")),f=(a("../pages/pageUtils.js"),a("../fields/fieldUtils.js")),g=a("../fields/fieldListBuilder.js"),h=a("../utils.js"),i=function(a,b,c){e.call(this,a,b,c),this.cssClass="zcrud-filter-panel",this.filterRecord=void 0,this.fullFilter=void 0,this.fields=void 0};e.doSuperClassOf(i),i.prototype.getClass=function(){return this.cssClass},i.prototype.getFilter=function(){return this.fullFilter},i.prototype.bindEvents=function(){var a=this;this.get$().find(".zcrud-filter-submit-button").off().click(function(b){b.preventDefault(),a.filter()})},i.prototype.filter=function(){var a=this;this.processDirty(function(){a.doFilter()})},i.prototype.doFilter=function(){this.filterRecord=f.buildRecord(this.getFields(),this.parent.get$()),this.parent.goToFirstPage(),this.updateParent()},i.prototype.addToDataToSend=function(a){this.fullFilter=h.extend(!0,{},this.filterRecord,a.filter),d.isEmptyObject(this.fullFilter)||(a.filter=this.fullFilter)},i.prototype.updateParent=function(){if("subform"==this.parent.type)return void this.parent.update([this.parent.get$().find("thead")[0],this.parent.get$().find("tbody")[0],this.parent.getPagingComponent().get$()[0]]);this.parent.update()},i.prototype.get$=function(){return this.parent.get$().find("."+this.cssClass)},i.prototype.getFields=function(){return this.fields||(this.fields=this.buildFields()),this.fields},i.prototype.buildFields=function(){return g.getForList(this.thisOptions,this.options,this.parent.getFieldsSource()).fieldsArray},i.prototype.filterIsOn=function(){if(!this.fullFilter)return!1;for(var a in this.fullFilter){if(void 0!=this.fullFilter[a])return!0}return!1},i.prototype.getInitialRecord=function(){return{}},i.prototype.getParent=function(){return this.parent},i.prototype.validate=function(){return!this.thisOptions.forceToFilter||(!!this.filterIsOn()||{translate:!0,message:"forcedFilter"})},b.exports=i},{"../context.js":27,"../fields/fieldListBuilder.js":35,"../fields/fieldUtils.js":36,"../pages/pageUtils.js":55,"../utils.js":57,"./component.js":20,jquery:61}],24:[function(a,b,c){"use strict";var d=(a("../context.js"),a("./component.js")),e=a("../pages/pageUtils.js"),f=a("jquery"),g=function(a,b,c){d.call(this,a,b,c),this.cssClass="zcrud-bottom-panel",void 0==this.thisOptions.goToPageFieldClass&&(this.thisOptions.goToPageFieldClass="zcrud-go-to-page-field"),void 0==this.thisOptions.pageSizeChangeFieldClass&&(this.thisOptions.pageSizeChangeFieldClass="zcrud-page-size-change-field"),this.pageNumber=1,this.totalNumberOfRecords=void 0,this.pageSize=parseInt(this.thisOptions.defaultPageSize),this.pageSizeLocalStorageId="page-size",this.thisPageSize=void 0,this.records=void 0,this.localStorage=localStorage,this.loadSettings()};d.doSuperClassOf(g),g.prototype.getClass=function(){return this.cssClass},g.prototype.getRecords=function(){return this.records},g.prototype.loadSettings=function(){if(this.options.saveUserPreferences){var a=this.localStorage.getItem(this.pageSizeLocalStorageId);a&&(this.pageSize=e.normalizeNumber(a,1,1e6,this.thisOptions.defaultPageSize))}},g.prototype.saveSettings=function(){this.options.saveUserPreferences&&this.localStorage.setItem(this.pageSizeLocalStorageId,this.pageSize)},g.prototype.bindEventsToPageSizeChangeCombobox=function(){if(this.thisOptions.pageSizeChangeArea){var a=this;this.get$().find("."+this.thisOptions.pageSizeChangeFieldClass).off().change(function(){a.changePageSize(parseInt(f(this).val()))})}},g.prototype.updateParent=function(){if("subform"==this.parent.type)return void this.parent.update();this.parent.show({root:[f("#"+this.parent.getThisOptions().tbodyId)[0],this.get$()[0]]})},g.prototype.changePage=function(a){var b=this;this.processDirty(function(){b.doChangePage(a)})},g.prototype.doChangePage=function(a){(a=e.normalizeNumber(parseInt(a),1,this.calculatePageCount(),1))!=this.pageNumber&&(this.pageNumber=a,this.updateParent())},g.prototype.changePageSize=function(a){if(-1!=this.thisOptions.pageSizes.indexOf(a)&&a!=this.pageSize){var b=this;this.processDirty(function(){b.doChangePageSize(a)})}},g.prototype.doChangePageSize=function(a){this.pageSize=parseInt(a),this.pageNumber=1,this.saveSettings(),this.updateParent()},g.prototype.bindEventsToGoToPage=function(){var a=this;if(this.thisOptions.gotoPageFieldType&&"none"!=this.thisOptions.gotoPageFieldType){if("combobox"==this.thisOptions.gotoPageFieldType)return void this.get$().find("."+this.thisOptions.goToPageFieldClass).off().change(function(){a.changePage(parseInt(f(this).val()))});if("textbox"==this.thisOptions.gotoPageFieldType)return void this.get$().find("."+this.thisOptions.goToPageFieldClass).off().keypress(function(b){if(13==b.which)b.preventDefault(),a.changePage(parseInt(f(this).val()));else if(43==b.which)b.preventDefault(),a.changePage(a.pageNumber+1),a.get$().find("."+a.thisOptions.goToPageFieldClass).focus();else if(45==b.which)b.preventDefault(),a.changePage(a.pageNumber-1),a.get$().find("."+a.thisOptions.goToPageFieldClass).focus();else{var c=47<b.keyCode&&b.keyCode<58&&0==b.shiftKey&&0==b.altKey||8==b.keyCode||9==b.keyCode;c||b.preventDefault()}});throw"Not valid paging component / gotoPageFieldType value:"+this.thisOptions.gotoPageFieldType}},g.prototype.bindEventsToPageNumberButtons=function(){var a=this;this.get$().find(".zcrud-page-number,.zcrud-page-number-previous,.zcrud-page-number-next,.zcrud-page-number-first,.zcrud-page-number-last").not(".zcrud-page-number-disabled").off().click(function(b){b.preventDefault(),a.changePage(f(this)[0].getAttribute("data-page"))})},g.prototype.bindEvents=function(){this.bindEventsToPageNumberButtons(),this.bindEventsToGoToPage(),this.bindEventsToPageSizeChangeCombobox()},g.prototype.getPageSizes=function(){return this.thisOptions.pageSizes},g.prototype.addToDataToSend=function(a){a.pageNumber=parseInt(this.pageNumber),a.pageSize=parseInt(this.pageSize)},g.prototype.builPageList=function(a,b,c){for(var d=[],e=0;e<a*b;e+=b)d.push(c+e);return d},g.prototype.buildPageListInfo=function(a){var b={};b.block1OfPages=[],b.block2OfPages=[],b.block3OfPages=[];var c=e.normalizeNumber(this.thisOptions.maxNumberOfAllShownPages,4,100,4);if(a<c)b.block1OfPages=this.builPageList(a,1,1);else if(this.pageNumber<c){var d=e.normalizeNumber(this.thisOptions.block2NumberOfPages,2,100,5);b.block2OfPages=this.builPageList(d,1,1);var f=e.normalizeNumber(this.thisOptions.block3NumberOfPages,0,100,2);b.block3OfPages=this.builPageList(f,1,a-f+1)}else this.pageNumber>1+a-c?(b.block1OfPages=this.builPageList(e.normalizeNumber(this.thisOptions.block1NumberOfPages,0,100,2),1,1),d=e.normalizeNumber(this.thisOptions.block2NumberOfPages,2,100,3),b.block2OfPages=this.builPageList(d,1,a-d+1)):(b.block1OfPages=this.builPageList(e.normalizeNumber(this.thisOptions.block1NumberOfPages,0,100,2),1,1),d=e.normalizeNumber(this.thisOptions.block2NumberOfPages,3,100,3),b.block2OfPages=this.builPageList(d,1,Math.floor(this.pageNumber-d/2+1)),f=e.normalizeNumber(this.thisOptions.block3NumberOfPages,0,100,2),b.block3OfPages=this.builPageList(f,1,a-f+1));return this.mixBlocksOfPages(b),b},g.prototype.mixBlocksOfPages=function(a){var b=this.mix2BlocksOfPages(a.block2OfPages,a.block3OfPages);b&&(a.block2OfPages=b,a.block3OfPages=[]),(b=this.mix2BlocksOfPages(a.block1OfPages,a.block2OfPages))&&(a.block1OfPages=b,a.block2OfPages=[])},g.prototype.mix2BlocksOfPages=function(a,b){if(0==a.length)return b;if(!(1+a[a.length-1]<b[0]))return 1+a[a.length-1]==b[0]?a.concat(b):a.concat(b.filter(function(b){return a.indexOf(b)<0}))},g.prototype.buildInfo=function(){var a=(this.pageNumber-1)*this.pageSize,b=this.calculatePageCount();return{pageNumber:this.pageNumber,pageSize:this.pageSize,first:1+a,last:1+a+this.thisPageSize-1,totalNumberOfRecords:this.totalNumberOfRecords,numberOfPages:b,goToPageList:this.buildGoToPageList(b),pageListInfo:this.buildPageListInfo(b),isFirstPage:1==this.pageNumber,isLastPage:this.pageNumber==b||0==b}},g.prototype.dataFromServer=function(a){this.totalNumberOfRecords=a.totalNumberOfRecords,this.records=a.records||[],this.thisPageSize=this.records.length},g.prototype.dataFromClient=function(a){this.totalNumberOfRecords+=a,this.thisPageSize+=a},g.prototype.buildGoToPageList=function(a){var b=1;a>1e4?b=100:a>5e3?b=10:a>2e3?b=5:a>1e3&&(b=2);for(var c=[],d=b;d<=a;d+=b)c.push(d);return c},g.prototype.calculatePageCount=function(){var a=Math.floor(this.totalNumberOfRecords/this.pageSize);return this.totalNumberOfRecords%this.pageSize!=0&&++a,a},g.prototype.getPageSize=function(){return this.pageSize},g.prototype.setPageNumber=function(a){this.pageNumber=a},g.prototype.goToFirstPage=function(){this.setPageNumber(1)},g.prototype.getTotalNumberOfRecords=function(){return this.totalNumberOfRecords},g.prototype.get$=function(){return this.parent.get$().find("."+this.cssClass)},b.exports=g},{"../context.js":27,"../pages/pageUtils.js":55,"./component.js":20,jquery:61}],25:[function(a,b,c){"use strict";var d=a("jquery"),e=(a("../context.js"),a("./component.js")),f=a("../pages/pageUtils.js"),g=(a("../fields/fieldUtils.js"),function(a,b,c,d){e.call(this,a,b,c,d),this.shiftKeyDown=!1,this.modeOnRowClickOn=-1!=this.thisOptions.mode.indexOf("onRowClick"),this.modeCheckBoxOn=-1!=this.thisOptions.mode.indexOf("checkbox")});e.doSuperClassOf(g),g.prototype.bindKeyboardEvents=function(){var a=this;d(document).keydown(function(b){switch(b.which){case 16:a.shiftKeyDown=!0}}).keyup(function(b){switch(b.which){case 16:a.shiftKeyDown=!1}})},g.prototype.get$selectAllCheckbox=function(){return this.parent.get$().find(".zcrud-select-all-rows")},g.prototype.get$allTableRows=function(){return this.parent.get$().find("tr.zcrud-data-row")},g.prototype.bindSelectAllHeader=function(){var a=this;this.get$selectAllCheckbox().click(function(){var b=a.get$allTableRows();if(b.length<=0)return void a.get$selectAllCheckbox().attr("checked",!1);d(this).is(":checked")?a._selectRows(b):a._deselectRows(b),a.onSelectionChanged()})},g.prototype.bindRowsEvents=function(a){var b=this;this.modeOnRowClickOn&&a.click(function(){b.invertRowSelection(d(this))}),!this.modeOnRowClickOn&&this.modeCheckBoxOn&&a.find(".zcrud-select-row").click(function(){b.invertRowSelection(d(this).parents("tr"))})},g.prototype.bindEventsIn1Row=function(a){this.bindRowsEvents(a)},g.prototype.bindEvents=function(){this.bindKeyboardEvents(),this.bindSelectAllHeader(),this.bindRowsEvents(this.get$allTableRows())},g.prototype.invertRowSelection=function(a){if(a.hasClass("zcrud-row-selected"))this._deselectRows(a);else if(this.shiftKeyDown){var b=this.buildMappedArray(this.get$allTableRows()),c=this.findRowIndex(a,b),d=this.findFirstSelectedRowIndexBeforeIndex(c,b)+1;if(d>0&&d<c)this._selectRows(this.buildJqueryWrapped(b.slice(d,c+1)));else{var e=this.findFirstSelectedRowIndexAfterIndex(c,b)-1;e>c?this._selectRows(this.buildJqueryWrapped(b.slice(c,e+1))):this._selectRows(a)}}else this._selectRows(a);this.onSelectionChanged()},g.prototype.findRowIndex=function(a,b){return f.findIndexInArray(a,b,function(a,b){return a.html()===b.html()})},g.prototype.buildMappedArray=function(a){return a.map(function(a,b){return d(this)}).get()},g.prototype.buildJqueryWrapped=function(a){return d(a).map(function(){return this.toArray()})},g.prototype.findFirstSelectedRowIndexBeforeIndex=function(a,b){for(var c=a-1;c>=0;--c)if(b[c].hasClass("zcrud-row-selected"))return c;return-1},g.prototype.findFirstSelectedRowIndexAfterIndex=function(a,b){for(var c=a+1;c<b.length;++c)if(b[c].hasClass("zcrud-row-selected"))return c;return-1},g.prototype._selectRows=function(a){this.thisOptions.multiple||this._deselectRows(this.get$selectedRows()),a.addClass("zcrud-row-selected"),this.modeCheckBoxOn&&a.find(".zcrud-select-row").prop("checked",!0),this.refreshSelectAllCheckboxState()},g.prototype._deselectRows=function(a){a.removeClass("zcrud-row-selected"),this.modeCheckBoxOn&&a.find(".zcrud-select-row").prop("checked",!1),this.refreshSelectAllCheckboxState()},g.prototype.refreshSelectAllCheckboxState=function(){if(this.modeCheckBoxOn&&this.thisOptions.multiple){var a=this.get$allTableRows().length,b=this.get$selectedRows().length;0==b?(this.get$selectAllCheckbox().prop("indeterminate",!1),this.get$selectAllCheckbox().attr("checked",!1)):b==a?(this.get$selectAllCheckbox().prop("indeterminate",!1),this.get$selectAllCheckbox().attr("checked",!0)):(this.get$selectAllCheckbox().attr("checked",!1),this.get$selectAllCheckbox().prop("indeterminate",!0))}},g.prototype.deselectAll=function(){this.deselectRows(this.get$allTableRows())},g.prototype.selectRows=function(a){this._selectRows(a),this.onSelectionChanged()},g.prototype.deselectRows=function(a){this._deselectRows(a),this.onSelectionChanged()},g.prototype.selectRecords=function(a){this.selectionOperationOnRecords(a,this.selectRows)},g.prototype.deselectRecords=function(a){this.selectionOperationOnRecords(a,this.deselectRows)},g.prototype.selectionOperationOnRecords=function(a,b){if(a){for(var c="",d=0;d<a.length;++d){var e=a[d];d>0&&(c+=", ");c+="[data-record-key='"+e[this.options.key]+"']"}c&&b.call(this,this.get$allTableRows().filter(c))}},g.prototype.get$selectedRows=function(){return this.parent.get$().find(".zcrud-row-selected:not(.zcrud-hidden)")},g.prototype.getSelectedRows=g.prototype.get$selectedRows,g.prototype.getSelectedRecords=function(){var a=[],b=this;return this.get$selectedRows().each(function(c){var e,f=d(this),g=f.data("record-key");if(void 0!=g)e=b.parent.getRecordByKey(g,f,!0);else{var h=f.data("record-id");if(void 0==h)throw"No selected row!";e=b.parent.getFromAddedRecords(h)}a.push(e)}),a},g.prototype.onSelectionChanged=function(){this.options.events.selectionChanged({$rows:this.get$selectedRows(),records:this.getSelectedRecords(),options:this.options})},g.prototype.resetPage=function(){this.get$selectAllCheckbox().prop("indeterminate",!1).attr("checked",!1)},b.exports=g},{"../context.js":27,"../fields/fieldUtils.js":36,"../pages/pageUtils.js":55,"./component.js":20,jquery:61}],26:[function(a,b,c){"use strict";var d=(a("../context.js"),a("./component.js")),e=a("jquery"),f=function(a,b,c){d.call(this,a,b,c),this.localStorage=localStorage,this.sortFieldId=this.thisOptions.default.fieldId,this.sortType=this.thisOptions.default.type,this.sortFieldIdLocalStorageId="sort-field-id",this.sortTypeLocalStorageId="sort-type",this.loadSettings()};d.doSuperClassOf(f),f.prototype.loadSettings=function(){if(this.options.saveUserPreferences&&this.thisOptions.loadFromLocalStorage){var a=this.localStorage.getItem(this.sortFieldIdLocalStorageId);a&&(this.sortFieldId=a);var b=this.localStorage.getItem(this.sortTypeLocalStorageId);b&&(this.sortType=b)}},f.prototype.saveSettings=function(){this.options.saveUserPreferences&&(this.localStorage.setItem(this.sortFieldIdLocalStorageId,this.sortFieldId),this.localStorage.setItem(this.sortTypeLocalStorageId,this.sortType))},f.prototype.bindEvents=function(){var a=this;this.parent.get$().find(".zcrud-column-header-sortable").off().click(function(b){b.preventDefault(),a.changeSort(e(this).data("sort-field-id"),e(this).data("sort-type"))})},f.prototype.changeSort=function(a,b){var c=this;this.processDirty(function(){c.doChangeSort(a,b)})},f.prototype.doChangeSort=function(a,b){this.sortFieldId=a,this.sortType=b&&"asc"==b?"desc":"asc",this.saveSettings(),this.updateParent()},f.prototype.updateParent=function(){if("subform"==this.parent.type)return void this.parent.update([this.parent.get$().find("thead")[0],this.parent.get$().find("tbody")[0],this.parent.getPagingComponent().get$()[0]]);this.parent.show({root:[e("#"+this.parent.getThisOptions().tableId)[0]]})},f.prototype.addToDataToSend=function(a){this.sortFieldId&&(a.sortFieldId=this.sortFieldId),this.sortType&&(a.sortType=this.sortType)},f.prototype.getSortFieldId=function(){return this.sortFieldId},f.prototype.getSortType=function(){return this.sortType},f.prototype.getTypeForFieldId=function(a){return a!==this.sortFieldId?null:this.sortType},b.exports=f},{"../context.js":27,"./component.js":20,jquery:61}],27:[function(a,b,c){b.exports=function(){"use strict";var b,c=(a("jquery"),a("zpt")),d=(a("./pages/pageUtils.js"),"-"),e={},f=function(a,b){e[a]=b},g=function(a){return e[a]},h=void 0,i=function(a){h=a},j=function(a,b,d,e){return c.i18nHelper.tr(h,a,b,d||"string",e)},k=function(a,b,c,d,e,f,g){var h=d?j(c,e,f,g):c;if(a.errorFunction(h),b)throw h},l=function(a,b,c){a.confirmFunction(b,c)},m=function(a,b){a.showMessageFunction(b)},n=function(a){var b=a+"-formValidationLanguage",c=g(b);return c||(c={errorTitle:j("errorTitle"),requiredFields:j("requiredFields"),badTime:j("badTime"),badEmail:j("badEmail"),badTelephone:j("badTelephone"),badSecurityAnswer:j("badSecurityAnswer"),badDate:j("badDate"),lengthBadStart:j("lengthBadStart"),lengthBadEnd:j("lengthBadEnd"),lengthTooLongStart:j("lengthTooLongStart"),lengthTooShortStart:j("lengthTooShortStart"),notConfirmed:j("notConfirmed"),badDomain:j("badDomain"),badUrl:j("badUrl"),badCustomVal:j("badCustomVal"),andSpaces:j("andSpaces"),badInt:j("badInt"),badSecurityNumber:j("badSecurityNumber"),badUKVatAnswer:j("badUKVatAnswer"),badStrength:j("badStrength"),badNumberOfSelectedOptionsStart:j("badNumberOfSelectedOptionsStart"),badNumberOfSelectedOptionsEnd:j("badNumberOfSelectedOptionsEnd"),badAlphaNumeric:j("badAlphaNumeric"),badAlphaNumericExtra:j("badAlphaNumericExtra"),wrongFileSize:j("wrongFileSize"),wrongFileType:j("wrongFileType"),groupCheckedRangeStart:j("groupCheckedRangeStart"),groupCheckedTooFewStart:j("groupCheckedTooFewStart"),groupCheckedTooManyStart:j("groupCheckedTooManyStart"),groupCheckedEnd:j("groupCheckedEnd"),badCreditCard:j("badCreditCard"),badCVV:j("badCVV"),wrongFileDim:j("wrongFileDim"),imageTooTall:j("imageTooTall"),imageTooWide:j("imageTooWide"),imageTooSmall:j("imageTooSmall"),min:j("min"),max:j("max"),imageRatioNotAccepted:j("imageRatioNotAccepted")},f(b,c)),c},o=function(a,b){f("options_"+s(a),b)},p=function(a){return g("options_"+s(a))},q=function(a,b){f("page_"+a,b)},r=function(a){return g("page_"+a)},s=function(a){return void 0!==a.attr("id")||null!==a.attr("id")?"#"+a.attr("id"):"."+a.attr("class")},t=function(a){try{var b="object"==typeof a?a.pageConf.pages.list.id:a}catch(a){return alert("Exception trying to get options.pageConf.pages.list.id!"),!1}return r(b)},u=function(a){try{var b="object"==typeof a?a.formId:a}catch(a){return alert("Exception trying to get options.pageConf.pages.list.id!"),!1}return r(b)},v=function(a,b){if(a){var c=a.indexOf("@");if(-1!=c){var d=a.substring(1+c);-1==b.indexOf(d)&&b.push(d)}}},w=function(a,b){a.pageConf.pages.create.fields=b,a.pageConf.pages.update.fields=b,a.pageConf.pages.delete.fields=b},x=function(a,b){a.pageConf.pages.list.fields=b},y=function(a,b){for(var c=a.fields,d={},e=0;e<b.length;++e){var f=b[e];d[f]=c[f]}a.fields=d},z=function(a,b){var c=A(b);return c.subformName?a[c.subformName].fields[c.name]:a[c.name]},A=function(a){var b=a.indexOf(d);return{subformName:-1===b?null:a.substring(0,b),name:-1===b?a:a.substring(1+b)}},B=function(a){return a.jsonBuilder},C=void 0,D=function(a){C=a},E=function(){return C},F=void 0,G=function(a){F=a},H=function(){return F},I=function(a,b){return b+a.subformsRecordsSuffix},J=function(a,b){return K(b,a.subformsRecordsSuffix)},K=function(a,b){return a.replace(b,"")};return{put:f,get:g,setI18nArray:i,translate:j,showError:k,confirm:l,showMessage:m,getFormValidationLanguage:n,putOptions:o,getOptions:p,putPage:q,getPage:r,getSelectorString:s,getListPage:t,getFormPage:u,declareRemotePageUrl:v,updateFormVisibleFields:w,updateListVisibleFields:x,updateSubformFields:y,getField:z,getFieldData:A,subformSeparator:d,getJSONBuilder:B,setFieldBuilder:D,getFieldBuilder:E,setHistory:G,getHistory:H,buildSubformsRecordsIdFromFieldId:I,buildFieldIdFromSubformsRecordsId:J,setDictionary:function(a){b=a},getDictionary:function(){return b}}}()},{"./pages/pageUtils.js":55,jquery:61,zpt:135}],28:[function(a,b,c){"use strict";var d=(a("jquery"),a("./context.js")),e=a("./validationManager.js"),f=a("./pages/pageUtils.js"),g=a("./utils.js");b.exports=function(){var a=function(a,b,c){try{if("OK"!=c.result)return void f.serverSideError(c,b,d);a.ajaxPostFilterOff||(c=b.ajax.ajaxPostFilter(c)),a.success&&a.success(c)}catch(a){d.showError(b,!1,"Error in crudManager: "+(a.message||a))}},b=function(a,b,c){a.ajaxPostFilterOff||(c=b.ajax.ajaxPostFilter(c)),a.error&&a.error(c)},c=function(a,b,c){return!!a.formValidationOff||e.formIsValid(b,c)};return{listRecords:function(c,d){var e=c.search;e.command="listRecords";var f=function(b){a(c,d,b)},h=function(a){b(c,d,a)};if(c.clientOnly)return void f(c.ajaxPreFilterOff?c.records:d.ajax.ajaxPreFilter(c.records));var i={url:c.url,data:c.ajaxPreFilterOff?e:d.ajax.ajaxPreFilter(e),success:f,error:h};d.ajax.ajaxFunction(g.extend({},d.ajax.defaultFormAjaxOptions,i))},batchUpdate:function(e,f,h){var i=e;i.command="batchUpdate";var j=function(b){a(e,f,b)},k=function(a){b(e,f,a)},l=c(e,f,h);if(e.clientOnly)return void(!0===l?(i.result="OK",j(e.ajaxPreFilterOff?i:f.ajax.ajaxPreFilter(i))):k(e.ajaxPreFilterOff?i:f.ajax.ajaxPreFilter(i)));var m={url:e.url,data:e.ajaxPreFilterOff?i:f.ajax.ajaxPreFilter(i),success:j,error:k};if(!0===l)f.ajax.ajaxFunction(g.extend(!1,{},f.ajax.defaultFormAjaxOptions,m));else{var n,o;l.message?(n=l.message,o=l.translate):(n="invalidFormData",o=!0),d.showError(f,!1,n,o)}},getRecord:function(c,e){if(!c.url)return void d.showError(e,!1,"Please, set URL to get record from server!");var f=c.search;f.command="getRecord";var h=function(b){a(c,e,b)},i=function(a){b(c,e,a)},j={url:c.url,data:c.ajaxPreFilterOff?f:e.ajax.ajaxPreFilter(f),success:h,error:i};e.ajax.ajaxFunction(g.extend(!1,{},e.ajax.defaultFormAjaxOptions,j))},getOptions:function(a,b,c){var d=[],e={url:b,async:!1,success:function(a){if(a=c.ajax.ajaxPostFilter(a),"OK"!=a.result)throw"Error downloading options:"+a.message;d=a.options},error:function(){throw"Can not load options for "+a}};return c.ajax.ajaxFunction(g.extend(!1,{},c.ajax.defaultFormAjaxOptions,e)),d}}}()},{"./context.js":27,"./pages/pageUtils.js":55,"./utils.js":57,"./validationManager.js":58,jquery:61}],29:[function(a,b,c){"use strict";var d=a("jquery"),e=(a("log4javascript"),a("./utils.js"));b.exports={validation:{modules:"",rules:{},configuration:{errorMessageClass:"form-error-inline-absolute",borderColorOnError:""}},dictionary:{},saveUserPreferences:!0,entityId:"entity",defaultComponentsConfig:{paging:{isOn:!1,constructorClass:a("./components/pagingComponent.js"),defaultPageSize:10,pageSizes:[10,25,50,100,250,500],pageSizeChangeArea:!0,gotoPageFieldType:"combobox",gotoPageFieldAttributes:{},maxNumberOfAllShownPages:5,block1NumberOfPages:1,block2NumberOfPages:5,block3NumberOfPages:1},sorting:{isOn:!1,constructorClass:a("./components/sortingComponent.js"),loadFromLocalStorage:!0,default:{fieldId:void 0,type:void 0},allowUser:!1},filtering:{isOn:!1,constructorClass:a("./components/filteringComponent.js"),fieldsTemplate:"compact-editable@templates/fieldLists.html"},selecting:{isOn:!1,constructorClass:a("./components/selectingComponent.js"),multiple:!0,mode:["checkbox","onRowClick"]},editing:{isOn:!1,constructorClass:a("./components/editingComponent.js"),modifiedFieldsClass:"zcrud-modified-field",modifiedRowsClass:"zcrud-modified-row",hideTr:function(a){a.fadeOut()},showTr:function(a){a.fadeIn()},confirm:{save:!0}}},fields:{},fieldsConfig:{constructors:{default:a("./fields/field.js"),mapping:[{fieldTypes:["date","datetime","time"],constructor:a("./fields/datetime.js")},{fieldTypes:["datalist","select","radio","checkboxes"],constructor:a("./fields/optionsField.js")},{fieldTypes:["checkbox"],constructor:a("./fields/checkbox.js")},{fieldTypes:["subform"],constructor:a("./fields/subform.js")}]},defaultFieldOptions:{datetime:{inline:!1,minYear:1950,maxYear:2050,maxHour:23,minutesStep:5,timerDelay:100},date:{inline:!1,minYear:1950,maxYear:2050},time:{inline:!1,maxHour:99,minutesStep:5,timerDelay:100},subform:{buttons:{toolbar:["subform_addNewRow"],byRow:["subform_deleteRow"]},components:{}},textarea:{attributes:{field:{rows:6,cols:80}}}},getDefaultFieldTemplate:function(a){return a.type+"@templates/fields/basic.html"}},containers:{types:{fieldSet:{template:"fieldSet@templates/containers/basic.html"},div:{template:"div@templates/containers/basic.html"}}},events:{formClosed:function(a,b){},formCreated:function(a){},formSubmitting:function(a,b){},recordAdded:function(a,b){},recordDeleted:function(a,b){},recordUpdated:function(a,b){},formBatchUpdated:function(a,b){},selectionChanged:function(a){},listCreated:function(a){}},buttons:{generic:a("./buttons/genericButton.js"),undo:a("./buttons/undoButton.js"),redo:a("./buttons/redoButton.js"),form_cancel:a("./buttons/formPage/cancelButton.js"),form_copySubformRows:a("./buttons/formPage/copySubformRowsButton.js"),form_submit:a("./buttons/formPage/submitButton.js"),list_addNewRow:a("./buttons/listPage/addNewRowButton.js"),list_deleteRow:a("./buttons/listPage/deleteRowButton.js"),list_showCreateForm:a("./buttons/listPage/showCreateFormButton.js"),list_showDeleteForm:a("./buttons/listPage/showDeleteFormButton.js"),list_showEditForm:a("./buttons/listPage/showEditFormButton.js"),list_submit:a("./buttons/listPage/submitButton.js"),subform_addNewRow:a("./buttons/subform/addNewRowButton.js"),subform_deleteRow:a("./buttons/subform/deleteRowButton.js"),subform_showCreateForm:a("./buttons/subform/showCreateFormButton.js"),subform_showDeleteForm:a("./buttons/subform/showDeleteFormButton.js"),subform_showEditForm:a("./buttons/subform/showEditFormButton.js")},pageConf:{defaultPageConf:{showStatus:!1,modifiedFieldsClass:"zcrud-modified-field",modifiedRowsClass:"zcrud-modified-row",hideTr:function(a){a.fadeOut()},showTr:function(a){a.fadeIn()},buttons:{byRow:[]},confirm:{save:!0,cancel:!0}},pages:{list:{template:"listDefaultTemplate@templates/lists.html",showStatus:!0,components:{paging:{isOn:!0}},buttons:{toolbar:["list_showCreateForm"],byRow:["list_showEditForm","list_showDeleteForm"]}},create:{template:"formDefaultTemplate@templates/forms.html",components:{},buttons:{toolbar:["undo","redo","form_cancel","form_submit"]}},update:{template:"formDefaultTemplate@templates/forms.html",components:{},buttons:{toolbar:["undo","redo","form_cancel","form_submit"]}},delete:{template:"deleteDefaultTemplate@templates/forms.html",components:{},buttons:{toolbar:["form_cancel","form_submit"]}},customForm:{template:"formDefaultTemplate@templates/forms.html",showStatus:!0,components:{paging:{isOn:!0}},buttons:{toolbar:["list_showCreateForm"],byRow:["list_showEditForm","list_showDeleteForm"]}}}},filesPathPrefix:"",templates:{filesPath:"/",declaredRemotePageUrls:["templates/lists.html","templates/fieldLists.html"]},ajax:{ajaxFunction:d.ajax,defaultFormAjaxOptions:{dataType:"json",contentType:"application/json; charset=UTF-8",type:"POST"},ajaxPreFilter:function(a){return a},ajaxPostFilter:function(a){return a}},i18n:{language:"en",filesPath:"/i18n/",files:{en:["en-common.json"],es:["es-common.json"]}},logging:{isOn:!1,level:"error"},jsonBuilder:a("./jsonBuilders/onlyChangesJSONBuilder.js"),defaultErrorOptions:{icon:"error",closeOnClickOutside:!1,title:"Oops..."},errorFunction:function(b){var c=a("sweetalert"),d=e.extend(!0,{},this.defaultErrorOptions);d.text=b,c(d)},defaultConfirmOptions:{icon:"warning",dangerMode:!0,closeOnClickOutside:!1,className:"confirm"},confirmFunction:function(b,c){a("sweetalert")(e.extend(!0,{},this.defaultConfirmOptions,b)).then(c)},defaultShowMessageOptions:{icon:"info",closeOnClickOutside:!1,className:"showMessage"},showMessageFunction:function(b){a("sweetalert")(e.extend(!0,{},this.defaultShowMessageOptions,b))},subformsRecordsSuffix:"ZCrudRecords"}},{"./buttons/formPage/cancelButton.js":3,"./buttons/formPage/copySubformRowsButton.js":4,"./buttons/formPage/submitButton.js":5,"./buttons/genericButton.js":6,"./buttons/listPage/addNewRowButton.js":7,"./buttons/listPage/deleteRowButton.js":8,"./buttons/listPage/showCreateFormButton.js":9,"./buttons/listPage/showDeleteFormButton.js":10,"./buttons/listPage/showEditFormButton.js":11,"./buttons/listPage/submitButton.js":12,"./buttons/redoButton.js":13,"./buttons/subform/addNewRowButton.js":14,"./buttons/subform/deleteRowButton.js":15,"./buttons/subform/showCreateFormButton.js":16,"./buttons/subform/showDeleteFormButton.js":17,"./buttons/subform/showEditFormButton.js":18,"./buttons/undoButton.js":19,"./components/editingComponent.js":22,"./components/filteringComponent.js":23,"./components/pagingComponent.js":24,"./components/selectingComponent.js":25,"./components/sortingComponent.js":26,"./fields/checkbox.js":30,"./fields/datetime.js":32,"./fields/field.js":33,"./fields/optionsField.js":38,"./fields/subform.js":39,"./jsonBuilders/onlyChangesJSONBuilder.js":49,"./utils.js":57,jquery:61,log4javascript:63,sweetalert:66}],30:[function(a,b,c){"use strict";var d=a("./field.js"),e=a("../context.js"),f=function(a){d.call(this,a)};f.prototype=new d,f.prototype.constructor=f,f.prototype.getValue=function(a){return a.is(":checked")},f.prototype.getValueFromForm=function(a){return a.find("[name='"+this.name+"']").is(":checked")},f.prototype.setValueToForm=function(a,b){b.prop("checked",void 0!==a&&a),this.throwEventsForSetValueToForm(b)},f.prototype.getValueFromRecord=function(a){var b=a[this.id];return!1===b||!0===b?b:"true"==b},f.prototype.getViewValueFromRecord=function(a){return this.getValueFromRecord(a)?e.translate("true"):e.translate("false")},f.prototype.getValueFromSelection=function(a){return"true"==d.prototype.getValueFromSelection.call(this,a).toLowerCase()},b.exports=f},{"../context.js":27,"./field.js":33}],31:[function(a,b,c){"use strict";var d=(a("jquery"),a("../buttons/buttonUtils.js")),e=a("../utils.js"),f=function(a){e.extend(this,a)};f.prototype.getToolbarButtons=function(){if(void 0==this.toolbarButtons&&this.buttons){this.toolbarButtons=d.getButtonList(this.buttons,"containerToolbar",this,this.options);for(var a=0;a<this.toolbarButtons.length;++a)this.toolbarButtons[a].setContainer(this)}return this.toolbarButtons},b.exports=f},{"../buttons/buttonUtils.js":2,"../utils.js":57,jquery:61}],32:[function(a,b,c){"use strict";var d=a("./field.js"),e=a("../context.js"),f=a("jquery"),g=a("zpt"),h=a("../../../lib/php-date-formatter.js"),i=function(a){d.call(this,a),this.dictionary=void 0,this.currentTimer=void 0};i.prototype=new d,i.prototype.constructor=i,i.prototype.selectedDateClass="current",i.prototype.pickerValueAttr="data-picker-value",i.prototype.weekDays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i.prototype.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],i.prototype.weekInitDone=!1,i.prototype.dateFormatter=new h,i.prototype.filterValue=function(a){return this.getValueFromString(a[this.id])},i.prototype.setValueToForm=function(a,b){switch(this.type){case"datetime":var c=!0;case"date":return this.setValueToFormForDatetime(a,b,c),void this.throwEventsForSetValueToForm(b);case"time":return this.setValueToFormForTime(a,b),void this.throwEventsForSetValueToForm(b)}throw"Unknown type in Datetime: "+this.type},i.prototype.setValueToFormForTime=function(a,b){if(b.val(a).attr(this.pickerValueAttr,a),this.inline){var c=this.get$datetime(b.parents(".zcrud-data-entity").first()),d=this.buildTimeObjectFromString(a);this.updateTime(c,d)}},i.prototype.setValueToFormForDatetime=function(a,b,c){var d=this.formatToClient(a);if(b.val(d).attr(this.pickerValueAttr,d),this.inline){var e=this.get$datetime(b.parents(".zcrud-data-entity").first());if(this.dictionary.field=this,this.dictionary.value=a,this.goToDate(a,e,this.dictionary),c){var f=this.buildTimeObjectFromHoursAndMinutes(a?a.getHours():0,a?a.getMinutes():0);this.updateTime(e,f)}}},i.prototype.updateTime=function(a,b){var c=this.get$timePicker(a);this.get$hoursByTimePicker(c).text(b.hoursToShow),this.get$minutesByTimePicker(c).text(b.minutesToShow)},i.prototype.parseDate=function(a){return this.dateFormatter.parseDate(a,this.getI18nFormat())},i.prototype.getValueFromString=function(a){switch(this.type){case"date":case"datetime":return a?this.parseDate(a):void 0;case"time":return a}throw"Unknown type in Datetime: "+this.type},i.prototype.getValue=function(a){return this.getValueFromString(a.val())},i.prototype.afterProcessTemplateForField=function(a,b){this.isReadOnly()||this.afterProcessTemplateForFieldInCreateOrUpdate(a,b)},i.prototype.afterProcessTemplateForFieldInCreateOrUpdate=function(a,b){var c=!1,d=!1;switch(this.type){case"date":c=!0;break;case"datetime":c=!0,d=!0;break;case"time":d=!0;break;default:throw"Unknown type in Datetime: "+this.type}this.buildDictionaryFromParams(a),this.bindEvents(a,b,c,d)},i.prototype.getTemplate=function(){return this.type+"@templates/fields/datetime.html"},i.prototype.getI18nFormat=function(){var a=this.type+"Format";return e.translate(a)},i.prototype.getValueFromForm=function(a){return this.inline?this.getValueFromFormForInline(a):this.getValueFromFormForNotInline(a)},i.prototype.getValueFromFormForNotInline=function(a){var b=a.find("[name='"+this.name+"']").val();return b&&0!=b.length&&"time"!=this.type?this.parseDate(b):b},i.prototype.getValueFromFormForInline=function(a){return this.buildDatetimeInstance(this.get$datetime(a))},i.prototype.getValueFromRecord=function(a){var b=a[this.id];if(!b||0==b.length)return b;switch(this.type){case"date":case"datetime":return new Date(b);case"time":return b}throw"Unknown type in Datetime: "+this.type},i.prototype.getViewValueFromRecord=function(a){var b=a[this.id];if(!b||0==b.length)return b;switch(this.type){case"date":case"datetime":var c=new Date(b);return this.formatToClient(c);case"time":return b}throw"Unknown type in Datetime: "+this.type},i.prototype.getTimeInfo=function(a){return this.buildTimeObjectFromString(a)},i.prototype.buildTimeObjectFromString=function(a){var b=0,c=0,d=a?a.split(":"):void 0;return d&&2==d.length&&!isNaN(d[0])&&!isNaN(d[1])&&d[0]>=0&&d[1]>=0&&d[0]<=this.maxHour&&d[1]<=59&&(c=d[0],b=d[1]),this.buildTimeObjectFromHoursAndMinutes(c,b)},i.prototype.buildTimeObjectFromDateInstance=function(a){var b=a?a.getMinutes():0,c=a?a.getHours():0;return this.buildTimeObjectFromHoursAndMinutes(c,b)},i.prototype.buildTimeObjectFromHoursAndMinutes=function(a,b){return{minutes:b,minutesToShow:this.formatTimeNumber(b,59),hours:a,hoursToShow:this.formatTimeNumber(a,this.maxHour)}},i.prototype.formatTimeNumber=function(a,b){var c=(""+b).length,d=""+a;return d.length>=c?d:new Array(c-d.length+1).join("0")+d},i.prototype.getDateInfo=function(a){var b=this.getReferenceDate(a);return this.getDateInfoFromObject(b,a)},i.prototype.getDateInfoFromObject=function(a,b){return{years:this.buildYears(a),months:this.buildMonths(a),weekDays:this.getWeekDays(),daysInWeeks:this.buildDaysInWeeks(a,b,e.translate("dayOfWeekStart"))}},i.prototype.getReferenceDate=function(a){var b=void 0;return a?b=a:(b=new Date,b.setHours(0),b.setMinutes(0)),b},i.prototype.getDateTimeInfo=function(a){var b=this.getReferenceDate(a),c=this.buildTimeStringFromDate(b);return{dateInfo:this.getDateInfoFromObject(b,a),timeInfo:this.getTimeInfo(c)}},i.prototype.buildTimeStringFromDate=function(a){return this.buildTimeString(a.getHours(),a.getMinutes())},i.prototype.getWeekDays=function(){if(!this.weekInitDone){var a=e.translate("dayOfWeekStart");0!=a&&(this.weekDays=this.weekDays.slice(a).concat(this.weekDays.slice(0,a))),this.weekInitDone=!0}return this.weekDays},i.prototype.buildYears=function(a){for(var b=a.getFullYear(),c=this.minYear,d=this.maxYear,e=[],f=c;f<=d;++f)e.push({value:f,current:b==f});return e},i.prototype.buildMonths=function(a){for(var b=a.getMonth(),c=[],d=0;d<12;++d)c.push({value:d,name:this.monthNames[d],current:b==d});return c},i.prototype.buildDaysInWeeks=function(a,b,c){for(var d=a.countDaysInMonth(),e=new Date(a.getFullYear(),a.getMonth(),1,0,0,0);e.getDay()!=c;)e.setDate(e.getDate()-1),++d;var f=new Date;f=new Date(f.getFullYear(),f.getMonth(),f.getDate(),0,0,0);for(var g=[],h=[],i=0;++i<=d||e.getDay()!=c;){var j=e.getDay(),k={day:e.getDate(),month:e.getMonth(),year:e.getFullYear(),dayOfWeek:e.getDay(),current:e.dateEquals(b),today:f.dateEquals(e),otherMonth:a.getMonth()!==e.getMonth(),weekEnd:0==j||6==j};if(g.push(k),i%7==0){var l=g.slice();h.push(l),g=[]}e.setDate(e.getDate()+1)}return h},i.prototype.get$datePicker=function(a){return f(a.target).closest(".datepicker")},i.prototype.getSelectedDate=function(a,b,c){c=c||this.get$datePicker(a);var d=c.find("[name='datepicker-year']").val(),e=c.find("[name='datepicker-month']").val();return new Date(d,e,1,0,0,0)},i.prototype.getSelectedYearAndMonthDate=function(a,b){return this.getSelectedDate(a,void 0,b)},i.prototype.goToPreviousMonth=function(a,b,c){var d=this.getSelectedYearAndMonthDate(a);0==d.getMonth()?(d.setFullYear(d.getFullYear()-1),d.setMonth(11)):d.setMonth(d.getMonth()-1),this.goToDate(d,b,this.buildDictionaryFromParams(c))},i.prototype.goToNextMonth=function(a,b,c){var d=this.getSelectedYearAndMonthDate(a);11==d.getMonth()?(d.setFullYear(d.getFullYear()+1),d.setMonth(0)):d.setMonth(d.getMonth()+1),this.goToDate(d,b,this.buildDictionaryFromParams(c))},i.prototype.goToPreviousYear=function(a,b,c){var d=this.getSelectedYearAndMonthDate(a);d.setFullYear(d.getFullYear()-1),this.goToDate(d,b,this.buildDictionaryFromParams(c))},i.prototype.goToNextYear=function(a,b,c){var d=this.getSelectedYearAndMonthDate(a);d.setFullYear(d.getFullYear()+1),this.goToDate(d,b,this.buildDictionaryFromParams(c))},i.prototype.update=function(a,b,c){var d=this.getSelectedYearAndMonthDate(a);this.goToDate(d,b,this.buildDictionaryFromParams(c))},i.prototype.goToday=function(a,b,c){this.goToDate(new Date,b,this.buildDictionaryFromParams(c))},i.prototype.buildDictionaryFromParams=function(a){return this.dictionary={},this.dictionary.field=this,this.dictionary},i.prototype.goToDate=function(a,b,c){var d=c.value?new Date(c.value):void 0;this.updateDatePicker(a,d,b)},i.prototype.updateDatePicker=function(a,b,c){this.dictionary.dateInfo=this.getDateInfoFromObject(a||this.getSelectedYearAndMonthDate(void 0,c),b),g.run({root:c.find(".datepicker")[0],dictionaryExtension:this.dictionary}),this.bindDatePickerEvents(c)},i.prototype.get$datetime=function(a){return a.find(".zcrud-like-field-"+this.name)},i.prototype.bindEvents=function(a,b,c,d){var e=this.get$datetime(b);this.bindCommonEvents(a,b,e),c&&this.bindDateEvents(a,b,e),d&&this.bindTimeEvents(a,b,e)},i.prototype.bindCommonEvents=function(a,b,c){var d=this;c.find(".save-button").click(function(a){a.preventDefault(),a.stopPropagation(),d.save(c,!0)}),c.find(".cancel-button").click(function(b){b.preventDefault(),b.stopPropagation(),d.cancel(b,c,a)}),c.find(".toggle-picker").off("click").click(function(b){b.preventDefault(),b.stopPropagation(),d.toggle(b,c,a)})},i.prototype.bindTimeEvents=function(a,b,c){var d=this,e=this.timerDelay,f=this.minutesStep,g=1,h=function(a){a.preventDefault(),a.stopPropagation(),clearInterval(d.currentTimer)};c.find(".prev-hour").mousedown(function(a){a.preventDefault(),a.stopPropagation(),d.addHoursInterval(a,c,-g,e)}).mouseup(h),c.find(".prev-minute").mousedown(function(a){a.preventDefault(),a.stopPropagation(),d.addMinutesInterval(a,c,-f,e)}).mouseup(h),c.find(".next-hour").mousedown(function(a){a.preventDefault(),a.stopPropagation(),d.addHoursInterval(a,c,g,e)}).mouseup(h),c.find(".next-minute").mousedown(function(a){a.preventDefault(),a.stopPropagation(),d.addMinutesInterval(a,c,f,e)}).mouseup(h)},i.prototype.bindDateEvents=function(a,b,c){var d=this;c.find(".today-button").click(function(b){b.preventDefault(),b.stopPropagation(),d.goToday(b,c,a)}),c.find(".prev-month").click(function(b){b.preventDefault(),b.stopPropagation(),d.goToPreviousMonth(b,c,a)}),c.find(".next-month").click(function(b){b.preventDefault(),b.stopPropagation(),d.goToNextMonth(b,c,a)}),c.find(".prev-year").click(function(b){b.preventDefault(),b.stopPropagation(),d.goToPreviousYear(b,c,a)}),c.find(".next-year").click(function(b){b.preventDefault(),b.stopPropagation(),d.goToNextYear(b,c,a)}),c.find("[name='datepicker-month'], [name='datepicker-year']").change(function(b){b.preventDefault(),b.stopPropagation(),d.update(b,c,a)}),this.bindDatePickerEvents(c)},i.prototype.bindDatePickerEvents=function(a){var b=this;a.find(".date").click(function(c){c.preventDefault(),c.stopPropagation(),b.updateCalendarValue(a,f(this))})},i.prototype.addHours=function(a,b,c){var d=this.get$hours(b),e=parseInt(d.text()),f=1+this.maxHour;for(e+=c;e<0;)e+=f;e>=f&&(e-=f),d.text(this.formatTimeNumber(e,this.maxHour)),this.inline&&this.save(b,!1)},i.prototype.addHoursInterval=function(a,b,c,d){var e=this;clearInterval(this.currentTimer),this.addHours(a,b,c),this.currentTimer=setInterval(function(){e.addHours(a,b,c)},d)},i.prototype.addMinutesInterval=function(a,b,c,d){var e=this;clearInterval(this.currentTimer),this.addMinutes(a,b,c),this.currentTimer=setInterval(function(){e.addMinutes(a,b,c)},d)},i.prototype.addMinutes=function(a,b,c){var d=this.get$minutes(b),e=parseInt(d.text());e+=c,e<0&&(e+=60,this.addHours(a,b,-1)),e>=60&&(e-=60,this.addHours(a,b,1)),d.text(this.formatTimeNumber(e,59)),this.inline&&this.save(b,!1)},i.prototype.get$timePicker=function(a){return a.find(".timepicker")},i.prototype.get$hours=function(a){return this.get$hoursByTimePicker(this.get$timePicker(a))},i.prototype.get$hoursByTimePicker=function(a){return a.find(".hours")},i.prototype.get$minutes=function(a){return this.get$minutesByTimePicker(this.get$timePicker(a))},i.prototype.get$minutesByTimePicker=function(a){return a.find(".minutes")},i.prototype.updateCalendarValue=function(a,b){a.find("."+this.selectedDateClass).removeClass(this.selectedDateClass),b.addClass(this.selectedDateClass),this.inline&&this.save(a,!1)},i.prototype.get$selectedCell=function(a){return a.find("."+this.selectedDateClass)},i.prototype.buildDatetimeInstance=function(a){var b=!1,c=!1;switch(this.type){case"date":b=!0;break;case"datetime":b=!0,c=!0;break;case"time":c=!0;break;default:throw"Unknown type in Datetime: "+this.type}var d=0,f=0,g=0,h=0,i=0;if(b){var j=this.get$selectedCell(a);if(!j)return void e.showError(this.page.getOptions(),!1,"No selected items!");d=j.attr("data-date"),f=j.attr("data-month"),g=j.attr("data-year")}return c&&(h=parseInt(this.get$hours(a).text()),i=parseInt(this.get$minutes(a).text())),new Date(g,f,d,h,i)},i.prototype.formatToClient=function(a){return a?this.dateFormatter.formatDate(a,this.getI18nFormat()):""},i.prototype.buildDatetimeValue=function(a){var b=this.buildDatetimeInstance(a);return this.formatToClient(b)},i.prototype.get$picker=function(a){return a.find(".datetime")},i.prototype.get$input=function(a){return a.find("[name='"+this.name+"']")},i.prototype.save=function(a,b){var c=void 0;switch(this.type){case"datetime":case"date":c=this.buildDatetimeValue(a);break;case"time":c=this.buildTimeValue(a);break;default:throw"Unknown type in Datetime: "+this.type}this.get$input(a).val(c).attr(this.pickerValueAttr,c).trigger("change"),b&&this.get$picker(a).hide()},i.prototype.buildTimeValue=function(a){var b=this.get$timePicker(a),c=this.get$hoursByTimePicker(b),d=this.get$minutesByTimePicker(b);return this.buildTimeString(c.text(),d.text())},i.prototype.buildTimeString=function(a,b){return a+":"+b},i.prototype.cancel=function(a,b,c){this.get$picker(b).hide()},i.prototype.show=function(a,b,c){this.get$picker(b).show()},i.prototype.toggle=function(a,b,c){var d=this.get$picker(b);if(!d.is(":visible")){var e=this.get$input(b),f=e.val();e.attr(this.pickerValueAttr)!==f&&(this.updateDatetime(f,b),e.attr(this.pickerValueAttr,f))}d.toggle()},i.prototype.updateDatetime=function(a,b){var c=!1,d=!1;switch(this.type){case"date":c=!0;break;case"datetime":c=!0,d=!0;break;case"time":d=!0;break;default:throw"Unknown type in Datetime: "+this.type}if(c){var e=a?this.parseDate(a):void 0,f=this.getReferenceDate(e);this.updateDatePicker(f,e,b)}if(d){var g="time"==this.type?this.buildTimeObjectFromString(a):this.buildTimeObjectFromDateInstance(e);this.updateTime(b,g)}},Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},Date.prototype.dateEquals=function(a){return!!a&&(this.getFullYear()===a.getFullYear()&&this.getMonth()===a.getMonth()&&this.getDate()===a.getDate())},b.exports=i},{"../../../lib/php-date-formatter.js":59,"../context.js":27,"./field.js":33,jquery:61,zpt:135}],33:[function(a,b,c){"use strict";var d=(a("jquery"),a("../utils.js")),e=function(a){d.extend(!0,this,a)};e.prototype.setPage=function(a){this.page=a},e.prototype.getPage=function(){return this.page},e.prototype.afterProcessTemplateForField=function(a,b){},e.prototype.throwEventsForSetValueToForm=function(a){a.keyup()},e.prototype.setValueToForm=function(a,b){b.val(a),this.throwEventsForSetValueToForm(b)},e.prototype.getValue=function(a){return a.val()},e.prototype.getValueFromForm=function(a){return a.find("[name='"+this.name+"']").val()},e.prototype.getValueFromRecord=function(a){return a[this.id]},e.prototype.getViewValueFromRecord=function(a){return a[this.id]},e.prototype.getValueFromSelection=function(a){return a.find(".zcrud-like-field-"+this.name).text().trim()},e.prototype.getTemplate=function(a){return a.fieldsConfig.getDefaultFieldTemplate(this)},e.prototype.getPostTemplate=function(){},e.prototype.getViewTemplate=function(){},e.prototype.mustHideLabel=function(){return!1},e.prototype.buildFields=function(){},e.prototype.filterValue=function(a){return a[this.id]},e.prototype.getThisOptions=function(){return this},e.prototype.get$=function(){return this.page.get$().find(".zcrud-field-"+this.id)},e.prototype.isReadOnly=function(){return this.page.isReadOnly()||this.parentField&&this.parentField.isReadOnly()||this.readOnly},e.prototype.setParentField=function(a){this.parentField=a},e.prototype.buildDataToSend=function(){},e.prototype.dataFromServer=function(){},e.prototype.getId=function(){return this.id},e.prototype.getFields=function(){},e.prototype.goToFirstPage=function(){},b.exports=e},{"../utils.js":57,jquery:61}],34:[function(a,b,c){b.exports=function(){"use strict";var b=a("jquery"),c=void 0,d={},e=function(a,c){if(c=c||a.types,b.isArray(c))for(var e=0;e<c.length;e++)d[c[e]]=a;else d[c]=a};return{createFieldInstance:function(a){var b=d[a.type];return b||(b=c),new b(a)},registerAllConstructors:function(a){c=a.default;for(var b=0;b<a.mapping.length;++b){var d=a.mapping[b];e(d.constructor,d.fieldTypes)}},filterValues:function(a,b){var c={};for(var d in b){var e=b[d],f=e.filterValue(a);void 0!=f&&(c[e.id]=f)}return c}}}()},{jquery:61}],35:[function(a,b,c){var d=a("jquery"),e=(a("../context.js"),a("../normalizer.js")),f=a("./container.js"),g=a("../utils.js");b.exports=function(){"use strict";var a=function(a,b,c){if(a.fieldsCache)return a.fieldsCache;var d=h(a.fields,b,void 0,function(a){a.buildFields()},c);return a.fieldsCache=d,d},b=function(a,b,d,e){var f=b.pageConf.pages[a];if(!f)throw"Page id not found: "+a;if(f.fieldsCache)return c(f.fieldsCache,e),f.fieldsCache;if(d){if(-1!==d.indexOf(a))throw"Circular reference trying to build fields for "+a+" page!"}else d=[];d.push(a);var g=h(f.fields,b,d,function(a){a.buildFields()});return f.fieldsCache=g,c(f.fieldsCache,e),g},c=function(a,b){if(b)for(var c=0;c<a.fieldsArray.length;++c)a.fieldsArray[c].setPage(b)},h=function(a,b,c,d,e){for(var f={fieldsArray:[],fieldsMap:{},view:[]},g=0;g<a.length;++g)i(f,e||b.fields,a[g],b,c,d);return f},i=function(a,b,c,f,g,h,i,k,m){if("string"===d.type(c))l(o(b,c),a,f,h,i,k,m);else if("fieldsGroup"==c.type)j(a,b,c,f,g,h,i,k,m);else{var n=e.buildFullFieldInstance(c.id,c,f);l(n,a,f,h,i,k,m)}},j=function(a,b,c,d,e,f,g,h){var j;c.container&&"none"!=c.container.containerType&&(g=c.container.containerType,h=c.container.id,j=c.container);for(var k=c.start,n=c.end,o=c.except,p=c.source,q=m(p,d,e),r=!k,s=!1,t=0;t<q.length;++t){var u=q[t],v=u.id;if(v===k&&(r=!0),v===n&&(s=!0),r&&(!o||-1===o.indexOf(v)))if("fieldContainer"==u.type){j=u;for(var w=0;w<j.fields.length;++w)l(j.fields[w],a,d,f,j.containerType,j.id,j,!0)}else i(a,b,u,d,e,f,g,h,j);if(s)return}},k=function(a,b){return g.extend(!0,a,{type:"fieldContainer",template:b.containers.types[a.containerType].template,fields:[]}),a.options=b,new f(a)},l=function(a,b,c,d,e,f,g,h){if(b.fieldsArray.push(a),b.fieldsMap[a.id]=a,f){var i=b.view[b.view.length-1];if(!i||i.id!=f){if(i=k(g,c),!i.template)throw'Container with containerId "'+f+'" has got no template!';b.view.push(i)}h||i.fields.push(a)}else b.view.push(a);d&&d(a)},m=function(a,c,f){var g=void 0;if(d.isArray(a)){g=[];for(var h=0;h<a.length;++h){var i=a[h];if("string"===d.type(i))g.push(c.fields[i]);else{var j=e.buildFullFieldInstance(i.id,i,c);g.push(j)}}return g}if(!a||""===a||"default"===a)return g=[],d.each(c.fields,function(a,b){g.push(b)}),g;if(a.startsWith("subform/")){var k=a.substring("subform/".length);return g=[],d.each(c.fields[k].fields,function(a,b){g.push(b)}),g}return g=b(a,c,f).view},n=function(a,b){if(a)return a;throw'Field with id "'+b+'" not found!'},o=function(a,b){var c=b.indexOf("/");if(-1===c)return n(a[b],b);var d=b.substring(0,c),e=b.substring(1+c),f=a[d];if(!f)throw'Subform with id "'+d+'" not found!';return n(f.fields[e],b)};return{getForPage:b,getForList:a,build:h}}()},{"../context.js":27,"../normalizer.js":51,"../utils.js":57,"./container.js":31,jquery:61}],36:[function(a,b,c){"use strict";var d=(a("../context.js"),a("jquery"),function(){return{buildRecord:function(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d],f=e.getValueFromForm(b);void 0!=f&&""!=f&&(c[e.id]=f)}return c},updateRecordFromFormSelection:function(a,b,c){for(var d=0;d<b.length;d++){var e=b[d],f=e.isReadOnly()?void 0:e.getValueFromForm(c);void 0!=f&&""!=f&&(a[e.id]=f)}},buildDefaultValuesRecord:function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];void 0!==d.defaultValue&&(b[d.id]=d.defaultValue)}return b},buildRecordsMap:function(a,b){a=a||[];for(var c={},d=0;d<a.length;d++){var e=a[d];c[e[b]]=e}return c}}}());b.exports=d},{"../context.js":27,jquery:61}],37:[function(a,b,c){"use strict";var d=a("../context.js"),e=a("../crudManager.js"),f=a("jquery"),g=a("../utils.js"),h=function(){var a={},b=function(a,b){return c([],a,b)},c=function(a,b,c){var d={field:b,value:a[b.id],options:c,record:a};return d.dependedValues=r(a,b),h(d)},h=function(b){var c=b.field.options,d=b;f.isFunction(c)&&(d=i(d),c=c(d));var g=void 0;if("string"==typeof c){var h="options_"+b.field.id+"_"+c,j=!1;if(d._cacheCleared||!a[h])j=!0;else if(void 0!=d.value){var m=o(a[h],d.value);void 0==m.displayText&&(j=!0)}j?(g=l(e.getOptions(b.field.id,c,b.options),b.field),a[h]=g,n(a[h],b.field.optionsSorting)):g=a[h]}else g=l(c,b.field);return b.field.addCurrentValueToOptions?k(g,b):g},i=function(a){var b={_cacheCleared:!1,dependedValues:{},clearCache:function(){this._cacheCleared=!0}};for(var c in a)b[c]="options"==c||"dictionary"==c||"formPage"==c?a[c]:g.extend(!0,{},a[c]);return b},j=function(a,b){return{value:a,displayText:b||a}},k=function(a,b){var c=[],d=b.value;d&&c.push(j(d));for(var e=0;e<a.length;e++)c.push(a[e]);return c},l=function(a,b){var c=void 0;return f.isArray(a)?(c=m(a),n(c,b.optionsSorting)):(c=q(a),n(c,b.optionsSorting)),c},m=function(a){for(var b=[],c=0;c<a.length;c++)f.isPlainObject(a[c])?b.push(a[c]):b.push(j(a[c]));return b},n=function(a,b){if(a&&a.length&&b){var c=void 0;c=0==b.indexOf("value")?function(a){return a.value}:function(a){return a.displayText};var d=void 0;d="string"==f.type(c(a[0]))?function(a,b){return c(a).localeCompare(c(b))}:function(a,b){return c(a)-c(b)},b.indexOf("desc")>0?a.sort(function(a,b){return d(b,a)}):a.sort(function(a,b){return d(a,b)})}},o=function(a,b){return p(a,"value",b)},p=function(a,b,c){for(var d=0;d<a.length;d++)if(a[d][b]==c)return a[d];return{}},q=function(a){var b=[];return f.each(a,function(a,c){b.push(j(a,c))}),b},r=function(a,b){var c=b.dependsOn;if(!c)return{};for(var e={},f=0;f<c.length;f++){var g=c[f],h=d.getFieldData(g).name;e[g]=a[h]}return e};return{buildOptions:h,getOptionsFromBlank:b,getOptionsFromRecord:c,createDependedValuesUsingForm:function(a,b,c,e){for(var f={},g=0;g<a.dependsOn.length;g++){var h=a.dependsOn[g],i=d.getField(e.options.fields,h);f[h]=c.find("[name='"+i.name+"']").val()}return f}}}();b.exports=h},{"../context.js":27,"../crudManager.js":28,"../utils.js":57,jquery:61}],38:[function(a,b,c){"use strict";var d=a("./field.js"),e=a("../context.js"),f=a("./optionProvider.js"),g=a("jquery"),h=a("zpt"),i=function(a){d.call(this,a)};i.prototype=new d,i.prototype.constructor=i,i.prototype.afterProcessTemplateForFieldInCreateOrUpdate=function(a,b){if(this.dependsOn){var c=this.page,d=b.find("[name='"+this.name+"']"),i={};i.field=this,i.type=this.type,i.value=a.value,g.each(this.dependsOn,function(g,j){var k=e.getField(c.getOptions().fields,j);b.find("[name='"+k.name+"']").change(function(){a.dependedValues=f.createDependedValuesUsingForm(a.field,c.getOptions(),b,a),i.optionsListFromForm=f.buildOptions(a),i.record=a.record,i.value=a.record[a.field.id],i.field=a.field,i.type=a.field.type,i.value=a.value,h.run({root:d[0],dictionaryExtension:i}),d.trigger("change",[!0])})})}},i.prototype.afterProcessTemplateForField=function(a,b){this.page.isReadOnly()||this.afterProcessTemplateForFieldInCreateOrUpdate(a,b)},i.prototype.getValueFromSelectionAndField=function(a){return a.parents(".zcrud-checkboxes-container").first().find("input[type='checkbox']:checked").map(function(){return g(this).val()}).get()},i.prototype.getValueFromForm=function(a){switch(this.type){case"checkboxes":return this.getValueFromSelectionAndField(a);case"radio":var b=a.find("input[type='radio'][name='"+this.name+"[0]']:checked");return b.length>0?b.val():void 0;case"select":return a.find("select[name='"+this.name+"']").val();case"datalist":return a.find("input[name='"+this.name+"']").val()}throw"Unknown field type in optionsField: "+this.type},i.prototype.setValueToForm=function(a,b){switch(this.type){case"checkboxes":var c=b.parents(".zcrud-checkboxes-container").first(),d=c.find("input:checkbox.zcrud-active");if(d.prop("checked",!1),a)for(var e=0;e<a.length;++e)d.filter("[value="+a[e]+"]").prop("checked",!0);return void this.throwEventsForSetValueToForm(b);case"radio":var f=b.parents(".zcrud-radio-container").first(),g=f.find("input:radio.zcrud-active");return a?g.filter("[value="+a+"]").prop("checked",!0):g.prop("checked",!1),void this.throwEventsForSetValueToForm(b);case"select":case"datalist":return b.val(a),b.trigger("change",[!0]),void this.throwEventsForSetValueToForm(b)}throw"Unknown field type in optionsField: "+this.type},i.prototype.getValue=function(a){switch(this.type){case"checkboxes":return this.getValueFromSelectionAndField(a);case"radio":case"select":case"datalist":return a.val()}throw"Unknown field type in optionsField: "+this.type},i.prototype.getViewValueFromRecord=function(a){var b=this.getOptionsFromRecord(a,this.page.getOptions()),c=a[this.id];try{var d=this.getDisplayTextMapFromArrayOptions(b);if("checkboxes"==this.type)return this.getMultipleValueFromRecord(d,c);var e=d[c];return e||c}catch(a){return c}},i.prototype.getMultipleValueFromRecord=function(a,b){var c="";for(var d in b){var e=b[d],f=a[e];d>0&&(c+=", "),c+=f}return c},i.prototype.getDisplayTextMapFromArrayOptions=function(a){for(var b={},c=0;c<a.length;c++){var d=a[c];b[d.value]=this.translateOptions?e.translate(d.displayText):d.displayText}return b},i.prototype.getTemplate=function(){return this.type+"@templates/fields/basic.html"},i.prototype.getPostTemplate=function(){switch(this.type){case"checkboxes":case"radio":case"select":return;case"datalist":return"datalist-definition@templates/fields/basic.html"}throw"Unknown field type in optionsField: "+this.type},i.prototype.mustHideLabel=function(){switch(this.type){case"checkboxes":case"radio":return!0;case"select":case"datalist":return!1}throw"Unknown field type in optionsField: "+this.type},i.prototype.getOptionsFromBlank=function(a){return f.getOptionsFromBlank(this,a)},i.prototype.getOptionsFromRecord=function(a,b){return f.getOptionsFromRecord(a,this,b)},b.exports=i},{"../context.js":27,"./field.js":33,"./optionProvider.js":37,jquery:61,zpt:135}],39:[function(a,b,c){"use strict";var d=a("./field.js"),e=a("../context.js"),f=a("jquery"),g=a("zpt"),h=a("../validationManager.js"),i=a("../components/componentsMap.js"),j=a("./fieldUtils.js"),k=a("../history/create.js"),l=a("../history/delete.js"),m=a("../history/composition.js"),n=a("../crudManager.js"),o=a("../pages/pageUtils.js"),p=a("../pages/formPage.js"),q=a("../buttons/buttonUtils.js"),r=a("../utils.js"),s=function(a){d.call(this,a),this.fieldsArray=[],this.fieldsMap={},this.filter=void 0,this.currentFormPage=void 0,this.addedRecords={},this.toolbarButtons=void 0,this.byRowButtons=void 0};s.prototype=new d,s.prototype.constructor=s,s.prototype.getFromAddedRecords=function(a){return this.addedRecords[a]},s.prototype.filterValue=function(a){for(var b=[],c=a[this.id],d=this.fields,e=0;e<c.length;e++){var f=c[e],g={};b.push(g);for(var h in d){var i=d[h];void 0!=f[i.id]&&(g[i.id]=i.filterValue(f))}}return b},s.prototype.getValueFromRecord=function(a){for(var b=a[this.id]||[],c=this.fields,d=0;d<b.length;d++){var e=b[d];for(var f in c){var g=c[f];e[g.id]=g.getValueFromRecord(e)}}return b},s.prototype.getViewValueFromRecord=function(a){for(var b=a[this.id]||[],c=this.fields,d=0;d<b.length;d++){var e=b[d];for(var f in c){var g=c[f];e[g.id]=g.getViewValueFromRecord(e)}}return b},s.prototype.afterProcessTemplateForField=function(a){var b=this.get$();this.bindEventsInRows(a,b,void 0),this.bindButtonsEvent(this.getToolbarButtons(),b,a),this.componentsMap.bindEvents()},s.prototype.showCreateForm=function(){this.showNewForm("create")},s.prototype.showNewForm=function(a,b){this.currentFormPage=new p(this.page.getOptions(),{type:a,parentPage:this.page,record:b}),this.currentFormPage.show()},s.prototype.buildDictionary=function(a){var b=r.extend({},e.getDictionary(),{});return b.editable=!0,b.instance=this,b.records=[a],b.hideRowButtons=this.isReadOnly(),b},s.prototype.addNewRow=function(a){var b=this.buildHistoryItemForNewRow(a);e.getHistory().put(this.page.getId(),b),this.addToAddedRecords(b)},s.prototype.addToAddedRecords=function(a){this.addedRecords[a.recordId]=a.record},s.prototype.buildHistoryItemForNewRow=function(a){var b=a.defaultRecord?a.defaultRecord:j.buildDefaultValuesRecord(this.fieldsArray),c=this.buildDictionary(b),d=new k(e.getHistory(),c,f("#"+this.page.getId()+" .zcrud-field-"+this.id+" tbody"),b,this.id),g=d.get$Tr();return this.bindEventsInRows(a,void 0,g),this.componentsMap.bindEventsIn1Row(g),h.initFormValidation(this.page.getId(),g,this.page.getOptions()),d},s.prototype.bindButtonEvent=function(a,b,c,d){f.isFunction(b.run)&&a.find(b.getSelector()).off().click(function(a){b.run(a,c,d)})},s.prototype.bindEventsInRows=function(a,b,c){var d=b||c,g=this.page;d.find("input.historyField, textarea.historyField, select.historyField").change(function(a,b){if(!b){var c=f(this),d=c.prop("name"),h=g.getFieldByName(d),i=i||c.closest("tr");e.getHistory().putChange(c,h.getValue(c),0,i.attr("data-record-id"),g.getId(),h,i.attr("data-record-index"),i.attr("data-record-key"))}}),this.bindButtonsEvent(this.getByRowButtons(),d,a),c?this.bindEventsForFieldsIn1Row(c,this.fields,[],g.getDictionary(),a):this.bindEventsForFields(b,this.fields,g.getDictionary(),a)},s.prototype.bindEventsForFields=function(a,b,c,d){for(var e=d.value||[],f=a.find("tbody").children().filter(".zcrud-data-row"),g=0;g<e.length;g++){var h=e[g],i=f.filter(":eq("+g+")");this.bindEventsForFieldsIn1Row(i,b,h,c,d)}},s.prototype.bindEventsForFieldsIn1Row=function(a,b,c,d,e){for(var f in b){var g=b[f];g.afterProcessTemplateForField(this.buildProcessTemplateParams(g,c,d,e),a)}},s.prototype.buildProcessTemplateParams=function(a,b,c,d){return{field:a,value:b?b[a.id]:void 0,options:d.options,record:b,source:d.source,dictionary:c,formPage:d.formPage}},s.prototype.deleteRow=function(a){var b=f(a.target).closest("tr");e.getHistory().putDelete(this.page.getId(),b.attr("data-record-id"),0,b.attr("data-record-key"),b,this,b.attr("data-record-index"))},s.prototype.getTemplate=function(){return"subform@templates/fields/subforms.html"},s.prototype.getViewTemplate=function(){return"view@templates/fields/subforms.html"},s.prototype.buildFields=function(){var a=this;this.fieldsArray=[],this.fieldsMap={},f.each(this.fields,function(b,c){a.fieldsArray.push(c),a.fieldsMap[b]=c,c.setParentField(a)})},s.prototype.getFields=function(){return this.fieldsArray},s.prototype.mustHideLabel=function(){return!0},s.prototype.getComponent=function(a){return this.componentsMap.getComponent(a)},s.prototype.getSecureComponent=function(a){return this.componentsMap.getSecureComponent(a)},s.prototype.getKey=function(){return this.subformKey},s.prototype.setPage=function(a){this.page=a,this.componentsMap=new i(this.page.getOptions(),this.components,this,this.page);for(var b=0;b<this.fieldsArray.length;++b)this.fieldsArray[b].setPage(this.page)},s.prototype.buildMapValue=function(){return j.buildRecordsMap(this.page.getFieldValue(this.id),this.getKey())},s.prototype.getRecordByKey=function(a,b,c){var d=this.buildMapValue()[a];return c&&!this.readOnly&&j.updateRecordFromFormSelection(d,this.fieldsArray,b),d},s.prototype.addNewRowsFromSubform=function(a,b,c,d){var e=b?this.page.getField(a).getComponent("selecting"):void 0,f=b?e.getSelectedRecords():this.page.getFieldValue(a),g=this.addNewRows_common(f,c?this.page.getField(a):void 0,b?e.getSelectedRows():void 0);return!c&&b&&d&&e.deselectAll(),g},s.prototype.addNewRows_common=function(a,b,c){if(!a||0==a.length)return[];for(var d=new m(e.getHistory()),g=0;g<a.length;++g){var h=a[g],i=this.buildHistoryItemForNewRow({field:this,defaultRecord:h});if(d.add(i),this.addToAddedRecords(i),b){var j=f(c.get(g));d.add(new l(e.getHistory(),j.attr("data-record-id"),0,j.attr("data-record-key"),j,b.name))}}return e.getHistory().put(this.page.getId(),d),a},s.prototype.addNewRows=function(a){return this.addNewRows_common(a)},s.prototype.getPagingComponent=function(){return this.componentsMap.getComponent("paging")},s.prototype.getTotalNumberOfRecords=function(){var a=this.getPagingComponent();return a?a.getTotalNumberOfRecords():this.getRecords().length},s.prototype.getRecords=function(){return this.page.getFieldValue(this.id)},s.prototype.dataFromServer=function(a){this.componentsMap.dataFromServer({totalNumberOfRecords:a.fieldsData&&a.fieldsData[this.id]?a.fieldsData[this.id].totalNumberOfRecords:0,records:a.record?a.record[this.id]:[]})},s.prototype.update=function(a,b,c){var d=this;n.listRecords({url:this.getGroupOfRecordsURL,search:this.buildDataToSendForUpdate(),success:function(c){d.clientAndServerSuccessFunction.call(d,c,a,b)},error:function(a){e.showError(d.page.getOptions(),!1,a.message||"Server communication error!"),c&&c(!1)}},this.page.getOptions())},s.prototype.buildDataToSendForUpdate=function(){var a=this.buildDataToSend();return a.key=this.page.getKeyValue(),a},s.prototype.buildDataToSend=function(){var a={};return f.isEmptyObject(this.filter)||(a.filter=this.filter),this.componentsMap.addToDataToSend(a),this.page.getComponentMap().addToDataToSend(a),a},s.prototype.beforeProcessTemplate=function(a){this.componentsMap.dataFromServer(a),this.page.filterArrayOfRecordsFromServerData(a.records,this.fieldsArray),this.updateRecords(a.records)},s.prototype.clientAndServerSuccessFunction=function(a,b,c,d){this.beforeProcessTemplate(a),this.processTemplate(b,c),this.afterProcessTemplate(),d&&d(!0)},s.prototype.processTemplate=function(a,b){g.run({root:a||[this.get$().find("tbody")[0],this.getPagingComponent()?this.getPagingComponent().get$()[0]:void 0],dictionaryExtension:this.buildDictionaryForUpdate(b)})},s.prototype.afterProcessTemplate=function(){this.afterProcessTemplateForField(this.page.buildProcessTemplateParams(this))},s.prototype.buildDictionaryForUpdate=function(a){var b={};return a&&r.extend(b,a),b.records=this.getRecords(),b.field=this,b.editable=!this.isReadOnly(),b.instance=this,b},s.prototype.isFiltered=function(){var a=this.getComponent("filtering");return a&&a.filterIsOn()},s.prototype.getFieldsSource=function(){return this.fieldsMap},s.prototype.generateId=function(){return o.generateId()},s.prototype.getName=function(){return this.id},s.prototype.showNewFormUsingRecordFromServer=function(a,b){var c=o.getKeyFromButton(b);if(void 0==c)throw"Error trying to load record in formPage: key is null!";this.currentFormPage=new p(this.page.getOptions(),{type:a,parentPage:this.page}),this.currentFormPage.show({key:c,getRecordURL:this.getRecordURL})},s.prototype.updateRecords=function(a){this.page.updateRecordProperty(this.id,a)},s.prototype.isDirty=function(){var a=e.getHistory();return!!a&&a.isSubformDirty(this.id)},s.prototype.getToolbarButtons=function(){return void 0==this.toolbarButtons&&(this.toolbarButtons=q.getButtonList(this.buttons.toolbar,"subformToolbar",this,this.page.getOptions())),this.toolbarButtons},s.prototype.getByRowButtons=function(){return void 0==this.byRowButtons&&(this.byRowButtons=q.getButtonList(this.buttons.byRow,"subformRow",this,this.page.getOptions())),this.byRowButtons},s.prototype.bindButtonsEvent=function(a,b,c){for(var d=0;d<a.length;++d){var e=a[d];this.bindButtonEvent(b,e,this,c)}},s.prototype.removeChanges=function(){e.getHistory().removeSubformChanges(this.page.getId(),this.id)},s.prototype.goToFirstPage=function(){var a=this.getPagingComponent();a&&a.goToFirstPage()},s.prototype.getType=function(){return this.page.getType()},b.exports=s},{"../buttons/buttonUtils.js":2,"../components/componentsMap.js":21,"../context.js":27,"../crudManager.js":28,"../history/composition.js":42,"../history/create.js":43,"../history/delete.js":44,"../pages/formPage.js":52,"../pages/pageUtils.js":55,"../utils.js":57,"../validationManager.js":58,"./field.js":33,"./fieldUtils.js":36,jquery:61,zpt:135}],40:[function(a,b,c){"use strict";var d=a("../pages/pageUtils.js"),e=function(a,b){this.history=a,this.recordId=b,this.id=d.generateId()};e.prototype.getId=function(){return this.id},e.prototype.getRecordId=function(){return this.recordId},e.prototype.undo=function(){throw"Method undo not implemented!"},e.prototype.redo=function(){throw"Method redo not implemented!"},e.prototype.isRelatedToField=function(a,b,c,d){return this.rowIndex==a&&this.subformName==c&&this.subformRowIndex==d},e.prototype.isRelatedToRow=function(a,b,c){return this.rowIndex==a&&this.subformName==b&&this.subformRowIndex==c},e.prototype.doAction=function(){throw"Method doAction not implemented!"},e.prototype.doActionIfNotOff=function(a,b,c,d,e){if(c.historyItemIsOn(this))return this.doAction(a,b,d,e)},e.prototype.getNewValue=function(){throw"Method getNewValue not implemented!"},e.prototype.saveEnabled=function(){throw"Method saveEnabled not implemented!"},e.prototype.isDirty=function(){throw"Method isDirty not implemented!"},e.prototype.getAtomicItems=function(){return[this]},e.prototype.getCreationItems=function(){throw"Method getCreationItems not implemented!"},e.prototype.isNew=function(){return!1},e.prototype.type="AbstractHistoryAction",b.exports=e},{"../pages/pageUtils.js":55}],41:[function(a,b,c){"use strict";var d=a("jquery"),e=(a("../../../js/app/context.js"),a("./abstractHistoryAction.js")),f=(a("../fields/fieldUtils.js"),function(a,b,c,d,f,g,h,i,j,k,l,m){e.call(this,a,c),this.options=b,this.rowIndex=d,this.name=f,this.newValue=g,this.previousValue=h,this.$this=i,this.field=j,this.subformName=k,this.subformRowIndex=l,this.subformRowKey=m,this.updateCSS(!0,!0)});f.prototype=new e,f.prototype.constructor=f,f.prototype.setValue=function(a){this.field.setValueToForm(a,this.$this,!this.history.isFormMode(),this.options)},f.prototype.undo=function(){this.setValue(this.previousValue);var a=this.history.getPreviousItem(this.rowIndex,this.name,this.subformName,this.subformRowIndex);this.updateCSS(!!a&&a.isDirty(),this.history.getPreviousRecordItem(this.rowIndex,this.subformName,this.subformRowIndex))},f.prototype.redo=function(){this.setValue(this.newValue),this.updateCSS(!0,!0)},f.prototype.updateCSS=function(a,b){if(this.$this){if(this.history.isFormMode()&&!this.subformName)return void(a?this.$this.closest(".zcrud-field").addClass(this.history.getEditableOptions().modifiedFieldsClass):this.$this.closest(".zcrud-field").removeClass(this.history.getEditableOptions().modifiedFieldsClass));a?this.$this.closest("td").addClass(this.history.getEditableOptions().modifiedFieldsClass):this.$this.closest("td").removeClass(this.history.getEditableOptions().modifiedFieldsClass),b?this.$this.closest("tr").addClass(this.history.getEditableOptions().modifiedRowsClass):this.$this.closest("tr").removeClass(this.history.getEditableOptions().modifiedRowsClass)}},f.prototype.getNewValue=function(){return this.newValue},f.prototype.doAction=function(a,b,c,d){var e=this.history.buildAndAttachRowForDoAction(a,b,this.rowIndex,this.subformName,this.subformRowIndex,this.subformRowKey,void 0,!0);this.processDefaultValue(a,b,c,d,e),e[this.name]=this.newValue},f.prototype.processDefaultValue=function(a,b,c,e,f){if(d.isEmptyObject(f)&&this.isNew(b)){var g=this.subformName?this.buildSubformRowDefaultValue(c):this.buildFirstRowDefaultValue(c);this.copyProperties(g,f,!1),this.addDefaultSubformsToActionsObject(a,c,e,f)}},f.prototype.addDefaultSubformsToActionsObject=function(a,b,c,e){for(var f in b){var g=b[f],h=c[f];if(d.isArray(g)&&h&&"subform"==h.type){var i=this.history.buildEmptyActionsObject();e[f]=i;for(var j=0;j<g.length;++j){var k=g[j];i.new[j]=k}}}},f.prototype.buildSubformRowDefaultValue=function(a){var b=a[this.subformName];if(b){var c=b[this.subformRowIndex];if(c)return this.buildFirstRowDefaultValue(c)}},f.prototype.buildFirstRowDefaultValue=function(a){var b={};return this.copyProperties(a,b,!0),b},f.prototype.copyProperties=function(a,b,c){if(a)for(var e in a){var f=a[e];c&&d.isArray(f)||(b[e]=f)}},f.prototype.isNew=function(a){return this.history.isNew(a,this.rowIndex)},f.prototype.saveEnabled=function(){return!0},f.prototype.isDirty=function(){return!0},f.prototype.isRelatedToField=function(a,b,c,d){return this.rowIndex==a&&this.name==b&&this.subformName==c&&this.subformRowIndex==d},f.prototype.getCreationItems=function(){return[]},f.resetCSS=function(a,b){a.find("."+b.modifiedFieldsClass).removeClass(b.modifiedFieldsClass),a.find("."+b.modifiedRowsClass).removeClass(b.modifiedRowsClass)},f.prototype.type="change",b.exports=f},{"../../../js/app/context.js":27,"../fields/fieldUtils.js":36,"./abstractHistoryAction.js":40,jquery:61}],42:[function(a,b,c){"use strict";var d=(a("jquery"),a("../context.js"),a("./abstractHistoryAction.js")),e=function(a){d.call(this,a),this.items=[]};e.prototype=new d,e.prototype.constructor=e,e.prototype.add=function(a){this.items.push(a)},e.prototype.runMethodForAll=function(a){for(var b=Array.prototype.slice.call(arguments,1)[0],c=0;c<this.items.length;++c){var d=this.items[c];d[a].apply(d,b)}},e.prototype.runMethodForAllUsingOr=function(a){for(var b=Array.prototype.slice.call(arguments,1)[0],c=0;c<this.items.length;++c){var d=this.items[c];if(d[a].apply(d,b))return!0}return!1},e.prototype.runMethodForAllUsingNotUndefined=function(a){for(var b=Array.prototype.slice.call(arguments,1)[0],c=0;c<this.items.length;++c){var d=this.items[c],e=d[a].apply(d,b);if(void 0!=e)return e}},e.prototype.undo=function(){this.runMethodForAll.apply(this,["undo"])},e.prototype.redo=function(){this.runMethodForAll.apply(this,["redo"])},e.prototype.getNewValue=function(a,b,c,d){for(var e=0;e<this.items.length;++e){var f=this.items[e];if(f.isRelatedToField(a,b,c,d))return f.getNewValue(a,b,c,d)}},e.prototype.isRelatedToField=function(){return this.runMethodForAllUsingOr.apply(this,["isRelatedToField",arguments])},e.prototype.isRelatedToRow=function(){return this.runMethodForAllUsingOr.apply(this,["isRelatedToRow",arguments])},e.prototype.doAction=function(){this.runMethodForAll.apply(this,["doAction",arguments])},e.prototype.doActionIfNotOff=function(){this.runMethodForAll.apply(this,["doActionIfNotOff",arguments])},e.prototype.saveEnabled=function(){return!0},e.prototype.isDirty=function(){return this.runMethodForAllUsingOr.apply(this,["isDirty",arguments])},e.prototype.getAtomicItems=function(){for(var a=[],b=0;b<this.items.length;++b){var c=this.items[b];a=a.concat(c.getAtomicItems())}return a},e.prototype.getCreationItems=function(a){for(var b=[],c=0;c<this.items.length;++c){var d=this.items[c];b=b.concat(d.getCreationItems(a))}return b},e.prototype.type="composition",b.exports=e},{"../context.js":27,"./abstractHistoryAction.js":40,jquery:61}],43:[function(a,b,c){"use strict";var d=(a("jquery"),a("zpt")),e=(a("../context.js"),a("./abstractHistoryAction.js")),f=a("../utils.js"),g=function(a,b,c,d,g){e.call(this,a),this.thisDictionary=b,this.$tbody=c,this.record=d,this.subformName=g,this.isSubform=void 0!==this.subformName,this.$tr=void 0,this.rowIndex=0,this.subformRowIndex=void 0;var h=function(a){var b=f.extend({},a);return b.omitKey=!0,b};this.thisDictionary=h(this.thisDictionary),this.addRow(),this.recordId=this.$tr.attr("data-record-id"),this.updateCSS(!0)};g.prototype=new e,g.prototype.constructor=g,g.prototype.undo=function(){this.history.hideTr(this.$tr)},g.prototype.redo=function(){this.history.showTr(this.$tr),this.updateCSS(!0)},g.prototype.addRow=function(){d.run({root:this.$tbody[0],dictionaryExtension:this.thisDictionary,notRemoveGeneratedTags:!0}),this.$tr=this.$tbody.find("tr.zcrud-data-row:last");var a=this.$tr.attr("data-record-index");this.isSubform?this.subformRowIndex=a:this.rowIndex=a},g.prototype.updateCSS=function(a){a?this.$tr.addClass(this.history.getEditableOptions().modifiedRowsClass):this.$tr.removeClass(this.history.getEditableOptions().modifiedRowsClass)},g.prototype.getNewValue=function(a,b,c,d){return this.record[b]},g.prototype.doAction=function(a,b){this.history.buildAndAttachRowForDoAction(a,b,this.rowIndex,this.subformName,this.subformRowIndex,void 0,this.record,!1)},g.prototype.get$Tr=function(){return this.$tr},g.prototype.saveEnabled=function(){return!1},g.prototype.isDirty=function(){return!1},g.prototype.updateFromChange=function(a){this.record[a.name]=a.newValue},g.prototype.getCreationItems=function(a){return this.subformName==a?[this]:[]},g.resetCSS=function(){},g.prototype.type="create",b.exports=g},{"../context.js":27,"../utils.js":57,"./abstractHistoryAction.js":40,jquery:61,zpt:135}],44:[function(a,b,c){"use strict";var d=(a("jquery"),a("../context.js"),a("./abstractHistoryAction.js")),e=function(a,b,c,e,f,g,h){d.call(this,a,b),this.rowIndex=c,this.key=e,this.$tr=f,this.subformName=g,this.subformRowIndex=h||0,this.$tr&&this.history.hideTr(this.$tr)};e.prototype=new d,e.prototype.constructor=e,e.prototype.undo=function(){this.history.showTr(this.$tr)},e.prototype.redo=function(){this.history.hideTr(this.$tr)},e.prototype.getNewValue=function(){},e.prototype.isRelatedToField=function(){return!1},e.prototype.isRelatedToRow=function(a){return this.rowIndex==a},e.prototype.getDeletedMap=function(a,b){var c=b[this.rowIndex],d=c?a.modified:a.new;return d[this.rowIndex]&&d[this.rowIndex][this.subformName]||this.history.createNestedObject(d,[this.rowIndex,this.subformName],this.history.buildEmptyActionsObject()),d[this.rowIndex][this.subformName].deleted},e.prototype.doAction=function(a,b){if(void 0==this.key){if(this.subformName)return void delete a.new[0][this.subformName].new[this.subformRowIndex];throw"No subform name found trying to delete subform row!"}var c=this.subformName?this.getDeletedMap(a,b):a.deleted;-1==c.indexOf(this.key)&&c.push(this.key)},e.prototype.get$Tr=function(){return this.$tr},e.prototype.getKey=function(){return this.key},e.prototype.saveEnabled=function(){return void 0!==this.key},e.prototype.isDirty=function(){return!1},e.prototype.getCreationItems=function(){return[]},e.resetCSS=function(){},e.prototype.type="delete",b.exports=e},{"../context.js":27,"./abstractHistoryAction.js":40,jquery:61}],45:[function(a,b,c){var d=a("./change.js"),e=a("./create.js"),f=a("./delete.js"),g=a("./historyCleaner.js"),h=(a("../crudManager.js"),a("../context.js")),i=a("jquery"),j=a("../utils.js"),k=function(a,b,c,k){"use strict";var l=a,m=b,n=c,o=k,p=function(){return m},q=function(){return!0===o},r=[],s=0,t={},u=function(){return t},v=function(a){return void 0==a||""==a},w=function(a,b){var c=v(a),d=v(b);return c||d?c&&d:a===b},x=function(a,b,c,d,e){var f=J(b,c,d,e);return f?a===f.getNewValue(b,c,d,e):w(a,H(b,c,d,e))},y=function(a){var b=a.name,c=b.indexOf(h.subformSeparator);return{subformName:-1===c?null:b.substring(0,c),name:-1===c?b:b.substring(1+c)}},z=function(a,b,c,e,f,g,h,i){var j=y(g);if(!x(b,c,j.name,j.subformName,h)){var k=new d(ka,l,e,c,j.name,b,I(c,j.name,j.subformName,h),a,g,j.subformName,h,i);return D(f,k),k}},A=function(a,b,c,e,f){var g=y(c);return new d(ka,l,"1",b,g.name,a,I(b,g.name,g.subformName,e),void 0,c,g.subformName,e,f)},B=function(a,b,c,d,f){var g=new e(ka,b,c,d,f);return D(a,g),g},C=function(a,b,c,d,e,g,h){var i=new f(ka,b,c,d,e,g?g.name:void 0,h);return D(a,i),i},D=function(a,b){r[s++]=b,N()&&r.splice(s,r.length-s),T(a)},E=function(a,b){for(var c=[],d=0;d<s;++d){var e=r[d];"change"==e.type&&e.subformName==b&&c.push(d)}for(var f=0;f<c.length;++f)r.splice(f);s-=c.length,T(a)},F=function(a){r=[],s=0,t={},G(a),T(a,!0)},G=function(a){var b=i("#"+a);d.resetCSS(b,m),e.resetCSS(b,m),f.resetCSS(b,m)},H=function(a,b,c,d){var e=n.getInstanceDictionaryExtension();try{var f=a?e.records[a]:e.record;if(!f)return"";d&&(f=f[c][d])}catch(a){}return f?f[b]:void 0},I=function(a,b,c,d){var e=J(a,b,c,d);return e?e.getNewValue(a,b,c,d):H(a,b,c,d)},J=function(a,b,c,d){for(var e=s-1;e>=0;--e){var f=r[e];if(f.isRelatedToField(a,b,c,d))return f}},K=function(a,b,c){for(var d=s-1;d>=0;--d){var e=r[d];if(e.isRelatedToRow(a,b,c))return e}},L=function(){return s>0},M=function(a){var b=L()?r[--s]:void 0;if(!b)return void h.showError(l,!1,"Unable to undo!");b.undo(),T(a)},N=function(){return s<r.length},O=function(a){var b=N()?r[s++]:void 0;if(!b)return void h.showError(l,!1,"Unable to redo!");b.redo(),T(a)},P=function(){return s},Q=function(){return r.length-s},R=function(a,b){var c=a.indexOf(b);return-1==c?a:a.substring(0,c)},S=function(a,b,c){var d=a.find(b),e=d.text(),f=R(e," (");d.text(0==c?f:f+" ("+c+")"),d.prop("disabled",0==c)},T=function(a,b){var c=i("#"+a);S(c,".zcrud-undo-command-button",P()),S(c,".zcrud-redo-command-button",Q()),c.find(".zcrud-save-command-button").prop("disabled",!U()),b&&c.find("tr.zcrud-data-row:hidden").remove()},U=function(){if(0==s)return!1;for(var a=0;a<s;++a){if(r[a].saveEnabled())return!0}return!1},V=function(){return{modified:{},new:{},deleted:[]}},W=function(a){a.addClass("zcrud-hidden"),m.hideTr(a)},X=function(a){a.removeClass("zcrud-hidden"),m.showTr(a)},Y=function(a,b,c){for(var d=3===arguments.length&&b.pop(),e=0;e<b.length;e++)a=a[b[e]]=a[b[e]]||{};return d&&(a=a[d]=c),a},Z=function(a){for(var b=[],c=0;c<s;++c)for(var d=r[c],e=d.getCreationItems(a),f=0;f<e.length;++f){var g=e[f].get$Tr();g.hasClass("zcrud-hidden")||b.push(g)}return b},$=function(a,b,c){var d=V(),e=new g;e.run(fa());for(var f=0;f<s;++f){r[f].doActionIfNotOff(d,a,e,b,c)}return d},_=function(a,b,c,d,e,f,g,h){var i=""==f||!f,j=ba(a,b,c),k=d?ca(!i):void 0,l=void 0;return h&&(l=j[c],d&&(l=da(l,k,i,d,e,f))),l||(l=g||{},d?ea(j,l,k,i,d,c,e,f):j[c]=l),l},aa=function(a,b){return!a[b]},ba=function(a,b,c){return aa(b,c)?a.new:a.modified},ca=function(a){return a?"modified":"new"},da=function(a,b,c,d,e,f){var g=c?e:f;return a=a&&a[d]&&a[d][b]&&a[d][b][g]?a[d][b][g]:void 0},ea=function(a,b,c,d,e,f,g,h){var i=void 0;if(a[f]&&a[f][e])i=a[f][e][c];else{i=Y(a,[f,e],V())[c]}i[d?g:h]=b},fa=function(){var a=0;return{next:function(){return a<s&&r[a++]}}},ga=function(a,b,c){for(var d in b){var e=b[d];if(i.isPlainObject(e)){var f=h.buildFieldIdFromSubformsRecordsId(c,d);void 0==a[f]&&(a[f]=[]),a[f]=a[f].concat(e.newRecords);var g=c.fields[f].subformKey;for(var k in e.existingRecords)for(var l=e.existingRecords[k],m=!1,n=0;!m;){var o=a[f][n++];if(!o)throw"Error trying to update record: row not found!";o[g]==k&&(j.extend(!0,o,l),m=!0)}for(var p=0;p<e.recordsToRemove.length;++p)a[f].splice(p,1)}else a[d]=e}},ha=function(){return s>0},ia=function(a){for(var b=0;b<s;++b){if(r[b].subformName==a)return!0}return!1},ja=function(){return l},ka={putChange:z,putCreate:B,putDelete:C,put:D,removeSubformChanges:E,undo:M,redo:O,isUndoEnabled:L,isRedoEnabled:N,getNumberOfUndo:P,getNumberOfRedo:Q,getModified:u,reset:F,getPreviousItem:J,getPreviousRecordItem:K,hideTr:W,showTr:X,isFormMode:q,buildEmptyActionsObject:V,createNestedObject:Y,getAllTr$FromCreateItems:Z,instanceChange:A,buildActionsObject:$,getSubformMapKey:ca,getMap:ba,pushNewSubformRow:ea,buildAndAttachRowForDoAction:_,getEditableOptions:p,buildIterator:fa,updateRecord:ga,isDirty:ha,isSubformDirty:ia,getOptions:ja,isNew:aa};return ka};k.updateRecordsMap=function(a,b,c){var d=0;i.each(b.existingRecords,function(b,c){var d=a[b];a[b]=j.extend(!0,{},d,c)});for(var e=0;e<b.newRecords.length;++e){var f=b.newRecords[e],g=f[c];a[g]=f,++d}for(e=0;e<b.recordsToRemove.length;++e)delete a[b.recordsToRemove[e]],--d;return d},b.exports=k},{"../context.js":27,"../crudManager.js":28,"../utils.js":57,"./change.js":41,"./create.js":43,"./delete.js":44,"./historyCleaner.js":46,jquery:61}],46:[function(a,b,c){"use strict";var d=(a("jquery"),a("../context.js"),function(){var a={},b={},c=function(b){a={};for(var c=b.next();c;){for(var e=c.getAtomicItems(),f=0;f<e.length;f++)d(e[f]);c=b.next()}},d=function(b){var c=b.getRecordId(),d=a[c];d||(d=[],a[c]=d),d.push(b)},e=function(){b={};for(var c in a){var d=a[c],e="create"==d[0].type;"delete"==d[d.length-1].type&&f(d,e)}},f=function(a,c){for(var d=0;d<a.length-1;d++){var e=a[d];b[e.getId()]=!0}c&&(e=a[a.length-1],b[e.getId()]=!0)};return{run:function(a){c(a),e()},historyItemIsOn:function(a){return!b[a.getId()]}}});b.exports=d},{"../context.js":27,jquery:61}],47:[function(a,b,c){"use strict";var d=a("jquery"),e=a("./main.js"),f=a("./context.js");!function(a){var b=function(a){return f.getOptions(a)};a.fn.zcrud=function(a){switch(a){case"addRecord":e.addRecord(b(this),arguments[1]);break;case"deleteRecord":e.deleteRecord(b(this),arguments[1]);break;case"deselectRecords":e.deselectRecords(b(this),arguments[1]);break;case"deselectRows":e.deselectRows(b(this),arguments[1]);break;case"destroy":e.destroy(b(this));break;case"getRecordByKey":return e.getRecordByKey(b(this),arguments[1]);case"getRecords":return e.getRecords(b(this));case"getRowByKey":return e.getRowByKey(b(this),arguments[1]);case"getSelectedRecords":return e.getSelectedRecords(b(this));case"getSelectedRows":return e.getSelectedRows(b(this));case"init":var c=e.init(arguments[1],arguments[2],arguments[3]);c.target=this,f.putOptions(this,c);break;case"renderList":e.renderList(b(this),arguments[1],arguments[2]);break;case"renderForm":e.renderForm(b(this),arguments[1],arguments[2]);break;case"selectRecords":e.selectRecords(b(this),arguments[1]);break;case"selectRows":e.selectRows(b(this),arguments[1]);break;case"showCreateForm":e.showCreateForm(b(this));break;case"showUpdateForm":e.showUpdateForm(b(this),arguments[1]);break;case"showDeleteForm":e.showDeleteForm(b(this),arguments[1]);break;case"updateRecord":e.updateRecord(b(this),arguments[1]);break;case"getListPage":return e.getListPage(b(this));case"getFormPage":return e.getFormPage(b(this));default:return alert("Unknown action: "+a),!1}return this}}(d)},{"./context.js":27,"./main.js":50,jquery:61}],48:[function(a,b,c){var d=a("../history/delete.js"),e=a("jquery"),f=a("../context.js"),g=a("../utils.js");b.exports=function(){"use strict";var a=function(){return{existingRecords:{},newRecords:[],recordsToRemove:[]}},b=function(b){var c=a();return c.recordsToRemove=b,c},c=function(a,b,c){for(var d=g.extend(!0,{},a),e=0;e<b.length;e++){var f=b[e];if("subform"===f.type){var h=i(f,c),j=a[h];void 0!==j&&(d[h]=j),delete d[f.id]}}return d},h=function(b,d,e,f,h,i){var l=a();for(var m in b.modified){var n=b.modified[m],o=d[m],p=o[f];if(void 0==p)throw"Undefined key found trying to build JSON!";-1==b.deleted.indexOf(p)&&(e||(n=g.extend(!0,{},o,n)),k(n,o,e,h,i),l.existingRecords[p]=c(n,h,i))}for(m in b.new)n=b.new[m],p=n[f],j(n,e,h,i),l.newRecords.push(c(n,h,i));return b.deleted&&(l.recordsToRemove=b.deleted),l},i=function(a,b){return f.buildSubformsRecordsIdFromFieldId(b,a.id)},j=function(a,b,c,d){for(var e=0;e<c.length;e++){var f=c[e];if("subform"==f.type&&a[f.id]){var g=h(a[f.id],{},b,f.subformKey,l(f.fields),d);a[i(f,d)]=g}}},k=function(a,b,c,d,e){for(var f=0;f<d.length;f++){var g=d[f];if("subform"==g.type&&b[g.id]&&a[g.id]){var j=h(a[g.id],m(b[g.id],g.subformKey),c,g.subformKey,l(g.fields),e);a[i(g,e)]=j}}},l=function(a){var b=[];for(var c in a){var d=a[c];b.push(d)}return b},m=function(a,b){for(var c={},d=0;d<a.length;d++){var e=a[d];if(e){c[e[b]]=e}}return c},n=function(a,b,c,d,e,f,g,i){var j=e||f.buildActionsObject(c,g,i),k=h(j,c,a,b,d,f.getOptions());return(0!=Object.keys(k.existingRecords).length||0!=k.newRecords.length||0!=k.recordsToRemove.length)&&k},o=function(b){var c=a();return c.newRecords.push(b),c},p=function(a,b,c,d,f,g,h){var i=[c],j=h.buildEmptyActionsObject();return e.each(d,function(a,b){var d=c[a];if(b!=d){var e=f[a];if("subform"==e.type)r(j,i,e,d,b,e.subformKey,h);else{h.instanceChange(b,0,e).doAction(j,i)}}}),n(a,b,i,g,j,h)},q=function(a,b){for(var c={},d=0;d<a.length;++d){var e=a[d];c[e[b]]=e}return c},r=function(a,b,c,e,f,g,h){var i=q(e,g),j=q(f,g),k=void 0,l=void 0,m=void 0,n=void 0,o=void 0;for(l=0;l<f.length;++l)m=f[l],o=m[g],n=i[o],void 0===n?s(a,b,m,l,c.fields,h):t(a,b,m,n,l,c.fields,c,h);for(l=0;l<e.length;++l)n=e[l],o=n[g],void 0===(m=j[o])&&(k=new d(v,l,0,o,void 0,c.name),k.doAction(a,b))},s=function(a,b,c,d,e,f){var g=void 0,h={};for(g in c)if(c.hasOwnProperty(g)){var i=f.instanceChange(c[g],0,e[g],d,void 0);i.doAction(a,b),h[g]=!0}},t=function(a,b,c,d,e,f,g,h){var i=void 0,j=void 0,k={};for(i in c)c.hasOwnProperty(i)&&c[i]!==d[i]&&(j=h.instanceChange(c[i],0,f[i],e,c[g.subformKey]),j.doAction(a,b),k[i]=!0)},u=function(a,b,c,d,e){switch(b){case"create":return a.newRecords[0];case"update":return a.existingRecords[Object.keys(a.existingRecords)[0]];case"delete":return a.recordsToRemove[0];case"customForm":return d.updateRecord(c,a.newRecords[0]||a.existingRecords[Object.keys(a.existingRecords)[0]],e),c;default:throw"Unknown FormPage type: "+b}},v={buildJSONForAll:n,buildJSONForRemoving:b,buildJSONForAddRecordMethod:o,buildJSONForUpdateRecordMethod:p,getRecordFromJSON:u};return v}()},{"../context.js":27,"../history/delete.js":44,"../utils.js":57,jquery:61}],49:[function(a,b,c){var d=a("./defaultJSONBuilder.js");b.exports=function(){"use strict";var a=!0,b=function(a){return d.buildJSONForRemoving(a)};return{buildJSONForAll:function(b,c,e,f,g,h,i){return d.buildJSONForAll(a,b,c,e,f,g,h,i)},buildJSONForRemoving:b,buildJSONForAddRecordMethod:function(a){return d.buildJSONForAddRecordMethod(a)},buildJSONForUpdateRecordMethod:function(b,c,e,f,g,h){return d.buildJSONForUpdateRecordMethod(a,b,c,e,f,g,h)},getRecordFromJSON:function(a,b,c,e,f){return d.getRecordFromJSON(a,b,c,e,f)}}}()},{"./defaultJSONBuilder.js":48}],50:[function(a,b,c){var d=a("jquery"),e=a("zpt"),f=e.logHelper,g=a("./context.js"),h=a("./pages/listPage.js"),i=a("./pages/formPage.js"),j=a("./normalizer.js"),k=a("./fields/fieldBuilder"),l=a("./defaultOptions.js"),m=a("./utils.js");c.init=function(a,b,c){var h=function(a){var f=i.i18n.files[i.i18n.language];if(!f)throw"No file names set to init i18n subsystem!";var h={command:"preload",root:document.body,dictionary:a,declaredRemotePageUrls:i.allDeclaredRemotePageUrls,notRemoveGeneratedTags:!0,i18n:{urlPrefix:i.filesPathPrefix+i.i18n.filesPath,files:{}},callback:function(){g.setI18nArray(a.i18nArray),b&&d.isFunction(b)&&b(i)},failCallback:function(a){c&&d.isFunction(c)&&c(a)}};h.i18n.files[i.i18n.language]=f,i.templates.filesPath&&(e.context.getConf().externalMacroPrefixURL=i.filesPathPrefix+i.templates.filesPath),e.run(h)},i=m.extend(!0,{},l,a),n=i.dictionary;return n.options=i,g.setDictionary(n),delete i.dictionary,e.context.getConf().loggingOn=i.logging.isOn,e.context.getConf().loggingLevel=m.buildLoggingLevel(i.logging.level),f.info("Initializing ZCrud..."),k.registerAllConstructors(i.fieldsConfig.constructors),g.setFieldBuilder(k),j.run(i,a),h(n),f.info("...ZCrud initialized."),i},c.renderList=function(a,b,c){try{f.info("Rendering list...");var d=new h(a,b);g.putPage(d.getId(),d),d.show({callback:c}),f.info("...list rendering finished.")}catch(b){g.showError(a,!1,"Error trying to render list: "+(b.message||b))}},c.renderForm=function(a,b,c){try{f.info("Rendering form..."),b=b||{},b.type="customForm";var d=new i(a,b);g.putPage(d.getId(),d),d.show({callback:c}),f.info("...form rendering finished.")}catch(b){g.showError(a,!1,"Error trying to render form: "+(b.message||b))}},c.destroy=function(a){a.target.empty()},c.showCreateForm=function(a){var b=g.getListPage(a);if(!b)return void g.showError(options,!1,"No list found using that source:"+a);b.showCreateForm()},c.showUpdateForm=function(a,b){var c=g.getListPage(a);if(!c)return void alert("No list found using that source:"+a);c.showEditForm(void 0,b)},c.showDeleteForm=function(a,b){var c=g.getListPage(a);if(!c)return void alert("No list found using that source:"+a);c.showDeleteForm(void 0,b)},c.getRecordByKey=function(a,b){var c=g.getListPage(a);return c?c.getRecordByKey(b):void alert("No list found using that source:"+a)},c.getRecords=function(a){var b=g.getListPage(a);return b?b.getRecordsArray():void alert("No list found using that source:"+a)},c.getRowByKey=function(a,b){var c=g.getListPage(a);return c?c.getRowByKey(b):void alert("No list found using that source:"+a)},c.selectRecords=function(a,b){var c=g.getListPage(a);if(!c)return void alert("No list found using that source:"+a);c.getSecureComponent("selecting").selectRecords(b)},c.deselectRecords=function(a,b){var c=g.getListPage(a);if(!c)return void alert("No list found using that source:"+a);c.getSecureComponent("selecting").deselectRecords(b)},c.selectRows=function(a,b){var c=g.getListPage(a);if(!c)return void alert("No list found using that source:"+a);c.getSecureComponent("selecting").selectRows(b)},c.deselectRows=function(a,b){var c=g.getListPage(a);if(!c)return void alert("No list found using that source:"+a);c.getSecureComponent("selecting").deselectRows(b)},c.getSelectedRows=function(a){var b=g.getListPage(a);return b?b.getSecureComponent("selecting").getSelectedRows():void alert("No list found using that source:"+a)},c.getSelectedRecords=function(a){var b=g.getListPage(a);return b?b.getSecureComponent("selecting").getSelectedRecords():void alert("No list found using that source:"+a)};var n=function(a,b,c,d,e,f){if(c&&!b.record)return alert("Record not set in "+e+" method!"),!1;if(d&&!b.key)return alert("Key not set in "+e+" method!"),!1;var h=g.getListPage(a);return h?h.instanceNewForm(f,b.key):(alert("No list found using that source:"+a),!1)};c.addRecord=function(a,b){var c=n(a,b,!0,!1,"addRecord","create");c&&c.addRecord(b)},c.updateRecord=function(a,b){var c=n(a,b,!0,!0,"updateRecord","update");c&&c.updateRecord(b)},c.deleteRecord=function(a,b){var c=n(a,b,!1,!0,"deleteRecord","delete");c&&c.deleteRecord(b)},c.getListPage=function(a){var b=g.getListPage(a);return b||void alert("No list found using that source:"+a)},c.getFormPage=function(a){var b=g.getFormPage(a);return b||void alert("No form found using that source:"+a)}},{"./context.js":27,"./defaultOptions.js":29,"./fields/fieldBuilder":34,"./normalizer.js":51,"./pages/formPage.js":52,"./pages/listPage.js":53,"./utils.js":57,jquery:61,zpt:135}],51:[function(a,b,c){"use strict";var d=a("./context.js"),e=a("jquery"),f=a("./utils.js");b.exports=function(){var a=function(a,d){c(a),a.fields=g(a.fields,a),m(a),l(a),b(a,d)},b=function(a,c){for(var d in c){var f=c[d];e.isArray(f)?a[d]=f:e.isPlainObject(f)&&b(a[d],c[d])}},c=function(a){void 0==a.formId&&(a.formId="zcrud-form-"+a.entityId);var b=a.pageConf.pages.list;void 0==b.formId&&(b.formId="zcrud-list-form-"+a.entityId),void 0==b.id&&(b.id="zcrud-list-"+a.entityId),void 0==b.tableId&&(b.tableId="zcrud-list-table-"+a.entityId),void 0==b.tbodyId&&(b.tbodyId="zcrud-list-tbody-"+a.entityId)},g=function(a,b,c){var d={};return e.each(a,function(a,e){d[a]=h(a,e,b,c)}),d},h=function(a,b,c,d){b=k(b,c);var e=i(a,b);return j(a,e,c,d),e},i=function(a,b){return b.id=a,void 0==b.type&&(b.type="text"),d.getFieldBuilder().createFieldInstance(b)},j=function(a,b,c,h){if(b.name=h?h.id+d.subformSeparator+a:a,void 0==b.elementId&&(b.elementId="zcrud-"+a),void 0==b.template&&(b.template=b.getTemplate(c)),void 0==b.viewTemplate&&(b.viewTemplate=b.getViewTemplate()),d.declareRemotePageUrl(b.template,c.templates.declaredRemotePageUrls),void 0==b.attributes&&(b.attributes={}),void 0==b.sorting&&(b.sorting=!0),b.dependsOn&&"string"===e.type(b.dependsOn)){var i=b.dependsOn.split(",");b.dependsOn=[];for(var j=0;j<i.length;j++)b.dependsOn.push(e.trim(i[j]))}b.components&&(b.components=f.extend(!0,{},c.defaultComponentsConfig,b.components)),b.fields&&(b.fields=g(b.fields,c,b))},k=function(a,b){var c=b.fieldsConfig.defaultFieldOptions[a.type];return c?f.extend(!0,{},c,a):a},l=function(a){a.allDeclaredRemotePageUrls=a.templates.declaredRemotePageUrls.slice();for(var b in a.pageConf.pages){var c=a.pageConf.pages[b].template;d.declareRemotePageUrl(c,a.allDeclaredRemotePageUrls)}for(b in a.containers.types)c=a.containers.types[b].template,d.declareRemotePageUrl(c,a.allDeclaredRemotePageUrls)},m=function(a){var b=a.pageConf.defaultPageConf,c=a.defaultComponentsConfig;e.each(a.pageConf.pages,function(d,e){var g=f.extend(!0,{},b,e);a.pageConf.pages[d]=g;var h=f.extend(!0,{},c,g.components);g.components=h})};return{run:a,buildFullFieldInstance:h}}()},{"./context.js":27,"./utils.js":57,jquery:61}],52:[function(a,b,c){"use strict";var d=a("../context.js"),e=a("./pageUtils.js"),f=a("./page.js"),g=a("../validationManager.js"),h=a("jquery"),i=a("zpt"),j=a("../crudManager.js"),k=a("../history/history.js"),l=a("../fields/fieldListBuilder.js"),m=a("../fields/fieldUtils.js"),n=a("../components/componentsMap.js"),o=a("../utils.js"),p=function(a,b){f.call(this,a,b),this.type,this.parentPage,this.record,this.userRecord,this.loadAtFirstExecution,this.isFirstExecution=!0,this.id=this.options.formId,this.title=void 0,this.submitFunction=void 0,this.view=void 0,this.successMessage=void 0,this.eventFunction=void 0,this.omitKey=!1,this.forceKey=!1,this.initFromOptions(b||{}),this.configure()};f.doSuperClassOf(p),p.prototype.initFromOptions=function(a){this.type=a.type,this.parentPage=a.parentPage,this.userRecord=a.record,this.loadAtFirstExecution=void 0==a.load||a.load},p.prototype.getParentPage=function(){return this.parentPage},p.prototype.getType=function(){return this.type},p.prototype.setRecord=function(a){this.record=a},p.prototype.getRecord=function(){return this.record},p.prototype.updateRecordProperty=function(a,b){this.record||(this.record={}),this.record[a]=b},p.prototype.get$form=function(){return h("#"+this.id)},p.prototype.getTitle=function(){return this.title},p.prototype.getSubmitFunction=function(){return this.submitFunction},p.prototype.getView=function(){return this.view},p.prototype.getField=function(a,b){return b?this.fieldsMap[b].fields[a]:this.fieldsMap[a]},p.prototype.getFieldByName=function(a){var b=a.indexOf("["),c=-1===b?a:a.substring(0,b),e=c.indexOf(d.subformSeparator),f=-1===e?null:c.substring(0,e);return-1!==e&&(c=c.substring(1+e)),this.getField(c,f)},p.prototype.getParentFieldByName=function(a){var b=a.indexOf("["),c=-1===b?a:a.substring(0,b),e=c.indexOf(d.subformSeparator),f=-1===e?null:c.substring(0,e);return f?this.fieldsMap[f]:null},p.prototype.configure=function(){switch(this.thisOptions=this.options.pageConf.pages[this.type],this.buildFields(),this.type){case"create":this.title="Create form",this.submitFunction=this.submitCreate,this.eventFunction=this.options.events.recordAdded,this.successMessage="createSuccess",this.userRecord||(this.userRecord=m.buildDefaultValuesRecord(this.fields)),this.omitKey=!0;break;case"update":this.title="Edit form",this.submitFunction=this.submitUpdate,this.eventFunction=this.options.events.recordUpdated,this.successMessage="updateSuccess";break;case"delete":this.title="Delete form",this.submitFunction=this.submitDelete,this.eventFunction=this.options.events.recordDeleted,this.successMessage="deleteSuccess";break;case"customForm":this.title="Custom form",this.submitFunction=this.submitCustomForm,this.eventFunction=this.options.events.formBatchUpdated,this.successMessage="formListUpdateSuccess",this.record||(this.record=m.buildDefaultValuesRecord(this.fields)),this.forceKey=!0;break;default:throw"Unknown FormPage type: "+this.type}this.componentsMap=new n(this.options,this.thisOptions.components,this,this),d.setHistory(new k(this.options,this.thisOptions,this,!0))},p.prototype.buildFields=function(){var a=l.getForPage(this.type,this.options,void 0,this);this.fields=a.fieldsArray,this.fieldsMap=a.fieldsMap,this.view=a.view},p.prototype.buildDataUsingRecord=function(a){var b={};return b.result="OK",b.message="",b.record=a,b.fieldsData={},b},p.prototype.showUsingRecord=function(a,b,c,d,e){this.beforeProcessTemplate(a,b,e),this.processTemplate(c),this.afterProcessTemplate(this.get$form()),d&&d(!0)},p.prototype.processTemplate=function(a){a||e.configureTemplate(this.options,"'"+this.thisOptions.template+"'"),i.run({root:a||(this.options.target?this.options.target[0]:null)||document.body,dictionaryExtension:this.instanceDictionaryExtension})},p.prototype.show=function(a){a=a||{};var b=a.dictionaryExtension,c=a.root,d=a.callback,e=a.key,f=a.getRecordURL;return this.userRecord?(this.showUsingRecord(this.userRecord,b,c,d),void(this.isFirstExecution=!1)):this.isFirstExecution&&!this.loadAtFirstExecution?(this.showUsingRecord([],b,c,d),void(this.isFirstExecution=!1)):(this.showUsingServer(e,f,b,c,d),void(this.isFirstExecution=!1))},p.prototype.buildSearch=function(a){var b={};return void 0!=a&&(b.key=a),this.componentsMap.addToDataToSend(b),this.addToDataToSend(b),b},p.prototype.showUsingServer=function(a,b,c,e,f){var g=this;j.getRecord({url:b||this.thisOptions.getRecordURL,search:this.buildSearch(a),success:function(a){g.showUsingRecord.call(g,a.record,c,e,f,a)},error:function(a){d.showError(g.options,!1,a.message||"Server communication error!")}},this.options)},p.prototype.buildRecordForDictionary=function(){for(var a={},b=0;b<this.fields.length;b++){var c=this.fields[b];a[c.id]=this.record[c.id]}var d=this.getKey();return void 0==a[d]&&(a[d]=this.record[d]),a},p.prototype.updateDictionary=function(a){this.instanceDictionaryExtension={},this.instanceDictionaryExtension.instance=this,this.instanceDictionaryExtension.record=this.buildRecordForDictionary(),this.omitKey&&(this.instanceDictionaryExtension.omitKey=!0),a&&o.extend(this.instanceDictionaryExtension,a)},p.prototype.buildProcessTemplateParams=function(a){return{field:a,value:this.record[a.id],options:this.options,record:this.record,source:this.type,dictionary:d.getDictionary(),formPage:this}},p.prototype.beforeProcessTemplate=function(a,b,c){if(!a)throw"No record to show in form!";this.record=a,this.forceKey&&void 0==this.record[this.getKey()]&&(this.record[this.getKey()]=0),c?this.filterRecordFromServerData(c.record,this.fields):c=this.buildDataUsingRecord(this.record),this.processDataFromServer(c),this.updateDictionary(b)},p.prototype.afterProcessTemplate=function(a){g.initFormValidation(this.id,a,this.options),this.bindEvents(a);for(var b=0;b<this.fields.length;b++){var c=this.fields[b];c.afterProcessTemplateForField(this.buildProcessTemplateParams(c),a)}this.triggerFormCreatedEvent(a)},p.prototype.bindButtonEvent=function(a,b){if(h.isFunction(b.run)){var c=this;a.find(b.getSelector()).off().click(function(d){b.run(d,c,a,this)})}},p.prototype.bindEvents=function(a){for(var b=this.getToolbarButtons(),c=0;c<b.length;++c){var e=b[c];this.bindButtonEvent(a,e)}var f=this;a.find("input.historyField, textarea.historyField, select.historyField").not("[name*='"+d.subformSeparator+"']").change(function(a,b){if(!b){var c=h(this),e=f.getFieldByName.call(f,c.prop("name"));d.getHistory().putChange(c,e.getValue(c),0,"1",f.id,e)}}),this.componentsMap.bindEvents()},p.prototype.updateRecordFromJSON=function(a){switch(this.type){case"create":case"update":case"customForm":this.record=d.getJSONBuilder(this.options).getRecordFromJSON(a,this.type,this.record,d.getHistory(),this.options);break;case"delete":break;default:throw"Unknown FormPage type in updateRecordFromJSON method: "+this.type}},p.prototype.saveCommon=function(a,b,c,f){if(!c)return d.showError(this.options,!1,"No operation to do!"),!1;this.componentsMap.addToDataToSend(c);var g=c.success,h=c.error,i=this;return c.success=function(e){i.updateRecordFromJSON.call(i,c),i.eventFunction.call(i,{record:i.record,serverResponse:e,options:i.options},b),i.triggerFormClosedEvent.call(i,b,f),i.updatePage.call(i,e,c),d.getHistory().reset(a),g&&g()},c.error=function(a,b,c){e.ajaxError(a,b,c,i.options,d,h)},void 0==c.url&&(c.url=this.thisOptions.updateURL),j.batchUpdate(c,this.options,{$form:f,formType:this.type,dataToSend:c,options:this.options}),c},p.prototype.updatePage=function(a,b){var c={status:{message:this.successMessage,date:(new Date).toLocaleString()}};if(!this.parentPage)return this.showStatusMessage(c),void this.updateKeys(a);a.clientOnly?this.parentPage.showFromClientOnly(c,b):this.parentPage.show({dictionaryExtension:c})},p.prototype.updateKeys=function(a){var b=a.subforms;if(b)for(var c=0;c<this.fields.length;c++){var d=this.fields[c],e=b[d.id];e&&this.updateKeysForField(d,e)}},p.prototype.updateKeysForField=function(a,b){var c=b.newRecords,e=d.getHistory().getAllTr$FromCreateItems(a.id);if(e.length!=c.length)return void d.showError(this.options,!0,'Error trying to update keys of field "'+a.id+'": $trArray and records length does not match!');for(var f=a.subformKey,g=0;g<c.length;++g){var h=c[g],i=e[g],j=h[f];if(void 0==j)return void d.showError(this.options,!0,'Error trying to update keys of field "'+a.id+'": undefined key value found!');i.find("[name='"+f+"']").val(j),i.attr("data-record-key",j)}},p.prototype.processDataFromServer=function(a){for(var b=0;b<this.fields.length;b++){this.fields[b].dataFromServer(a)}},p.prototype.submitCustomForm=function(a,b){var c=this;this.processDirty(this.thisOptions.confirm.save,"OnlyForm",function(){c.doSubmitCustomForm(a,b)})},p.prototype.doSubmitCustomForm=function(a,b){return this.saveCommon(this.id,a,d.getJSONBuilder(this.options).buildJSONForAll(this.getKey(),[this.record],this.fields,void 0,d.getHistory(),{}),b)},p.prototype.submitCreate=function(a,b){var c=this;this.processDirty(this.thisOptions.confirm.save,"Create",function(){c.doSubmitCreate(a,b)})},p.prototype.doSubmitCreate=function(a,b){return this.saveCommon(this.id,a,d.getJSONBuilder(this.options).buildJSONForAll(this.getKey(),[],this.fields,void 0,d.getHistory(),this.userRecord,this.fieldsMap),b)},p.prototype.addRecord=function(a){var b=this.get$form(),c=d.getJSONBuilder(this.options).buildJSONForAddRecordMethod(a.record);return this.addAllRecordMethodProperties(a,c),this.saveCommon(this.id,void 0,c,b)},p.prototype.addAllRecordMethodProperties=function(a,b){this.addProperties(a,b,["clientOnly","url","success","error"])},p.prototype.addProperties=function(a,b,c){for(var d=0;d<c.length;++d){var e=c[d],f=a[e];void 0!=f&&(b[e]=f)}},p.prototype.submitUpdate=function(a,b){var c=this;this.processDirty(this.thisOptions.confirm.save,"Update",function(){c.doSubmitUpdate(a,b)})},p.prototype.doSubmitUpdate=function(a,b){return this.saveCommon(this.id,a,d.getJSONBuilder(this.options).buildJSONForAll(this.getKey(),[this.record],this.fields,void 0,d.getHistory()),b)},p.prototype.updateRecord=function(a){if(!a)return void d.showError(this.options,!0,"Data configuration undefined in updateRecord method!");var b=void 0,c=this.get$form();if(!this.userRecord)return void d.showError(this.options,!0,"Current record not found in updateRecord method!");var e=d.getJSONBuilder(this.options).buildJSONForUpdateRecordMethod(this.getKey(),this.userRecord,a.record,this.fieldsMap,this.fields,d.getHistory());return this.addAllRecordMethodProperties(a,e),this.saveCommon(this.id,b,e,c)},p.prototype.submitDelete=function(a,b){var c=this;this.processDirty(this.thisOptions.confirm.save,"Delete",function(){c.doSubmitDelete(a,b)},!0)},p.prototype.doSubmitDelete=function(a,b){return this.saveCommon(this.id,a,d.getJSONBuilder(this.options).buildJSONForRemoving([this.getKeyValue()]),b)},p.prototype.deleteRecord=function(a){var b=this.get$form(),c=d.getJSONBuilder(this.options).buildJSONForRemoving([a.key]);return this.addAllRecordMethodProperties(a,c),this.saveCommon(this.id,void 0,c,b)},p.prototype.cancelForm=function(a,b){var c=this;this.processDirty(this.thisOptions.confirm.cancel,"Cancel",function(){c.doCancelForm(a,b)})},p.prototype.doCancelForm=function(a,b){this.triggerFormClosedEvent(a,b),d.getHistory().reset(this.id),this.parentPage.show()},p.prototype.triggerFormClosedEvent=function(a,b){this.options.events.formClosed({$form:b,formType:this.type,options:this.options},a)},p.prototype.triggerFormCreatedEvent=function(a){this.options.events.formCreated({$form:a,formType:this.type,options:this.options})},p.prototype.getFieldValue=function(a){return this.record[a]},p.prototype.getKeyValue=function(){return this.record[this.getKey()]},p.prototype.isReadOnly=function(){return!!this.thisOptions.readOnly||"delete"==this.type},p.prototype.addToDataToSend=function(a){for(var b=0;b<this.fields.length;b++){var c=this.fields[b],d=c.buildDataToSend();d&&!h.isEmptyObject(d)&&this.addFieldToDataToSend(a,d,c)}},p.prototype.addFieldToDataToSend=function(a,b,c){a.searchFieldsData||(a.searchFieldsData={}),a.searchFieldsData[c.id]=b},p.prototype.getToolbarButtons=function(){return this.getPageToolbarButtons("formToolbar")},p.prototype.update=function(){this.show({root:this.get$().find(".zcrud-form-updatable")[0]})},p.prototype.removeChanges=function(){d.getHistory().reset(this.id)},p.prototype.goToFirstPage=function(){for(var a=0;a<this.fields.length;a++){this.fields[a].goToFirstPage()}},b.exports=p},{"../components/componentsMap.js":21,"../context.js":27,"../crudManager.js":28,"../fields/fieldListBuilder.js":35,"../fields/fieldUtils.js":36,"../history/history.js":45,"../utils.js":57,"../validationManager.js":58,"./page.js":54,"./pageUtils.js":55,jquery:61,zpt:135}],53:[function(a,b,c){"use strict";var d=a("../context.js"),e=a("./pageUtils.js"),f=a("./page.js"),g=a("./formPage.js"),h=a("../crudManager.js"),i=a("../history/history.js"),j=a("../fields/fieldListBuilder.js"),k=a("../components/componentsMap.js"),l=a("../buttons/buttonUtils.js"),m=a("jquery"),n=a("zpt"),o=a("../utils.js"),p=function(a,b){f.call(this,a,b),this.isFirstExecution=!0,this.thisOptions=this.options.pageConf.pages.list,this.records={},this.id=this.thisOptions.id,this.currentFormPage=void 0,this.byRowButtons=void 0,this.initFromOptions(b||{}),this.configure()};f.doSuperClassOf(p),p.prototype.initFromOptions=function(a){a=a||{},this.filter=a.filter||{},this.userRecords=a.records,this.loadAtFirstExecution=void 0==a.load||a.load},p.prototype.getField=function(a){return this.fieldsMap[a]},p.prototype.getFieldByName=function(a){var b=a.indexOf("[");return this.getField(-1===b?a:a.substring(0,b))},p.prototype.getCurrentFormPage=function(){return this.currentFormPage},p.prototype.configure=function(){this.buildFields(),this.componentsMap=new k(this.options,this.thisOptions.components,this,this)},p.prototype.buildFields=function(){var a=j.getForPage("list",this.options,void 0,this);this.fields=a.fieldsArray,this.fieldsMap=a.fieldsMap},p.prototype.buildDataToSend=function(){var a={};return a.filter=this.filter,this.componentsMap.addToDataToSend(a),a},p.prototype.buildDataFromClient=function(a,b){var c={};return c.result="OK",c.message="",c.records=this.buildRecordsArray(),c.totalNumberOfRecords=b+this.getTotalNumberOfRecords(),c},p.prototype.showFromClientOnly=function(a,b){var c=i.updateRecordsMap(this.records,b,this.options.key);this.clientAndServerSuccessFunction(this.buildDataFromClient(b,c),a)},p.prototype.getRecordsPaging=function(a,b){if(b.pageNumber&&b.pageSize){var c=(b.pageNumber-1)*b.pageSize;return a.slice(c,c+b.pageSize)}return a},p.prototype.buildDataUsingRecords=function(a){var b={};return b.result="OK",b.message="",b.records=this.getRecordsPaging(a,this.buildDataToSend()),b.totalNumberOfRecords=a.length,b},p.prototype.showUsingRecords=function(a,b,c,d){this.clientAndServerSuccessFunction(this.buildDataUsingRecords(a),b,c,d)},p.prototype.clientAndServerSuccessFunction=function(a,b,c,d){this.beforeProcessTemplate(a,b),this.processTemplate(c),this.afterProcessTemplate(this.get$form()),d&&d(!0)},p.prototype.show=function(a){a=a||{};var b=a.dictionaryExtension,c=a.root,d=a.callback;return this.userRecords?(this.showUsingRecords(this.userRecords,b,c,d),void(this.isFirstExecution=!1)):this.isFirstExecution&&!this.loadAtFirstExecution?(this.showUsingRecords([],b,c,d),void(this.isFirstExecution=!1)):(this.showUsingServer(b,c,d),void(this.isFirstExecution=!1))},p.prototype.showUsingServer=function(a,b,c){var e=this;h.listRecords({url:this.thisOptions.getGroupOfRecordsURL,search:this.buildDataToSend(),success:function(d){e.clientAndServerSuccessFunction.call(e,d,a,b,c)},error:function(a){d.showError(e.options,!1,a.message||"Server communication error!"),c&&c(!1)}},this.options)},p.prototype.beforeProcessTemplate=function(a,b){this.componentsMap.dataFromServer(a),this.filterArrayOfRecordsFromServerData(a.records,this.fields),this.updateRecords(a.records),this.updateDictionary(a.records,b)},p.prototype.updateDictionary=function(a,b){this.instanceDictionaryExtension={records:a,instance:this,editable:this.isEditable(),omitKey:!1},b&&o.extend(this.instanceDictionaryExtension,b)},p.prototype.processTemplate=function(a){a?this.componentsMap.resetPage():e.configureTemplate(this.options,"'"+this.thisOptions.template+"'");var b={root:a||(this.options.target?this.options.target[0]:null)||document.body,dictionaryExtension:this.instanceDictionaryExtension};n.run(b)},p.prototype.afterProcessTemplate=function(a){this.bindEvents(),this.triggerListCreatedEvent(a)},p.prototype.triggerListCreatedEvent=function(a){this.options.events.listCreated({$form:a,options:this.options})},p.prototype.bindButtonEvent=function(a){if(m.isFunction(a.run)){var b=this;m(a.getSelector()).off().click(function(c){a.run(c,b,this)})}},p.prototype.bindButtonsEvent=function(a){for(var b=0;b<a.length;++b){var c=a[b];this.bindButtonEvent(c)}},p.prototype.bindEvents=function(){this.bindButtonsEvent(this.getToolbarButtons()),this.bindButtonsEvent(this.getByRowButtons()),this.componentsMap.bindEvents()},p.prototype.showCreateForm=function(a){this.showNewForm("create")},p.prototype.showNewFormUsingRecordFromServer=function(a,b,c){var d=c||e.getKeyFromButton(b);if(void 0==d)throw"Error trying to load record in listPage: key is null!";this.currentFormPage=new g(this.options,{type:a,parentPage:this}),this.currentFormPage.show({key:d,getRecordURL:this.thisOptions.getRecordURL})},p.prototype.showEditForm=function(a,b){this.showNewFormUsingRecordFromServer("update",a,b)},p.prototype.showDeleteForm=function(a,b){this.showNewFormUsingRecordFromServer("delete",a,b)},p.prototype.showNewForm=function(a,b){this.currentFormPage=new g(this.options,{type:a,parentPage:this,record:b}),this.currentFormPage.show()},p.prototype.instanceNewForm=function(a,b){return new g(this.options,{type:a,parentPage:this,record:this.getRecordByKey(b)})},p.prototype.updateRecords=function(a){this.records={};for(var b=0;b<a.length;b++){var c=a[b];this.records[c[this.options.key]]=c}},p.prototype.buildRecordsArray=function(){var a=[];for(var b in this.records){var c=this.records[b];a.push(c)}return a},p.prototype.getRecordByKey=function(a,b){var c=this.records[a];return b&&this.readOnly,c},p.prototype.getRowByKey=function(a){return this.get$().find("[data-record-key='"+a+"']")},p.prototype.updateBottomPanel=function(a){var b=o.extend({},this.instanceDictionaryExtension,a);n.run({root:this.getComponent("paging").get$()[0],dictionaryExtension:b}),this.bindEvents()},p.prototype.getRecords=function(){return this.records},p.prototype.getRecordsArray=function(){return this.buildRecordsArray()},p.prototype.get$form=function(){return m("#"+this.thisOptions.formId)},p.prototype.getTotalNumberOfRecords=function(){var a=this.getComponent("paging");return a?a.getTotalNumberOfRecords():Object.keys(this.records).length},p.prototype.addRecord=function(a,b){this.records[a]=b,this.instanceDictionaryExtension.records.push(b)},p.prototype.updateRecord=function(a,b){this.records[a]=b,this.instanceDictionaryExtension.records[this.getIndexInDictionaryByKey(a)]=b},p.prototype.deleteRecord=function(a){delete this.records[a],this.instanceDictionaryExtension.records.splice(this.getIndexInDictionaryByKey(a),1)},p.prototype.getIndexInDictionaryByKey=function(a){for(var b=0;b<this.instanceDictionaryExtension.records.length;b++){if(a==this.instanceDictionaryExtension.records[b][this.options.key])return b}var c="Record not found in dictionary!";throw alert(c),c},p.prototype.isEditable=function(){return!!this.getComponent("editing")},p.prototype.isReadOnly=function(){return!this.isEditable()},p.prototype.isFiltered=function(){var a=this.getComponent("filtering");return a&&a.filterIsOn()},p.prototype.generateId=function(){return e.generateId()},p.prototype.getByRowButtons=function(){return void 0==this.byRowButtons&&(this.byRowButtons=l.getButtonList(this.thisOptions.buttons.byRow,"listRow",this,this.options)),this.byRowButtons},p.prototype.getToolbarButtons=function(){return this.getPageToolbarButtons("listToolbar")},p.prototype.removeChanges=function(){this.getSecureComponent("editing").removeChanges()},p.prototype.update=function(){var a=[m("#"+this.thisOptions.tbodyId)[0]],b=this.getComponent("paging");b&&a.push(b.get$()[0]),this.show({root:a})},p.prototype.goToFirstPage=function(){var a=this.getComponent("paging");a&&a.goToFirstPage()},p.prototype.getType=function(){return"list"},b.exports=p},{"../buttons/buttonUtils.js":2,"../components/componentsMap.js":21,"../context.js":27,"../crudManager.js":28,"../fields/fieldListBuilder.js":35,"../history/history.js":45,"../utils.js":57,"./formPage.js":52,"./page.js":54,"./pageUtils.js":55,jquery:61,zpt:135}],54:[function(a,b,c){"use strict";var d=a("jquery"),e=a("../context.js"),f=a("./pageUtils.js"),g=a("../buttons/buttonUtils.js"),h=function(a,b){this.options=a,this.fieldsMap={},this.fields=[],this.toolbarButtons=void 0,this.componentsMap=void 0};h.prototype.getPage=function(){return this},h.prototype.initFromOptions=function(){throw"initFromOptions method not implemented in Page class!"},h.prototype.configure=function(){throw"configure method not implemented in Page class!"},h.prototype.processDirty=function(a,b,c,d){if(!a||!d&&!this.isDirty())return void c();e.confirm(this.options,{title:e.translate("confirm"+b+"Title"),text:e.translate("confirm"+b+"Text"),className:"wideConfirm",buttons:{cancel:e.translate("confirm"+b+"CancelButton"),continue:{text:e.translate("confirm"+b+"ContinueButton"),value:"continue"}}},function(a){"continue"==a&&c()})},h.prototype.getOptions=function(){return this.options},h.prototype.getThisOptions=function(){return this.thisOptions},h.prototype.show=function(){throw"show method not implemented in Page class!"},h.prototype.getDictionary=function(){return this.dictionary},h.prototype.getInstanceDictionaryExtension=function(){return this.instanceDictionaryExtension},h.prototype.getType=function(){throw"getType method not implemented in Page class!"},h.prototype.getId=function(){return this.id},h.prototype.getFields=function(){return this.fields},h.prototype.getField=function(){throw"getField method not implemented in Page class!"},h.prototype.getFieldByName=function(){throw"getFieldByName method not implemented in Page class!"},h.prototype.get$form=function(){throw"get$form method not implemented in Page class!"},h.prototype.getKey=function(){return this.thisOptions.key||this.options.key},h.prototype.get$=function(){return d("#"+this.id)},h.prototype.isReadOnly=function(){throw"isReadOnly method not implemented in Page class!"},h.prototype.getPageToolbarButtons=function(a){return void 0==this.toolbarButtons&&(this.toolbarButtons=g.getButtonList(this.thisOptions.buttons.toolbar,a,this,this.options)),this.toolbarButtons},h.prototype.getComponentMap=function(){return this.componentsMap},h.prototype.getComponent=function(a){return this.componentsMap.getComponent(a)},h.prototype.getSecureComponent=function(a){return this.componentsMap.getSecureComponent(a)},h.prototype.getName=function(){return this.options.entityId},h.prototype.getField=function(){throw"getField method not implemented in Page class!"},h.prototype.getFieldByName=function(){throw"getFieldByName method not implemented in Page class!"},h.prototype.getFieldsSource=function(){return this.options.fields},h.prototype.isDirty=function(){var a=e.getHistory();return!!a&&a.isDirty()},h.prototype.update=function(){throw"update method not implemented in Page class!"},h.prototype.removeChanges=function(){throw"removeChanges method not implemented in Page class!"},h.prototype.goToFirstPage=function(){throw"goToFirstPage method not implemented in Page class!"},h.prototype.showStatusMessage=function(a){f.showStatusMessage(this.get$(),a)},h.prototype.filterRecordFromServerData=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];a.hasOwnProperty(d.id)&&(a[d.id]=d.getValueFromRecord(a))}},h.prototype.filterArrayOfRecordsFromServerData=function(a,b){for(var c=0;c<a.length;c++){var d=a[c];this.filterRecordFromServerData(d,b)}},h.doSuperClassOf=function(a){a.prototype=new h,a.prototype.constructor=a},b.exports=h},{"../buttons/buttonUtils.js":2,"../context.js":27,"./pageUtils.js":55,jquery:61}],55:[function(a,b,c){"use strict";var d=a("jquery"),e=a("zpt");b.exports=function(){return{configureTemplate:function(a,b){var c=d("<div />").attr("data-use-macro",b);a.target.html(c)},normalizeNumber:function(a,b,c,d){return void 0==a||null==a||isNaN(a)?d:a<b?b:a>c?c:a},findIndexInArray:function(a,b,c){c||(c=function(a,b){return a==b});for(var d=0;d<b.length;d++)if(c(a,b[d]))return d;return-1},ajaxError:function(a,b,c,d,e,f){e.showError(d,!1,a&&a.responseText?a.responseText:"Undefined error"),f&&f({request:a,status:b,error:c,options:d,context:e})},serverSideError:function(a,b,c,d){c.showError(b,!1,a&&a.message?a.message:"Undefined error",a&&a.translateMessage),d&&d({dataFromServer:a,options:b,context:c})},generateId:function(a,b){b=b||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=a||6;for(var c="",d=0;d<a;d++){var e=Math.floor(Math.random()*b.length);c+=b.substring(e,e+1)}return c},showStatusMessage:function(a,b){e.run({root:a.find(".zcrud-status")[0],dictionaryExtension:b})},getKeyFromButton:function(a){if(a)return d(a.target).closest(".zcrud-data-row").attr("data-record-key")}}}()},{jquery:61,zpt:135}],56:[function(a,b,c){(function(b){(function(){b.window.$=a("jquery"),b.window.zpt=a("zpt"),b.window.zcrud=a("./main.js"),a("./jqueryPlugin.js")}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./jqueryPlugin.js":47,"./main.js":50,jquery:61,zpt:135}],57:[function(a,b,c){"use strict";var d=a("log4javascript");b.exports=function(){var a=function(){var b,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[j]||{},j++),"object"!=typeof i&&"function"!=typeof i&&(i={}),j===k&&(i=this,j--);j<k;j++)if(null!=(b=arguments[j]))for(c in b)f=b[c],"__proto__"!==c&&i!==f&&(l&&f&&(e(f)||(g=Array.isArray(f)))?(d=i[c],h=g&&!Array.isArray(d)?[]:g||e(d)?d:{},g=!1,i[c]=a(l,h,f)):void 0!==f&&(i[c]=f));return i},b=function(a){return"function"==typeof a&&"number"!=typeof a.nodeType},c=function(a){return Array.isArray(a)},e=function(a){return"object"==typeof a&&!Array.isArray(a)&&null!==a},f=function(a){return 0===Object.keys(a).length},g=function(a){return"string"==typeof a},h={off:d.Level.OFF,all:d.Level.ALL,debug:d.Level.DEBUG,info:d.Level.INFO,warn:d.Level.WARN,error:d.Level.ERROR,fatal:d.Level.FATAL};return{extend:a,isFunction:b,isArray:c,isPlainObject:e,isEmptyObject:f,isString:g,buildLoggingLevel:function(a){return h[a]}}}()},{log4javascript:63}],58:[function(a,b,c){b.exports=function(){"use strict";var b=a("jquery");a("jquery-form-validator");var c=a("./context.js"),d=a("./utils.js"),e=!1,f=".historyField",g=function(a){return a.validation&&a.validation.rules},h=function(a,f,h){if(g(h)){h.validation.modules&&!e&&(b.formUtils.loadModules(h.validation.modules),e=!0),i(f,h);var j={form:"#"+a,language:c.getFormValidationLanguage(),decimalSeparator:c.translate("decimalSeparator")},k=d.extend({},j,h.validation.configuration);b.validate(k)}},i=function(a,b){var c=l(),e=d.extend(!0,{},b.validation.rules,c);j(a,b,e)},j=function(a,c,d){b.each(d||{},function(c,d){var e=void 0,g=void 0;"#"===c[0]?e=b(c+f):g="."===c[0]?a.find(c+f):a.find("[name='"+c+"']"+f),e?k(e,d):g.each(function(){k(b(this),d)})})},k=function(a,c){a.attr("data-validation",c.validation),b.each(c,function(b,c){"validation"!==b&&!1!==c&&(!0===c&&(c="true"),"_"===b[0]?(b=b.substring(1),!1===c?a.removeAttr(b):a.attr(b,c)):a.valAttr(b,c))})},l=function(a){return{}};return{initFormValidation:h,formIsValid:function(a,c){var d=a.events.formSubmitting(c,a),e=void 0===d||1==d;return g(a)?!(0!==b(".error").length||!e)||!!b.isPlainObject(d)&&d:e}}}()},{"./context.js":27,"./utils.js":57,jquery:61,"jquery-form-validator":60}],59:[function(a,b,c){"use strict";var d=function(a){var b=function(a){var c,d;for(a=a||{},c=1;c<arguments.length;c++)if(d=arguments[c])for(var e in d)d.hasOwnProperty(e)&&("object"==typeof d[e]?b(a[e],d[e]):a[e]=d[e]);return a},c={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(a){var b=a%10,c={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(a%100/10)&&c[b]?c[b]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},d=this,e=b(c,a);d.dateSettings=e.dateSettings,d.separators=e.separators,d.validParts=e.validParts,d.intParts=e.intParts,d.tzParts=e.tzParts,d.tzClip=e.tzClip};d.prototype={constructor:d,_lpad:function(a,b,c){var d=c||"0",e=a.toString();return e.length<b?this._lpad(d+e,b):e},getMonth:function(a){var b,c=this;return b=this._indexOf(a,c.dateSettings.monthsShort)+1,0===b&&(b=this._indexOf(a,c.dateSettings.months)+1),b},parseDate:function(a,b){var c,d,e,f,g,h,i,j,k,l,m=this,n=!1,o=!1,p=m.dateSettings,q={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!a)return null;if(a instanceof Date)return a;if("U"===b)return e=parseInt(a),e?new Date(1e3*e):a;switch(typeof a){case"number":return new Date(a);case"string":break;default:return null}if(!(c=b.match(m.validParts))||0===c.length)throw new Error("Invalid date format definition.");for(d=a.replace(m.separators,"\0").split("\0"),e=0;e<d.length;e++)switch(f=d[e],g=parseInt(f),c[e]){case"y":case"Y":if(!g)return null;k=f.length,q.year=2===k?parseInt((g<70?"20":"19")+f):g,n=!0;break;case"m":case"n":case"M":case"F":if(isNaN(g)){if(!((h=m.getMonth(f))>0))return null;q.month=h}else{if(!(g>=1&&g<=12))return null;q.month=g}n=!0;break;case"d":case"j":if(!(g>=1&&g<=31))return null;q.day=g,n=!0;break;case"g":case"h":if(i=c.indexOf("a")>-1?c.indexOf("a"):c.indexOf("A")>-1?c.indexOf("A"):-1,l=d[i],i>-1)j=this._compare(l,p.meridiem[0])?0:this._compare(l,p.meridiem[1])?12:-1,g>=1&&g<=12&&j>-1?q.hour=g+j-1:g>=0&&g<=23&&(q.hour=g);else{if(!(g>=0&&g<=23))return null;q.hour=g}o=!0;break;case"G":case"H":if(!(g>=0&&g<=23))return null;q.hour=g,o=!0;break;case"i":if(!(g>=0&&g<=59))return null;q.min=g,o=!0;break;case"s":if(!(g>=0&&g<=59))return null;q.sec=g,o=!0}if(!0===n&&q.year&&q.month&&q.day)q.date=new Date(q.year,q.month-1,q.day,q.hour,q.min,q.sec,0);else{if(!0!==o)return null;q.date=new Date(0,0,0,q.hour,q.min,q.sec,0)}return q.date},guessDate:function(a,b){if("string"!=typeof a)return a;var c,d,e,f,g,h,i=this,j=a.replace(i.separators,"\0").split("\0"),k=/^[djmn]/g,l=b.match(i.validParts),m=new Date,n=0;if(!k.test(l[0]))return a;for(e=0;e<j.length;e++){if(n=2,g=j[e],h=parseInt(g.substr(0,2)),isNaN(h))return null;switch(e){case 0:"m"===l[0]||"n"===l[0]?m.setMonth(h-1):m.setDate(h);break;case 1:"m"===l[0]||"n"===l[0]?m.setDate(h):m.setMonth(h-1);break;case 2:if(d=m.getFullYear(),c=g.length,n=c<4?c:4,!(d=parseInt(c<4?d.toString().substr(0,4-c)+g:g.substr(0,4))))return null;m.setFullYear(d);break;case 3:m.setHours(h);break;case 4:m.setMinutes(h);break;case 5:m.setSeconds(h)}f=g.substr(n),f.length>0&&j.splice(e+1,0,f)}return m},parseFormat:function(a,b){var c,d=this,e=d.dateSettings,f=/\\?(.?)/gi,g=function(a,b){return c[a]?c[a]():b};return c={d:function(){return d._lpad(c.j(),2)},D:function(){return e.daysShort[c.w()]},j:function(){return b.getDate()},l:function(){return e.days[c.w()]},N:function(){return c.w()||7},w:function(){return b.getDay()},z:function(){var a=new Date(c.Y(),c.n()-1,c.j()),b=new Date(c.Y(),0,1);return Math.round((a-b)/DAY)},W:function(){var a=new Date(c.Y(),c.n()-1,c.j()-c.N()+3),b=new Date(a.getFullYear(),0,4);return d._lpad(1+Math.round((a-b)/DAY/7),2)},F:function(){return e.months[b.getMonth()]},m:function(){return d._lpad(c.n(),2)},M:function(){return e.monthsShort[b.getMonth()]},n:function(){return b.getMonth()+1},t:function(){return new Date(c.Y(),c.n(),0).getDate()},L:function(){var a=c.Y();return a%4==0&&a%100!=0||a%400==0?1:0},o:function(){var a=c.n(),b=c.W();return c.Y()+(12===a&&b<9?1:1===a&&b>9?-1:0)},Y:function(){return b.getFullYear()},y:function(){return c.Y().toString().slice(-2)},a:function(){return c.A().toLowerCase()},A:function(){var a=c.G()<12?0:1;return e.meridiem[a]},B:function(){var a=b.getUTCHours()*HOUR,c=60*b.getUTCMinutes(),e=b.getUTCSeconds();return d._lpad(Math.floor((a+c+e+HOUR)/86.4)%1e3,3)},g:function(){return c.G()%12||12},G:function(){return b.getHours()},h:function(){return d._lpad(c.g(),2)},H:function(){return d._lpad(c.G(),2)},i:function(){return d._lpad(b.getMinutes(),2)},s:function(){return d._lpad(b.getSeconds(),2)},u:function(){return d._lpad(1e3*b.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(b))[1]||"Coordinated Universal Time"},I:function(){return new Date(c.Y(),0)-Date.UTC(c.Y(),0)!=new Date(c.Y(),6)-Date.UTC(c.Y(),6)?1:0},O:function(){var a=b.getTimezoneOffset(),c=Math.abs(a);return(a>0?"-":"+")+this._lpad(100*Math.floor(c/60)+c%60,4)},P:function(){var a=c.O();return a.substr(0,3)+":"+a.substr(3,2)},T:function(){return(String(b).match(d.tzParts)||[""]).pop().replace(d.tzClip,"")||"UTC"},Z:function(){return 60*-b.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(f,g)},r:function(){return"D, d M Y H:i:s O".replace(f,g)},U:function(){return b.getTime()/1e3||0}},g(a,a)},formatDate:function(a,b){var c,d,e,f,g,h=this,i="",j="\\";if("string"==typeof a&&!(a=h.parseDate(a,b)))return null;if(a instanceof Date){for(e=b.length,c=0;c<e;c++)"S"!==(g=b.charAt(c))&&g!==j&&(c>0&&b.charAt(c-1)===j?i+=g:(f=h.parseFormat(g,a),c!==e-1&&h.intParts.test(g)&&"S"===b.charAt(c+1)&&(d=parseInt(f)||0,f+=h.dateSettings.ordinal(d)),i+=f));return i}return""}},b.exports=d},{}],60:[function(a,b,c){!function(c,d){"function"==typeof define&&define.amd?define(["jquery"],function(a){return d(a)}):"object"==typeof b&&b.exports?b.exports=d(a("jquery")):d(c.jQuery)}(this,function(b){!function(a,b,c){function d(a,b){this.$form=a,this.$input=b,this.reset(),b.on("change paste",this.reset.bind(this))}var e=function(){return!1},f=null,g={numHalted:0,haltValidation:function(b){this.numHalted++,a.formUtils.haltValidation=!0,b.unbind("submit",e).bind("submit",e).find('*[type="submit"]').addClass("disabled").attr("disabled","disabled")},unHaltValidation:function(b){0===--this.numHalted&&(a.formUtils.haltValidation=!1,b.unbind("submit",e).find('*[type="submit"]').removeClass("disabled").removeAttr("disabled","disabled"))}};d.prototype.reset=function(){this.haltedFormValidation=!1,this.hasRun=!1,this.isRunning=!1,this.result=c},d.prototype.run=function(a,b){return"keyup"===a?null:this.isRunning?(f=a,this.haltedFormValidation||(g.haltValidation(),this.haltedFormValidation=!0),null):this.hasRun?this.result:(f=a,g.haltValidation(this.$form),this.haltedFormValidation=!0,this.isRunning=!0,this.$input.attr("disabled","disabled").addClass("async-validation"),this.$form.addClass("async-validation"),b(function(a){this.done(a)}.bind(this)),null)},d.prototype.done=function(a){this.result=a,this.hasRun=!0,this.isRunning=!1,this.$input.removeAttr("disabled").removeClass("async-validation"),this.$form.removeClass("async-validation"),this.haltedFormValidation&&(g.unHaltValidation(this.$form),"submit"===f?this.$form.trigger("submit"):this.$input.trigger("validation.revalidate"))},d.loadInstance=function(a,b,c){var e,f=b.get(0);return f.asyncValidators||(f.asyncValidators={}),f.asyncValidators[a]?e=f.asyncValidators[a]:(e=new d(c,b),f.asyncValidators[a]=e),e},a.formUtils=a.extend(a.formUtils||{},{asyncValidation:function(a,b,c){return this.warn("Use of deprecated function $.formUtils.asyncValidation, use $.formUtils.addAsyncValidator() instead"),d.loadInstance(a,b,c)},addAsyncValidator:function(b){var c=a.extend({},b),e=c.validatorFunction;c.async=!0,c.validatorFunction=function(a,b,f,g,h,i){return d.loadInstance(this.name,b,h).run(i,function(d){e.apply(c,[d,a,b,f,g,h,i])})},this.addValidator(c)}}),a(b).bind("validatorsLoaded formValidationSetup",function(b,c){c||(c=a("form")),c.find("[data-validation]").each(function(){var b=a(this);b.valAttr("async",!1),a.each(a.split(b.attr("data-validation")),function(c,d){var e=a.formUtils.validators["validate_"+d];e&&e.async&&b.valAttr("async","yes")})})})}(b,window),function(a,b){"use strict";function c(b){b&&"custom"===b.errorMessagePosition&&"function"==typeof b.errorMessageCustom&&(a.formUtils.warn("Use of deprecated function errorMessageCustom, use config.submitErrorMessageCallback instead"),b.submitErrorMessageCallback=function(a,c){b.errorMessageCustom(a,b.language.errorTitle,c,b)})}function d(b){if(b.errorMessagePosition&&"object"==typeof b.errorMessagePosition){a.formUtils.warn("Deprecated use of config parameter errorMessagePosition, use config.submitErrorMessageCallback instead");var c=b.errorMessagePosition;b.errorMessagePosition="top",b.submitErrorMessageCallback=function(){return c}}}function e(b){var c=b.find("[data-validation-if-checked]");c.length&&a.formUtils.warn('Detected use of attribute "data-validation-if-checked" which is deprecated. Use "data-validation-depends-on" provided by module "logic"'),c.on("beforeValidation",function(){var c=a(this),d=c.valAttr("if-checked"),e=a('input[name="'+d+'"]',b),f=e.is(":checked"),g=(a.formUtils.getValue(e)||"").toString(),h=c.valAttr("if-checked-value");(!f||h&&h!==g)&&c.valAttr("skipped",!0)})}function f(b){var c={se:"sv",cz:"cs",dk:"da"};if(b.lang in c){var d=c[b.lang];a.formUtils.warn('Deprecated use of lang code "'+b.lang+'" use "'+d+'" instead'),b.lang=d}}a.fn.validateForm=function(b,c){return a.formUtils.warn("Use of deprecated function $.validateForm, use $.isValid instead"),this.isValid(b,c,!0)},a(window).on("formValidationPluginInit",function(a,b){f(b),c(b),d(b)}).on("validatorsLoaded formValidationSetup",function(b,c){c||(c=a("form")),e(c)})}(b),function(a){"use strict";var b={resolveErrorMessage:function(a,b,c,d,e){var f=d.validationErrorMsgAttribute+"-"+c.replace("validate_",""),g=a.attr(f);return g||(g=a.attr(d.validationErrorMsgAttribute))||(g="function"!=typeof b.errorMessageKey?e[b.errorMessageKey]:e[b.errorMessageKey(d)])||(g=b.errorMessage),g},getParentContainer:function(b){if(b.valAttr("error-msg-container"))return a(b.valAttr("error-msg-container"));var c=b.parent();return"checkbox"===b.attr("type")&&b.closest(".checkbox").length?c=b.closest(".checkbox").parent():"radio"===b.attr("type")&&b.closest(".radio").length&&(c=b.closest(".radio").parent()),c.closest(".input-group").length&&(c=c.closest(".input-group").parent()),c},applyInputErrorStyling:function(a,b){a.addClass(b.errorElementClass).removeClass(b.successElementClass),this.getParentContainer(a).addClass(b.inputParentClassOnError).removeClass(b.inputParentClassOnSuccess),""!==b.borderColorOnError&&a.css("border-color",b.borderColorOnError)},applyInputSuccessStyling:function(a,b){a.addClass(b.successElementClass),this.getParentContainer(a).addClass(b.inputParentClassOnSuccess)},removeInputStylingAndMessage:function(a,c){a.removeClass(c.successElementClass).removeClass(c.errorElementClass).css("border-color","");var d=b.getParentContainer(a);if(d.removeClass(c.inputParentClassOnError).removeClass(c.inputParentClassOnSuccess),"function"==typeof c.inlineErrorMessageCallback){var e=c.inlineErrorMessageCallback(a,!1,c);e&&e.html("")}else d.find("."+c.errorMessageClass).remove()},removeAllMessagesAndStyling:function(c,d){if("function"==typeof d.submitErrorMessageCallback){var e=d.submitErrorMessageCallback(c,!1,d);e&&e.html("")}else c.find("."+d.errorMessageClass+".alert").remove();c.find("."+d.errorElementClass+",."+d.successElementClass).each(function(){b.removeInputStylingAndMessage(a(this),d)})},setInlineMessage:function(b,c,d){this.applyInputErrorStyling(b,d);var e,f=document.getElementById(b.attr("name")+"_err_msg"),g=!1,h=function(d){a.formUtils.$win.trigger("validationErrorDisplay",[b,d]),d.html(c)},i=function(){var f=!1;g.find("."+d.errorMessageClass).each(function(){if(this.inputReferer===b[0])return f=a(this),!1}),f?c?h(f):f.remove():""!==c&&(e=a('<div class="'+d.errorMessageClass+' alert"></div>'),h(e),e[0].inputReferer=b[0],g.prepend(e))};if(f)a.formUtils.warn("Using deprecated element reference "+f.id),g=a(f),i();else if("function"==typeof d.inlineErrorMessageCallback){if(!(g=d.inlineErrorMessageCallback(b,c,d)))return;i()}else{var j=this.getParentContainer(b);e=j.find("."+d.errorMessageClass+".help-block"),0===e.length&&(e=a("<span></span>").addClass("help-block").addClass(d.errorMessageClass),e.appendTo(j)),h(e)}},setMessageInTopOfForm:function(b,c,d,e){var f='<div class="{errorMessageClass} alert alert-danger"><strong>{errorTitle}</strong><ul>{fields}</ul></div>',g=!1;if("function"!=typeof d.submitErrorMessageCallback||(g=d.submitErrorMessageCallback(b,c,d))){var h={errorTitle:e.errorTitle,fields:"",errorMessageClass:d.errorMessageClass};a.each(c,function(a,b){h.fields+="<li>"+b+"</li>"}),a.each(h,function(a,b){f=f.replace("{"+a+"}",b)}),g?g.html(f):b.children().eq(0).before(a(f))}}};a.formUtils=a.extend(a.formUtils||{},{dialogs:b})}(b),function(a,b,c){"use strict";var d=0;a.fn.validateOnBlur=function(b,c){var d=this,e=this.find("*[data-validation]");return e.each(function(){var e=a(this);if(e.is("[type=radio]")){var f=d.find('[type=radio][name="'+e.attr("name")+'"]');f.bind("blur.validation",function(){e.validateInputOnBlur(b,c,!0,"blur")}),c.validateCheckboxRadioOnClick&&f.bind("click.validation",function(){e.validateInputOnBlur(b,c,!0,"click")})}}),e.bind("blur.validation",function(){a(this).validateInputOnBlur(b,c,!0,"blur")}),c.validateCheckboxRadioOnClick&&this.find("input[type=checkbox][data-validation],input[type=radio][data-validation]").bind("click.validation",function(){a(this).validateInputOnBlur(b,c,!0,"click")}),this},a.fn.validateOnEvent=function(b,c){return("FORM"===this[0].nodeName?this.find("*[data-validation-event]"):this).each(function(){var d=a(this),e=d.valAttr("event");e&&d.unbind(e+".validation").bind(e+".validation",function(d){9!==(d||{}).keyCode&&a(this).validateInputOnBlur(b,c,!0,e)})}),this},a.fn.showHelpOnFocus=function(b){return b||(b="data-validation-help"),this.find("textarea,input").each(function(){var c=a(this),e="jquery_form_help_"+ ++d,f=c.attr(b);c.removeClass("has-help-text").unbind("focus.help").unbind("blur.help"),f&&c.addClass("has-help-txt").bind("focus.help",function(){var b=c.parent().find("."+e);0===b.length&&(b=a("<span />").addClass(e).addClass("help").addClass("help-block").text(f).hide(),c.after(b)),b.fadeIn()}).bind("blur.help",function(){a(this).parent().find("."+e).fadeOut("slow")})}),this},a.fn.validate=function(b,c,d){var e=a.extend({},a.formUtils.LANG,d||{});this.each(function(){var d=a(this),f=d.closest("form").get(0)||{},g=f.validationConfig||a.formUtils.defaultConfig();d.one("validation",function(a,c){"function"==typeof b&&b(c,this,a)}),d.validateInputOnBlur(e,a.extend({},g,c||{}),!0)})},a.fn.willPostponeValidation=function(){return(this.valAttr("suggestion-nr")||this.valAttr("postpone")||this.hasClass("hasDatepicker"))&&!b.postponedValidation},a.fn.validateInputOnBlur=function(c,d,e,f){if(a.formUtils.eventType=f,this.willPostponeValidation()){var g=this,h=this.valAttr("postpone")||200;return b.postponedValidation=function(){g.validateInputOnBlur(c,d,e,f),b.postponedValidation=!1},setTimeout(function(){b.postponedValidation&&b.postponedValidation()},h),this}c=a.extend({},a.formUtils.LANG,c||{}),a.formUtils.dialogs.removeInputStylingAndMessage(this,d);var i=this,j=i.closest("form"),k=a.formUtils.validateInput(i,c,d,j,f),l=function(){i.validateInputOnBlur(c,d,!1,"blur.revalidated")};return"blur"===f&&i.unbind("validation.revalidate",l).one("validation.revalidate",l),e&&i.removeKeyUpValidation(),k.shouldChangeDisplay&&(k.isValid?a.formUtils.dialogs.applyInputSuccessStyling(i,d):a.formUtils.dialogs.setInlineMessage(i,k.errorMsg,d)),!k.isValid&&e&&i.validateOnKeyUp(c,d),this},a.fn.validateOnKeyUp=function(b,c){return this.each(function(){var d=a(this);d.valAttr("has-keyup-event")||d.valAttr("has-keyup-event","true").bind("keyup.validation",function(a){9!==a.keyCode&&d.validateInputOnBlur(b,c,!1,"keyup")})}),this},a.fn.removeKeyUpValidation=function(){return this.each(function(){a(this).valAttr("has-keyup-event",!1).unbind("keyup.validation")}),this},a.fn.valAttr=function(a,b){return b===c?this.attr("data-validation-"+a):!1===b||null===b?this.removeAttr("data-validation-"+a):(a=a.length>0?"-"+a:"",this.attr("data-validation"+a,b))},a.fn.isValid=function(b,c,d){if(a.formUtils.isLoadingModules){var e=this;return setTimeout(function(){e.isValid(b,c,d)},200),null}c=a.extend({},a.formUtils.defaultConfig(),c||{}),b=a.extend({},a.formUtils.LANG,b||{}),d=!1!==d,a.formUtils.errorDisplayPreventedWhenHalted&&(delete a.formUtils.errorDisplayPreventedWhenHalted,d=!1);var f=function(b,e){a.inArray(b,h)<0&&h.push(b),i.push(e),e.valAttr("current-error",b),d&&a.formUtils.dialogs.applyInputErrorStyling(e,c)},g=[],h=[],i=[],j=this,k=function(b,d){return"submit"===d||"button"===d||"reset"===d||a.inArray(b,c.ignore||[])>-1};if(d&&a.formUtils.dialogs.removeAllMessagesAndStyling(j,c),j.find("input,textarea,select").filter(':not([type="submit"],[type="button"])').each(function(){var d=a(this),e=d.attr("type"),h="radio"===e||"checkbox"===e,i=d.attr("name");if(!k(i,e)&&(!h||a.inArray(i,g)<0)){h&&g.push(i);var l=a.formUtils.validateInput(d,b,c,j,"submit");l.isValid?l.isValid&&l.shouldChangeDisplay&&(d.valAttr("current-error",!1),a.formUtils.dialogs.applyInputSuccessStyling(d,c)):f(l.errorMsg,d)}}),"function"==typeof c.onValidate){var l=c.onValidate(j);a.isArray(l)?a.each(l,function(a,b){f(b.message,b.element)}):l&&l.element&&l.message&&f(l.message,l.element)}return a.formUtils.isValidatingEntireForm=!1,i.length>0&&d&&("top"===c.errorMessagePosition?a.formUtils.dialogs.setMessageInTopOfForm(j,h,c,b):a.each(i,function(b,d){a.formUtils.dialogs.setInlineMessage(d,d.valAttr("current-error"),c)}),c.scrollToTopOnError&&a.formUtils.$win.scrollTop(j.offset().top-20)),!d&&a.formUtils.haltValidation&&(a.formUtils.errorDisplayPreventedWhenHalted=!0),0===i.length&&!a.formUtils.haltValidation},a.fn.restrictLength=function(b){return new a.formUtils.lengthRestriction(this,b),this},a.fn.addSuggestions=function(b){var c=!1;return this.find("input").each(function(){var d=a(this);c=a.split(d.attr("data-suggestions")),c.length>0&&!d.hasClass("has-suggestions")&&(a.formUtils.suggest(d,c,b),d.addClass("has-suggestions"))}),this}}(b,window),function(b){"use strict";b.formUtils=b.extend(b.formUtils||{},{isLoadingModules:!1,loadedModules:{},registerLoadedModule:function(a){this.loadedModules[b.trim(a).toLowerCase()]=!0},hasLoadedModule:function(a){return b.trim(a).toLowerCase()in this.loadedModules},loadModules:function(c,d,e){if(b.formUtils.isLoadingModules)return void setTimeout(function(){b.formUtils.loadModules(c,d,e)},100);var f=function(c,d){var f=b.split(c),g=f.length,h=function(){0===--g&&(b.formUtils.isLoadingModules=!1,"function"==typeof e&&e())};g>0&&(b.formUtils.isLoadingModules=!0);var i="?_="+(new Date).getTime(),j=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];b.each(f,function(c,e){if(e=b.trim(e),0===e.length||b.formUtils.hasLoadedModule(e))h();else{var f=d+e+(".js"===e.slice(-3)?"":".js"),g=document.createElement("SCRIPT");"function"==typeof define&&define.amd?a([f+(".dev.js"===f.slice(-7)?i:"")],h):(g.type="text/javascript",g.onload=h,g.src=f+(".dev.js"===f.slice(-7)?i:""),g.onerror=function(){b.formUtils.warn("Unable to load form validation module "+f,!0),h()},g.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(h(),this.onload=null,this.onreadystatechange=null)},j.appendChild(g))}})};if(d)f(c,d);else{var g=function(){var a=!1;return b('script[src*="form-validator"]').each(function(){if(!(this.src.split("form-validator")[1].split("node_modules").length>1))return a=this.src.substr(0,this.src.lastIndexOf("/"))+"/","/"===a&&(a=""),!1}),!1!==a&&(f(c,a),!0)};g()||b(function(){g()||"function"==typeof e&&e()})}}})}(b),function(a){"use strict";a.split=function(b,c,d){d=void 0===d||!0===d;var e="[,|"+(d?"\\s":"")+"-]\\s*",f=new RegExp(e,"g");if("function"!=typeof c){if(!b)return[];var g=[];return a.each(b.split(c||f),function(b,c){c=a.trim(c),c.length&&g.push(c)}),g}b&&a.each(b.split(f),function(b,d){if(d=a.trim(d),d.length)return c(d,b)})},a.validate=function(b){var c=a.extend(a.formUtils.defaultConfig(),{form:"form",validateOnEvent:!1,validateOnBlur:!0,validateCheckboxRadioOnClick:!0,showHelpOnFocus:!0,addSuggestions:!0,modules:"",onModulesLoaded:null,language:!1,onSuccess:!1,onError:!1,onElementValidate:!1});if(b=a.extend(c,b||{}),a(window).trigger("formValidationPluginInit",[b]),b.lang&&"en"!==b.lang){var d="lang/"+b.lang+".js";b.modules+=b.modules.length?","+d:d}a(b.form).each(function(c,d){d.validationConfig=b;var e=a(d);e.trigger("formValidationSetup",[e,b]),e.find(".has-help-txt").unbind("focus.validation").unbind("blur.validation"),e.removeClass("has-validation-callback").unbind("submit.validation").unbind("reset.validation").find("input[data-validation],textarea[data-validation]").unbind("blur.validation"),e.bind("submit.validation",function(c){var d=a(this),e=function(){return c.stopImmediatePropagation(),!1};if(a.formUtils.haltValidation)return e();if(a.formUtils.isLoadingModules)return setTimeout(function(){d.trigger("submit.validation")},200),e();var f=d.isValid(b.language,b);return a.formUtils.haltValidation?e():f&&"function"==typeof b.onSuccess?!1===b.onSuccess(d)?e():void 0:f||"function"!=typeof b.onError?!!f||e():(b.onError(d),e())}).bind("reset.validation",function(){a.formUtils.dialogs.removeAllMessagesAndStyling(e,b)}).addClass("has-validation-callback"),b.showHelpOnFocus&&e.showHelpOnFocus(),b.addSuggestions&&e.addSuggestions(),b.validateOnBlur&&(e.validateOnBlur(b.language,b),e.bind("html5ValidationAttrsFound",function(){e.validateOnBlur(b.language,b)})),b.validateOnEvent&&e.validateOnEvent(b.language,b)}),""!==b.modules&&a.formUtils.loadModules(b.modules,null,function(){"function"==typeof b.onModulesLoaded&&b.onModulesLoaded();var c="string"==typeof b.form?a(b.form):b.form;a.formUtils.$win.trigger("validatorsLoaded",[c,b])})}}(b),function(a,b){"use strict";var c=a(b);a.formUtils=a.extend(a.formUtils||{},{$win:c,defaultConfig:function(){return{ignore:[],errorElementClass:"error",successElementClass:"valid",borderColorOnError:"#b94a48",errorMessageClass:"form-error",validationRuleAttribute:"data-validation",validationErrorMsgAttribute:"data-validation-error-msg",errorMessagePosition:"inline",errorMessageTemplate:{container:'<div class="{errorMessageClass} alert alert-danger">{messages}</div>',messages:"<strong>{errorTitle}</strong><ul>{fields}</ul>",field:"<li>{msg}</li>"},scrollToTopOnError:!0,dateFormat:"yyyy-mm-dd",addValidClassOnAll:!1,decimalSeparator:".",inputParentClassOnError:"has-error",inputParentClassOnSuccess:"has-success",validateHiddenInputs:!1,inlineErrorMessageCallback:!1,submitErrorMessageCallback:!1}},validators:{},_events:{load:[],valid:[],invalid:[]},haltValidation:!1,addValidator:function(a){var b=0===a.name.indexOf("validate_")?a.name:"validate_"+a.name;void 0===a.validateOnKeyUp&&(a.validateOnKeyUp=!0),this.validators[b]=a},warn:function(a,c){"console"in b?"function"==typeof b.console.warn?b.console.warn(a):"function"==typeof b.console.log&&b.console.log(a):c&&alert(a)},getValue:function(a,b){var c=b?b.find(a):a;if(c.length>0){var d=c.eq(0).attr("type");return"radio"===d||"checkbox"===d?c.filter(":checked").val()||"":c.val()||""}return!1},validateInput:function(b,c,d,e,f){d=d||a.formUtils.defaultConfig(),c=c||a.formUtils.LANG,e.length||(e=b.parent());var g=this.getValue(b);b.valAttr("skipped",!1).one("beforeValidation",function(){(b.attr("disabled")||!b.is(":visible")&&!d.validateHiddenInputs)&&b.valAttr("skipped",1)}).trigger("beforeValidation",[g,c,d]);var h="true"===b.valAttr("optional"),i=!g&&h,j=b.attr(d.validationRuleAttribute),k=!0,l="",m={isValid:!0,shouldChangeDisplay:!0,errorMsg:""};if(!j||i||b.valAttr("skipped"))return m.shouldChangeDisplay=d.addValidClassOnAll,m;var n=b.valAttr("ignore");return n&&a.each(n.split(""),function(a,b){g=g.replace(new RegExp("\\"+b,"g"),"")}),a.split(j,function(h){0!==h.indexOf("validate_")&&(h="validate_"+h);var i=a.formUtils.validators[h];if(!i)throw new Error('Using undefined validator "'+h+'". Maybe you have forgotten to load the module that "'+h+'" belongs to?');if("validate_checkbox_group"===h&&(b=e.find('[name="'+b.attr("name")+'"]:eq(0)')),("keyup"!==f||i.validateOnKeyUp)&&(k=i.validatorFunction(g,b,d,c,e,f)),!k)return d.validateOnBlur&&b.validateOnKeyUp(c,d),l=a.formUtils.dialogs.resolveErrorMessage(b,i,h,d,c),!1}),!1===k?(b.trigger("validation",!1),m.errorMsg=l,m.isValid=!1,m.shouldChangeDisplay=!0):null===k?m.shouldChangeDisplay=!1:(b.trigger("validation",!0),m.shouldChangeDisplay=!0),"function"==typeof d.onElementValidate&&null!==l&&d.onElementValidate(m.isValid,b,e,l),b.trigger("afterValidation",[m,f]),m},parseDate:function(b,c,d){var e,f,g,h,i=c.replace(/[a-zA-Z]/gi,"").substring(0,1),j="^",k=c.split(i||null);if(a.each(k,function(a,b){j+=(a>0?"\\"+i:"")+"(\\d{"+b.length+"})"}),j+="$",d){var l=[];a.each(b.split(i),function(a,b){1===b.length&&(b="0"+b),l.push(b)}),b=l.join(i)}if(null===(e=b.match(new RegExp(j))))return!1;var m=function(b,c,d){for(var e=0;e<c.length;e++)if(c[e].substring(0,1)===b)return a.formUtils.parseDateInt(d[e+1]);return-1};return g=m("m",k,e),f=m("d",k,e),h=m("y",k,e),!(2===g&&f>28&&(h%4!=0||h%100==0&&h%400!=0)||2===g&&f>29&&(h%4==0||h%100!=0&&h%400==0)||g>12||0===g)&&!(this.isShortMonth(g)&&f>30||!this.isShortMonth(g)&&f>31||0===f)&&[h,g,f]},parseDateInt:function(a){return 0===a.indexOf("0")&&(a=a.replace("0","")),parseInt(a,10)},isShortMonth:function(a){return a%2==0&&a<7||a%2!=0&&a>7},lengthRestriction:function(b,c){var d=parseInt(c.text(),10),e=0,f=function(){var a=b.val().length;if(a>d){var f=b.scrollTop();b.val(b.val().substring(0,d)),b.scrollTop(f)}e=d-a,e<0&&(e=0),c.text(e)};a(b).bind("keydown keyup keypress focus blur",f).bind("cut paste",function(){setTimeout(f,100)}),a(document).bind("ready",f)},numericRangeCheck:function(b,c){var d=a.split(c),e=parseInt(c.substr(3),10);return 1===d.length&&-1===c.indexOf("min")&&-1===c.indexOf("max")&&(d=[c,c]),2===d.length&&(b<parseInt(d[0],10)||b>parseInt(d[1],10))?["out",d[0],d[1]]:0===c.indexOf("min")&&b<e?["min",e]:0===c.indexOf("max")&&b>e?["max",e]:["ok"]},_numSuggestionElements:0,_selectedSuggestion:null,_previousTypedVal:null,suggest:function(b,d,e){var f={css:{maxHeight:"150px",background:"#FFF",lineHeight:"150%",textDecoration:"underline",overflowX:"hidden",overflowY:"auto",border:"#CCC solid 1px",borderTop:"none",cursor:"pointer"},activeSuggestionCSS:{background:"#E9E9E9"}},g=function(a,b){var c=b.offset();a.css({width:b.outerWidth(),left:c.left+"px",top:c.top+b.outerHeight()+"px"})};e&&a.extend(f,e),f.css.position="absolute",f.css["z-index"]=9999,b.attr("autocomplete","off"),0===this._numSuggestionElements&&c.bind("resize",function(){a(".jquery-form-suggestions").each(function(){var b=a(this),c=b.attr("data-suggest-container");g(b,a(".suggestions-"+c).eq(0))})}),this._numSuggestionElements++;var h=function(b){var c=b.valAttr("suggestion-nr");a.formUtils._selectedSuggestion=null,a.formUtils._previousTypedVal=null,a(".jquery-form-suggestion-"+c).fadeOut("fast")};return b.data("suggestions",d).valAttr("suggestion-nr",this._numSuggestionElements).unbind("focus.suggest").bind("focus.suggest",function(){a(this).trigger("keyup"),a.formUtils._selectedSuggestion=null}).unbind("keyup.suggest").bind("keyup.suggest",function(){var c=a(this),d=[],e=a.trim(c.val()).toLocaleLowerCase();if(e!==a.formUtils._previousTypedVal){a.formUtils._previousTypedVal=e;var i=!1,j=c.valAttr("suggestion-nr"),k=a(".jquery-form-suggestion-"+j);if(k.scrollTop(0),""!==e){var l=e.length>2;a.each(c.data("suggestions"),function(a,b){var c=b.toLocaleLowerCase();return c===e?(d.push("<strong>"+b+"</strong>"),i=!0,!1):void((0===c.indexOf(e)||l&&c.indexOf(e)>-1)&&d.push(b.replace(new RegExp(e,"gi"),"<strong>$&</strong>")))})}i||0===d.length&&k.length>0?k.hide():d.length>0&&0===k.length?(k=a("<div></div>").css(f.css).appendTo("body"),b.addClass("suggestions-"+j),k.attr("data-suggest-container",j).addClass("jquery-form-suggestions").addClass("jquery-form-suggestion-"+j)):d.length>0&&!k.is(":visible")&&k.show(),d.length>0&&e.length!==d[0].length&&(g(k,c),k.html(""),a.each(d,function(b,d){a("<div></div>").append(d).css({overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",padding:"5px"}).addClass("form-suggest-element").appendTo(k).click(function(){c.focus(),c.val(a(this).text()),c.trigger("change"),h(c)})}))}}).unbind("keydown.validation").bind("keydown.validation",function(b){var c,d,e=b.keyCode?b.keyCode:b.which,g=a(this);if(13===e&&null!==a.formUtils._selectedSuggestion){if(c=g.valAttr("suggestion-nr"),d=a(".jquery-form-suggestion-"+c),d.length>0){var i=d.find("div").eq(a.formUtils._selectedSuggestion).text();g.val(i),g.trigger("change"),h(g),b.preventDefault()}}else{c=g.valAttr("suggestion-nr"),d=a(".jquery-form-suggestion-"+c);var j=d.children();if(j.length>0&&a.inArray(e,[38,40])>-1){38===e?(null===a.formUtils._selectedSuggestion?a.formUtils._selectedSuggestion=j.length-1:a.formUtils._selectedSuggestion--,a.formUtils._selectedSuggestion<0&&(a.formUtils._selectedSuggestion=j.length-1)):40===e&&(null===a.formUtils._selectedSuggestion?a.formUtils._selectedSuggestion=0:a.formUtils._selectedSuggestion++,a.formUtils._selectedSuggestion>j.length-1&&(a.formUtils._selectedSuggestion=0));var k=d.innerHeight(),l=d.scrollTop(),m=d.children().eq(0).outerHeight(),n=m*a.formUtils._selectedSuggestion;return(n<l||n>l+k)&&d.scrollTop(n),j.removeClass("active-suggestion").css("background","none").eq(a.formUtils._selectedSuggestion).addClass("active-suggestion").css(f.activeSuggestionCSS),b.preventDefault(),!1}}}).unbind("blur.suggest").bind("blur.suggest",function(){h(a(this))}),b},LANG:{errorTitle:"Form submission failed!",requiredField:"This is a required field",requiredFields:"You have not answered all required fields",badTime:"You have not given a correct time",badEmail:"You have not given a correct e-mail address",badTelephone:"You have not given a correct phone number",badSecurityAnswer:"You have not given a correct answer to the security question",badDate:"You have not given a correct date",lengthBadStart:"The input value must be between ",lengthBadEnd:" characters",lengthTooLongStart:"The input value is longer than ",lengthTooShortStart:"The input value is shorter than ",notConfirmed:"Input values could not be confirmed",badDomain:"Incorrect domain value",badUrl:"The input value is not a correct URL",badCustomVal:"The input value is incorrect",andSpaces:" and spaces ",badInt:"The input value was not a correct number",badSecurityNumber:"Your social security number was incorrect",badUKVatAnswer:"Incorrect UK VAT Number",badUKNin:"Incorrect UK NIN",badUKUtr:"Incorrect UK UTR Number",badStrength:"The password isn't strong enough",badNumberOfSelectedOptionsStart:"You have to choose at least ",badNumberOfSelectedOptionsEnd:" answers",badAlphaNumeric:"The input value can only contain alphanumeric characters ",badAlphaNumericExtra:" and ",wrongFileSize:"The file you are trying to upload is too large (max %s)",wrongFileType:"Only files of type %s is allowed",groupCheckedRangeStart:"Please choose between ",groupCheckedTooFewStart:"Please choose at least ",groupCheckedTooManyStart:"Please choose a maximum of ",groupCheckedEnd:" item(s)",badCreditCard:"The credit card number is not correct",badCVV:"The CVV number was not correct",wrongFileDim:"Incorrect image dimensions,",imageTooTall:"the image can not be taller than",imageTooWide:"the image can not be wider than",imageTooSmall:"the image was too small",min:"min",max:"max",imageRatioNotAccepted:"Image ratio is not be accepted",badBrazilTelephoneAnswer:"The phone number entered is invalid",badBrazilCEPAnswer:"The CEP entered is invalid",badBrazilCPFAnswer:"The CPF entered is invalid",badPlPesel:"The PESEL entered is invalid",badPlNip:"The NIP entered is invalid",badPlRegon:"The REGON entered is invalid",badreCaptcha:"Please confirm that you are not a bot",passwordComplexityStart:"Password must contain at least ",passwordComplexitySeparator:", ",passwordComplexityUppercaseInfo:" uppercase letter(s)",passwordComplexityLowercaseInfo:" lowercase letter(s)",passwordComplexitySpecialCharsInfo:" special character(s)",passwordComplexityNumericCharsInfo:" numeric character(s)",passwordComplexityEnd:"."}})}(b,window),function(a){a.formUtils.addValidator({name:"email",validatorFunction:function(b){var c=b.toLowerCase().split("@"),d=c[0],e=c[1];if(d&&e){if(0===d.indexOf('"')){var f=d.length;if(d=d.replace(/\"/g,""),d.length!==f-2)return!1}return a.formUtils.validators.validate_domain.validatorFunction(c[1])&&0!==d.indexOf(".")&&"."!==d.substring(d.length-1,d.length)&&-1===d.indexOf("..")&&!/[^\w\+\.\-\#\-\_\~\!\$\&\'\(\)\*\+\,\;\=\:]/.test(d)}return!1},errorMessage:"",errorMessageKey:"badEmail"}),a.formUtils.addValidator({name:"domain",validatorFunction:function(a){return a.length>0&&a.length<=253&&!/[^a-zA-Z0-9]/.test(a.slice(-2))&&!/[^a-zA-Z0-9]/.test(a.substr(0,1))&&!/[^a-zA-Z0-9\.\-]/.test(a)&&1===a.split("..").length&&a.split(".").length>1},errorMessage:"",errorMessageKey:"badDomain"}),a.formUtils.addValidator({name:"required",validatorFunction:function(b,c,d,e,f){switch(c.attr("type")){case"checkbox":return c.is(":checked");case"radio":return f.find('input[name="'+c.attr("name")+'"]').filter(":checked").length>0;default:return""!==a.trim(b)}},errorMessage:"",errorMessageKey:function(a){return"top"===a.errorMessagePosition||"function"==typeof a.errorMessagePosition?"requiredFields":"requiredField"}}),a.formUtils.addValidator({name:"length",validatorFunction:function(b,c,d,e){var f=c.valAttr("length"),g=c.attr("type");if(void 0===f)return alert('Please add attribute "data-validation-length" to '+c[0].nodeName+" named "+c.attr("name")),!0;var h,i="file"===g&&void 0!==c.get(0).files?c.get(0).files.length:b.length,j=a.formUtils.numericRangeCheck(i,f);switch(j[0]){case"out":this.errorMessage=e.lengthBadStart+f+e.lengthBadEnd,h=!1;break;case"min":this.errorMessage=e.lengthTooShortStart+j[1]+e.lengthBadEnd,h=!1;break;case"max":this.errorMessage=e.lengthTooLongStart+j[1]+e.lengthBadEnd,h=!1;break;default:h=!0}return h},errorMessage:"",errorMessageKey:""}),a.formUtils.addValidator({name:"url",validatorFunction:function(b){if(/^(https?|ftp):\/\/((((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])(\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|\[|\]|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#(((\w|-|\.|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b)){var c=b.split("://")[1],d=c.indexOf("/");return d>-1&&(c=c.substr(0,d)),a.formUtils.validators.validate_domain.validatorFunction(c)}return!1},errorMessage:"",errorMessageKey:"badUrl"}),a.formUtils.addValidator({name:"number",validatorFunction:function(a,b,c){if(""!==a){var d,e,f=b.valAttr("allowing")||"",g=b.valAttr("decimal-separator")||c.decimalSeparator,h=!1,i=b.valAttr("step")||"",j=!1;if((b.attr("data-sanitize")||"").match(/(^|[\s])numberFormat([\s]|$)/i)){if(!window.numeral)throw new ReferenceError("The data-sanitize value numberFormat cannot be used without the numeral library. Please see Data Validation in http://www.formvalidator.net for more information.");a.length&&(a=String(numeral().unformat(a)))}if(-1===f.indexOf("number")&&(f+=",number"),-1===f.indexOf("negative")&&0===a.indexOf("-"))return!1;if(f.indexOf("range")>-1&&(d=parseFloat(f.substring(f.indexOf("[")+1,f.indexOf(";"))),e=parseFloat(f.substring(f.indexOf(";")+1,f.indexOf("]"))),h=!0),""!==i&&(j=!0),","===g){if(a.indexOf(".")>-1)return!1;a=a.replace(",",".")}if(""===a.replace(/[0-9-]/g,"")&&(!h||a>=d&&a<=e)&&(!j||a%i==0))return!0;if(f.indexOf("float")>-1&&null!==a.match(new RegExp("^([0-9-]+)\\.([0-9]+)$"))&&(!h||a>=d&&a<=e)&&(!j||a%i==0))return!0}return!1},errorMessage:"",errorMessageKey:"badInt"}),a.formUtils.addValidator({name:"alphanumeric",validatorFunction:function(b,c,d,e){var f="^([a-zA-Z0-9",g="]+)$",h=c.valAttr("allowing"),i="",j=!1;if(h){i=f+h+g;var k=h.replace(/\\/g,"");k.indexOf(" ")>-1&&(j=!0,k=k.replace(" ",""),k+=e.andSpaces||a.formUtils.LANG.andSpaces),e.badAlphaNumericAndExtraAndSpaces&&e.badAlphaNumericAndExtra?this.errorMessage=j?e.badAlphaNumericAndExtraAndSpaces+k:e.badAlphaNumericAndExtra+k+e.badAlphaNumericExtra:this.errorMessage=e.badAlphaNumeric+e.badAlphaNumericExtra+k}else i=f+g,this.errorMessage=e.badAlphaNumeric;return new RegExp(i).test(b)},errorMessage:"",errorMessageKey:""}),a.formUtils.addValidator({name:"custom",validatorFunction:function(a,b){return new RegExp(b.valAttr("regexp")).test(a)},errorMessage:"",errorMessageKey:"badCustomVal"}),a.formUtils.addValidator({name:"date",validatorFunction:function(b,c,d){var e=c.valAttr("format")||d.dateFormat||"yyyy-mm-dd",f="false"===c.valAttr("require-leading-zero");return!1!==a.formUtils.parseDate(b,e,f)},errorMessage:"",errorMessageKey:"badDate"}),a.formUtils.addValidator({name:"checkbox_group",validatorFunction:function(b,c,d,e,f){var g=!0,h=c.attr("name"),i=a('input[type=checkbox][name^="'+h+'"]',f),j=i.filter(":checked").length,k=c.valAttr("qty");if(void 0===k){var l=c.get(0).nodeName;alert('Attribute "data-validation-qty" is missing from '+l+" named "+c.attr("name"))}var m=a.formUtils.numericRangeCheck(j,k);switch(m[0]){case"out":this.errorMessage=e.groupCheckedRangeStart+k+e.groupCheckedEnd,g=!1;break;case"min":this.errorMessage=e.groupCheckedTooFewStart+m[1]+(e.groupCheckedTooFewEnd||e.groupCheckedEnd),g=!1;break;case"max":this.errorMessage=e.groupCheckedTooManyStart+m[1]+(e.groupCheckedTooManyEnd||e.groupCheckedEnd),g=!1;break;default:g=!0}if(!g){var n=function(){i.unbind("click",n),i.filter("*[data-validation]").validateInputOnBlur(e,d,!1,"blur")};i.bind("click",n)}return g}})}(b)})},{jquery:61}],61:[function(a,b,c){!function(a,c){"use strict";"object"==typeof b&&"object"==typeof b.exports?b.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return c(a)}:c(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function c(a,b,c){c=c||ua;var d,e,f=c.createElement("script");if(f.text=a,b)for(d in va)(e=b[d]||b.getAttribute&&b.getAttribute(d))&&f.setAttribute(d,e);c.head.appendChild(f).parentNode.removeChild(f)}function d(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ma[na.call(a)]||"object":typeof a}function e(a){var b=!!a&&"length"in a&&a.length,c=d(a);return!sa(a)&&!ta(a)&&("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a)}function f(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function g(a,b){return b?"\0"===a?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a}function h(a,b,c){return sa(b)?ya.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?ya.grep(a,function(a){return a===b!==c}):"string"!=typeof b?ya.grep(a,function(a){return la.call(b,a)>-1!==c}):ya.filter(b,a,c)}function i(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function j(a){var b={};return ya.each(a.match(Pa)||[],function(a,c){b[c]=!0}),b}function k(a){return a}function l(a){throw a}function m(a,b,c,d){var e;try{a&&sa(e=a.promise)?e.call(a).done(b).fail(c):a&&sa(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}function n(){ua.removeEventListener("DOMContentLoaded",n),a.removeEventListener("load",n),ya.ready()}function o(a,b){return b.toUpperCase()}function p(a){return a.replace(Ta,"ms-").replace(Ua,o)}function q(){this.expando=ya.expando+q.uid++}function r(a){return"true"===a||"false"!==a&&("null"===a?null:a===+a+""?+a:Ya.test(a)?JSON.parse(a):a)}function s(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Za,"-$&").toLowerCase(),"string"==typeof(c=a.getAttribute(d))){try{c=r(c)}catch(a){}Xa.set(a,b,c)}else c=void 0;return c}function t(a,b,c,d){var e,f,g=20,h=d?function(){return d.cur()}:function(){return ya.css(a,b,"")},i=h(),j=c&&c[3]||(ya.cssNumber[b]?"":"px"),k=a.nodeType&&(ya.cssNumber[b]||"px"!==j&&+i)&&_a.exec(ya.css(a,b));if(k&&k[3]!==j){for(i/=2,j=j||k[3],k=+i||1;g--;)ya.style(a,b,k+j),(1-f)*(1-(f=h()/i||.5))<=0&&(g=0),k/=f;k*=2,ya.style(a,b,k+j),c=c||[]}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function u(a){var b,c=a.ownerDocument,d=a.nodeName,e=fb[d];return e||(b=c.body.appendChild(c.createElement(d)),e=ya.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),fb[d]=e,e)}function v(a,b){for(var c,d,e=[],f=0,g=a.length;f<g;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=Wa.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&eb(d)&&(e[f]=u(d))):"none"!==c&&(e[f]="none",Wa.set(d,"display",c)));for(f=0;f<g;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function w(a,b){var c;return c=void 0!==a.getElementsByTagName?a.getElementsByTagName(b||"*"):void 0!==a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&f(a,b)?ya.merge([a],c):c}function x(a,b){for(var c=0,d=a.length;c<d;c++)Wa.set(a[c],"globalEval",!b||Wa.get(b[c],"globalEval"))}function y(a,b,c,e,f){for(var g,h,i,j,k,l,m=b.createDocumentFragment(),n=[],o=0,p=a.length;o<p;o++)if((g=a[o])||0===g)if("object"===d(g))ya.merge(n,g.nodeType?[g]:g);else if(kb.test(g)){for(h=h||m.appendChild(b.createElement("div")),i=(hb.exec(g)||["",""])[1].toLowerCase(),j=jb[i]||jb._default,h.innerHTML=j[1]+ya.htmlPrefilter(g)+j[2],l=j[0];l--;)h=h.lastChild;ya.merge(n,h.childNodes),h=m.firstChild,h.textContent=""}else n.push(b.createTextNode(g));for(m.textContent="",o=0;g=n[o++];)if(e&&ya.inArray(g,e)>-1)f&&f.push(g);else if(k=cb(g),h=w(m.appendChild(g),"script"),k&&x(h),c)for(l=0;g=h[l++];)ib.test(g.type||"")&&c.push(g);return m}function z(){return!0}function A(){return!1}function B(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)B(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),!1===e)e=A;else if(!e)return a;return 1===f&&(g=e,e=function(a){return ya().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=ya.guid++)),a.each(function(){ya.event.add(this,b,e,d,c)})}function C(a,b,c){if(!c)return void(void 0===Wa.get(a,b)&&ya.event.add(a,b,z));Wa.set(a,b,!1),ya.event.add(a,b,{namespace:!1,handler:function(a){var c,d=Wa.get(this,b);if(1&a.isTrigger&&this[b]){if(d)(ya.event.special[b]||{}).delegateType&&a.stopPropagation();else if(d=ia.call(arguments),Wa.set(this,b,d),this[b](),c=Wa.get(this,b),Wa.set(this,b,!1),d!==c)return a.stopImmediatePropagation(),a.preventDefault(),c}else d&&(Wa.set(this,b,ya.event.trigger(d[0],d.slice(1),this)),a.stopPropagation(),a.isImmediatePropagationStopped=z)}})}function D(a,b){return f(a,"table")&&f(11!==b.nodeType?b:b.firstChild,"tr")?ya(a).children("tbody")[0]||a:a}function E(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function F(a){return"true/"===(a.type||"").slice(0,5)?a.type=a.type.slice(5):a.removeAttribute("type"),a}function G(a,b){var c,d,e,f,g,h,i;if(1===b.nodeType){if(Wa.hasData(a)&&(f=Wa.get(a),i=f.events)){Wa.remove(b,"handle events");for(e in i)for(c=0,d=i[e].length;c<d;c++)ya.event.add(b,e,i[e][c])}Xa.hasData(a)&&(g=Xa.access(a),h=ya.extend({},g),Xa.set(b,h))}}function H(a,b){var c=b.nodeName.toLowerCase();"input"===c&&gb.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function I(a,b,d,e){b=ja(b);var f,g,h,i,j,k,l=0,m=a.length,n=m-1,o=b[0],p=sa(o);if(p||m>1&&"string"==typeof o&&!ra.checkClone&&nb.test(o))return a.each(function(c){var f=a.eq(c);p&&(b[0]=o.call(this,c,f.html())),I(f,b,d,e)});if(m&&(f=y(b,a[0].ownerDocument,!1,a,e),g=f.firstChild,1===f.childNodes.length&&(f=g),g||e)){for(h=ya.map(w(f,"script"),E),i=h.length;l<m;l++)j=f,l!==n&&(j=ya.clone(j,!0,!0),i&&ya.merge(h,w(j,"script"))),d.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,ya.map(h,F),l=0;l<i;l++)j=h[l],ib.test(j.type||"")&&!Wa.access(j,"globalEval")&&ya.contains(k,j)&&(j.src&&"module"!==(j.type||"").toLowerCase()?ya._evalUrl&&!j.noModule&&ya._evalUrl(j.src,{nonce:j.nonce||j.getAttribute("nonce")},k):c(j.textContent.replace(ob,""),j,k))}return a}function J(a,b,c){for(var d,e=b?ya.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||ya.cleanData(w(d)),d.parentNode&&(c&&cb(d)&&x(w(d,"script")),d.parentNode.removeChild(d));return a}function K(a,b,c){var d,e,f,g,h=qb.test(b),i=a.style;return c=c||rb(a),c&&(g=c.getPropertyValue(b)||c[b],h&&g&&(g=g.replace(Da,"$1")||void 0),""!==g||cb(a)||(g=ya.style(a,b)),!ra.pixelBoxStyles()&&pb.test(g)&&tb.test(b)&&(d=i.width,e=i.minWidth,f=i.maxWidth,i.minWidth=i.maxWidth=i.width=g,g=c.width,i.width=d,i.minWidth=e,i.maxWidth=f)),void 0!==g?g+"":g}function L(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function M(a){for(var b=a[0].toUpperCase()+a.slice(1),c=ub.length;c--;)if((a=ub[c]+b)in vb)return a}function N(a){var b=ya.cssProps[a]||wb[a];return b||(a in vb?a:wb[a]=M(a)||a)}function O(a,b,c){var d=_a.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function P(a,b,c,d,e,f){var g="width"===b?1:0,h=0,i=0,j=0;if(c===(d?"border":"content"))return 0;for(;g<4;g+=2)"margin"===c&&(j+=ya.css(a,c+ab[g],!0,e)),d?("content"===c&&(i-=ya.css(a,"padding"+ab[g],!0,e)),"margin"!==c&&(i-=ya.css(a,"border"+ab[g]+"Width",!0,e))):(i+=ya.css(a,"padding"+ab[g],!0,e),"padding"!==c?i+=ya.css(a,"border"+ab[g]+"Width",!0,e):h+=ya.css(a,"border"+ab[g]+"Width",!0,e));return!d&&f>=0&&(i+=Math.max(0,Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-f-i-h-.5))||0),i+j}function Q(a,b,c){var d=rb(a),e=!ra.boxSizingReliable()||c,g=e&&"border-box"===ya.css(a,"boxSizing",!1,d),h=g,i=K(a,b,d),j="offset"+b[0].toUpperCase()+b.slice(1);if(pb.test(i)){if(!c)return i;i="auto"}return(!ra.boxSizingReliable()&&g||!ra.reliableTrDimensions()&&f(a,"tr")||"auto"===i||!parseFloat(i)&&"inline"===ya.css(a,"display",!1,d))&&a.getClientRects().length&&(g="border-box"===ya.css(a,"boxSizing",!1,d),(h=j in a)&&(i=a[j])),(i=parseFloat(i)||0)+P(a,b,c||(g?"border":"content"),h,d,i)+"px"}function R(a,b,c,d,e){return new R.prototype.init(a,b,c,d,e)}function S(){Bb&&(!1===ua.hidden&&a.requestAnimationFrame?a.requestAnimationFrame(S):a.setTimeout(S,ya.fx.interval),ya.fx.tick())}function T(){return a.setTimeout(function(){Ab=void 0}),Ab=Date.now()}function U(a,b){var c,d=0,e={height:a};for(b=b?1:0;d<4;d+=2-b)c=ab[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function V(a,b,c){for(var d,e=(Y.tweeners[b]||[]).concat(Y.tweeners["*"]),f=0,g=e.length;f<g;f++)if(d=e[f].call(c,b,a))return d}function W(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&eb(a),q=Wa.get(a,"fxshow");c.queue||(g=ya._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,ya.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],Cb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||ya.style(a,d)}if((i=!ya.isEmptyObject(b))||!ya.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=Wa.get(a,"display")),k=ya.css(a,"display"),"none"===k&&(j?k=j:(v([a],!0),j=a.style.display||j,k=ya.css(a,"display"),v([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===ya.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=Wa.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&v([a],!0),m.done(function(){p||v([a]),Wa.remove(a,"fxshow");for(d in n)ya.style(a,d,n[d])})),i=V(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function X(a,b){var c,d,e,f,g;for(c in a)if(d=p(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),(g=ya.cssHooks[d])&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Y(a,b,c){var d,e,f=0,g=Y.prefilters.length,h=ya.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Ab||T(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;g<i;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),f<1&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ya.extend({},b),opts:ya.extend(!0,{specialEasing:{},easing:ya.easing._default},c),originalProperties:b,originalOptions:c,startTime:Ab||T(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ya.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;c<d;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(X(k,j.opts.specialEasing);f<g;f++)if(d=Y.prefilters[f].call(j,a,k,j.opts))return sa(d.stop)&&(ya._queueHooks(j.elem,j.opts.queue).stop=d.stop.bind(d)),d;return ya.map(k,V,j),sa(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),ya.fx.timer(ya.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}function Z(a){return(a.match(Pa)||[]).join(" ")}function $(a){return a.getAttribute&&a.getAttribute("class")||""}function _(a){return Array.isArray(a)?a:"string"==typeof a?a.match(Pa)||[]:[]}function aa(a,b,c,e){var f;if(Array.isArray(b))ya.each(b,function(b,d){c||Ob.test(a)?e(a,d):aa(a+"["+("object"==typeof d&&null!=d?b:"")+"]",d,c,e)});else if(c||"object"!==d(b))e(a,b);else for(f in b)aa(a+"["+f+"]",b[f],c,e)}function ba(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(Pa)||[];if(sa(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function ca(a,b,c,d){function e(h){var i;return f[h]=!0,ya.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===$b;return e(b.dataTypes[0])||!f["*"]&&e("*")}function da(a,b){var c,d,e=ya.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&ya.extend(!0,a,d),a}function ea(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}if(f)return f!==i[0]&&i.unshift(f),c[f]}function fa(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(!(g=j[i+" "+f]||j["* "+f]))for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){!0===g?g=j[e]:!0!==j[e]&&(f=h[0],k.unshift(h[1]));break}if(!0!==g)if(g&&a.throws)b=g(b);else try{b=g(b)}catch(a){return{state:"parsererror",error:g?a:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}var ga=[],ha=Object.getPrototypeOf,ia=ga.slice,ja=ga.flat?function(a){return ga.flat.call(a)}:function(a){return ga.concat.apply([],a)},ka=ga.push,la=ga.indexOf,ma={},na=ma.toString,oa=ma.hasOwnProperty,pa=oa.toString,qa=pa.call(Object),ra={},sa=function(a){return"function"==typeof a&&"number"!=typeof a.nodeType&&"function"!=typeof a.item},ta=function(a){return null!=a&&a===a.window},ua=a.document,va={type:!0,src:!0,nonce:!0,noModule:!0},wa="3.7.1",xa=/HTML$/i,ya=function(a,b){return new ya.fn.init(a,b)};ya.fn=ya.prototype={jquery:wa,constructor:ya,length:0,toArray:function(){return ia.call(this)},get:function(a){return null==a?ia.call(this):a<0?this[a+this.length]:this[a]},pushStack:function(a){var b=ya.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return ya.each(this,a)},map:function(a){return this.pushStack(ya.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ia.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(ya.grep(this,function(a,b){return(b+1)%2}))},odd:function(){return this.pushStack(ya.grep(this,function(a,b){return b%2}))},eq:function(a){var b=this.length,c=+a+(a<0?b:0);return this.pushStack(c>=0&&c<b?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:ka,sort:ga.sort,splice:ga.splice},ya.extend=ya.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||sa(g)||(g={}),h===i&&(g=this,h--);h<i;h++)if(null!=(a=arguments[h]))for(b in a)d=a[b],"__proto__"!==b&&g!==d&&(j&&d&&(ya.isPlainObject(d)||(e=Array.isArray(d)))?(c=g[b],f=e&&!Array.isArray(c)?[]:e||ya.isPlainObject(c)?c:{},e=!1,g[b]=ya.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},ya.extend({expando:"jQuery"+(wa+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var b,c;return!(!a||"[object Object]"!==na.call(a))&&(!(b=ha(a))||"function"==typeof(c=oa.call(b,"constructor")&&b.constructor)&&pa.call(c)===qa)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},globalEval:function(a,b,d){c(a,{nonce:b&&b.nonce},d)},each:function(a,b){var c,d=0;if(e(a))for(c=a.length;d<c&&!1!==b.call(a[d],d,a[d]);d++);else for(d in a)if(!1===b.call(a[d],d,a[d]))break;return a},text:function(a){var b,c="",d=0,e=a.nodeType;if(!e)for(;b=a[d++];)c+=ya.text(b);return 1===e||11===e?a.textContent:9===e?a.documentElement.textContent:3===e||4===e?a.nodeValue:c},makeArray:function(a,b){var c=b||[];return null!=a&&(e(Object(a))?ya.merge(c,"string"==typeof a?[a]:a):ka.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:la.call(b,a,c)},isXMLDoc:function(a){var b=a&&a.namespaceURI,c=a&&(a.ownerDocument||a).documentElement;return!xa.test(b||c&&c.nodeName||"HTML")},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;d<c;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d=[],e=0,f=a.length,g=!c;e<f;e++)!b(a[e],e)!==g&&d.push(a[e]);return d},map:function(a,b,c){var d,f,g=0,h=[];if(e(a))for(d=a.length;g<d;g++)null!=(f=b(a[g],g,c))&&h.push(f);else for(g in a)null!=(f=b(a[g],g,c))&&h.push(f);return ja(h)},guid:1,support:ra}),"function"==typeof Symbol&&(ya.fn[Symbol.iterator]=ga[Symbol.iterator]),ya.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){ma["[object "+b+"]"]=b.toLowerCase()});var za=ga.pop,Aa=ga.sort,Ba=ga.splice,Ca="[\\x20\\t\\r\\n\\f]",Da=new RegExp("^"+Ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Ca+"+$","g");ya.contains=function(a,b){var c=b&&b.parentNode;return a===c||!(!c||1!==c.nodeType||!(a.contains?a.contains(c):a.compareDocumentPosition&&16&a.compareDocumentPosition(c)))};var Ea=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;ya.escapeSelector=function(a){return(a+"").replace(Ea,g)};var Fa=ua,Ga=ka;!function(){function b(){try{return E.activeElement}catch(a){}}function c(a,b,d,e){var f,g,h,i,j,k,n,q=b&&b.ownerDocument,r=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==r&&9!==r&&11!==r)return d;if(!e&&(m(b),b=b||E,G)){if(11!==r&&(j=da.exec(a)))if(f=j[1]){if(9===r){if(!(h=b.getElementById(f)))return d;if(h.id===f)return J.call(d,h),d}else if(q&&(h=q.getElementById(f))&&c.contains(b,h)&&h.id===f)return J.call(d,h),d}else{if(j[2])return J.apply(d,b.getElementsByTagName(a)),d;if((f=j[3])&&b.getElementsByClassName)return J.apply(d,b.getElementsByClassName(f)),d}if(!(Q[a+" "]||H&&H.test(a))){if(n=a,q=b,1===r&&(Z.test(a)||Y.test(a))){for(q=ea.test(a)&&l(b.parentNode)||b,q==b&&ra.scope||((i=b.getAttribute("id"))?i=ya.escapeSelector(i):b.setAttribute("id",i=K)),k=o(a),g=k.length;g--;)k[g]=(i?"#"+i:":scope")+" "+p(k[g]);n=k.join(",")}try{return J.apply(d,q.querySelectorAll(n)),d}catch(b){Q(a,!0)}finally{i===K&&b.removeAttribute("id")}}}return y(a.replace(Da,"$1"),b,d,e)}function d(){function a(c,d){return b.push(c+" ")>A.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function e(a){return a[K]=!0,a}function g(a){var b=E.createElement("fieldset");try{return!!a(b)}catch(a){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function h(a){return function(b){return f(b,"input")&&b.type===a}}function i(a){return function(b){return(f(b,"input")||f(b,"button"))&&b.type===a}}function j(a){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ka(b)===a:b.disabled===a:"label"in b&&b.disabled===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(a){return a&&void 0!==a.getElementsByTagName&&a}function m(a){var b,d=a?a.ownerDocument||a:Fa;return d!=E&&9===d.nodeType&&d.documentElement?(E=d,F=E.documentElement,G=!ya.isXMLDoc(E),I=F.matches||F.webkitMatchesSelector||F.msMatchesSelector,F.msMatchesSelector&&Fa!=E&&(b=E.defaultView)&&b.top!==b&&b.addEventListener("unload",ja),ra.getById=g(function(a){return F.appendChild(a).id=ya.expando,!E.getElementsByName||!E.getElementsByName(ya.expando).length}),ra.disconnectedMatch=g(function(a){return I.call(a,"*")}),ra.scope=g(function(){return E.querySelectorAll(":scope")}),ra.cssHas=g(function(){try{return E.querySelector(":has(*,:jqfake)"),!1}catch(a){return!0}}),ra.getById?(A.filter.ID=function(a){var b=a.replace(fa,ha);return function(a){return a.getAttribute("id")===b}},A.find.ID=function(a,b){if(void 0!==b.getElementById&&G){var c=b.getElementById(a);return c?[c]:[]}}):(A.filter.ID=function(a){var b=a.replace(fa,ha);return function(a){var c=void 0!==a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},A.find.ID=function(a,b){if(void 0!==b.getElementById&&G){var c,d,e,f=b.getElementById(a);if(f){if((c=f.getAttributeNode("id"))&&c.value===a)return[f];for(e=b.getElementsByName(a),d=0;f=e[d++];)if((c=f.getAttributeNode("id"))&&c.value===a)return[f]}return[]}}),A.find.TAG=function(a,b){return void 0!==b.getElementsByTagName?b.getElementsByTagName(a):b.querySelectorAll(a)},A.find.CLASS=function(a,b){if(void 0!==b.getElementsByClassName&&G)return b.getElementsByClassName(a)},H=[],g(function(a){var b;F.appendChild(a).innerHTML="<a id='"+K+"' href='' disabled='disabled'></a><select id='"+K+"-\r\\' disabled='disabled'><option selected=''></option></select>",a.querySelectorAll("[selected]").length||H.push("\\["+Ca+"*(?:value|"+S+")"),a.querySelectorAll("[id~="+K+"-]").length||H.push("~="),a.querySelectorAll("a#"+K+"+*").length||H.push(".#.+[+~]"),a.querySelectorAll(":checked").length||H.push(":checked"),b=E.createElement("input"),b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),F.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&H.push(":enabled",":disabled"),b=E.createElement("input"),b.setAttribute("name",""),a.appendChild(b),a.querySelectorAll("[name='']").length||H.push("\\["+Ca+"*name"+Ca+"*="+Ca+"*(?:''|\"\")")}),ra.cssHas||H.push(":has"),H=H.length&&new RegExp(H.join("|")),R=function(a,b){if(a===b)return D=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d||(d=(a.ownerDocument||a)==(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!ra.sortDetached&&b.compareDocumentPosition(a)===d?a===E||a.ownerDocument==Fa&&c.contains(Fa,a)?-1:b===E||b.ownerDocument==Fa&&c.contains(Fa,b)?1:C?la.call(C,a)-la.call(C,b):0:4&d?-1:1)},E):E}function n(){}function o(a,b){var d,e,f,g,h,i,j,k=O[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=A.preFilter;h;){d&&!(e=X.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=Y.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(Da," ")}),h=h.slice(d.length));for(g in A.filter)!(e=aa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):O(a,i).slice(0)}function p(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function q(a,b,c){var d=b.dir,e=b.next,g=e||d,h=c&&"parentNode"===g,i=M++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||h)return a(b,c,e);return!1}:function(b,c,j){var k,l,m=[L,i];if(j){for(;b=b[d];)if((1===b.nodeType||h)&&a(b,c,j))return!0}else for(;b=b[d];)if(1===b.nodeType||h)if(l=b[K]||(b[K]={}),e&&f(b,e))b=b[d]||b;else{if((k=l[g])&&k[0]===L&&k[1]===i)return m[2]=k[2];if(l[g]=m,m[2]=a(b,c,j))return!0}return!1}}function r(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function s(a,b,d){for(var e=0,f=b.length;e<f;e++)c(a,b[e],d);return d}function t(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;h<i;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function u(a,b,c,d,f,g){return d&&!d[K]&&(d=u(d)),f&&!f[K]&&(f=u(f,g)),e(function(e,g,h,i){var j,k,l,m,n=[],o=[],p=g.length,q=e||s(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?q:t(q,n,a,h,i);if(c?(m=f||(e?a:p||d)?[]:g,c(r,m,h,i)):m=r,d)for(j=t(m,o),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(m[o[k]]=!(r[o[k]]=l));if(e){if(f||a){if(f){for(j=[],k=m.length;k--;)(l=m[k])&&j.push(r[k]=l);f(null,m=[],j,i)}for(k=m.length;k--;)(l=m[k])&&(j=f?la.call(e,l):n[k])>-1&&(e[j]=!(g[j]=l))}}else m=t(m===g?m.splice(p,m.length):m),f?f(null,g,m,i):J.apply(g,m)})}function v(a){for(var b,c,d,e=a.length,f=A.relative[a[0].type],g=f||A.relative[" "],h=f?1:0,i=q(function(a){return a===b},g,!0),j=q(function(a){return la.call(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!=B)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];h<e;h++)if(c=A.relative[a[h].type])k=[q(r(k),c)];else{if(c=A.filter[a[h].type].apply(null,a[h].matches),c[K]){for(d=++h;d<e&&!A.relative[a[d].type];d++);return u(h>1&&r(k),h>1&&p(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(Da,"$1"),c,h<d&&v(a.slice(h,d)),d<e&&v(a=a.slice(d)),d<e&&p(a))}k.push(c)}return r(k)}function w(a,b){var c=b.length>0,d=a.length>0,f=function(e,f,g,h,i){var j,k,l,n=0,o="0",p=e&&[],q=[],r=B,s=e||d&&A.find.TAG("*",i),u=L+=null==r?1:Math.random()||.1,v=s.length;for(i&&(B=f==E||f||i);o!==v&&null!=(j=s[o]);o++){if(d&&j){for(k=0,f||j.ownerDocument==E||(m(j),g=!G);l=a[k++];)if(l(j,f||E,g)){J.call(h,j);break}i&&(L=u)}c&&((j=!l&&j)&&n--,e&&p.push(j))}if(n+=o,c&&o!==n){for(k=0;l=b[k++];)l(p,q,f,g);if(e){if(n>0)for(;o--;)p[o]||q[o]||(q[o]=za.call(h));q=t(q)}J.apply(h,q),i&&!e&&q.length>0&&n+b.length>1&&ya.uniqueSort(h)}return i&&(L=u,B=r),p};return c?e(f):f}function x(a,b){var c,d=[],e=[],f=P[a+" "];if(!f){for(b||(b=o(a)),c=b.length;c--;)f=v(b[c]),f[K]?d.push(f):e.push(f);f=P(a,w(e,d)),f.selector=a}return f}function y(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,k=!d&&o(a=j.selector||a);if(c=c||[],1===k.length){if(f=k[0]=k[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&9===b.nodeType&&G&&A.relative[f[1].type]){if(!(b=(A.find.ID(g.matches[0].replace(fa,ha),b)||[])[0]))return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=aa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!A.relative[h=g.type]);)if((i=A.find[h])&&(d=i(g.matches[0].replace(fa,ha),ea.test(f[0].type)&&l(b.parentNode)||b))){if(f.splice(e,1),!(a=d.length&&p(f)))return J.apply(c,d),c;break}}return(j||x(a,k))(d,b,!G,c,!b||ea.test(a)&&l(b.parentNode)||b),c}var z,A,B,C,D,E,F,G,H,I,J=Ga,K=ya.expando,L=0,M=0,N=d(),O=d(),P=d(),Q=d(),R=function(a,b){return a===b&&(D=!0),0},S="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",T="(?:\\\\[\\da-fA-F]{1,6}"+Ca+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\["+Ca+"*("+T+")(?:"+Ca+"*([*^$|!~]?=)"+Ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+T+"))|)"+Ca+"*\\]",V=":("+T+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",W=new RegExp(Ca+"+","g"),X=new RegExp("^"+Ca+"*,"+Ca+"*"),Y=new RegExp("^"+Ca+"*([>+~]|"+Ca+")"+Ca+"*"),Z=new RegExp(Ca+"|>"),$=new RegExp(V),_=new RegExp("^"+T+"$"),aa={ID:new RegExp("^#("+T+")"),CLASS:new RegExp("^\\.("+T+")"),TAG:new RegExp("^("+T+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Ca+"*(even|odd|(([+-]|)(\\d*)n|)"+Ca+"*(?:([+-]|)"+Ca+"*(\\d+)|))"+Ca+"*\\)|)","i"),bool:new RegExp("^(?:"+S+")$","i"),needsContext:new RegExp("^"+Ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Ca+"*((?:-\\d)?\\d*)"+Ca+"*\\)|)(?=[^-]|$)","i")},ba=/^(?:input|select|textarea|button)$/i,ca=/^h\d$/i,da=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ea=/[+~]/,fa=new RegExp("\\\\[\\da-fA-F]{1,6}"+Ca+"?|\\\\([^\\r\\n\\f])","g"),ha=function(a,b){var c="0x"+a.slice(1)-65536;return b||(c<0?String.fromCharCode(c+65536):String.fromCharCode(c>>10|55296,1023&c|56320))},ja=function(){m()},ka=q(function(a){return!0===a.disabled&&f(a,"fieldset")},{dir:"parentNode",next:"legend"});try{J.apply(ga=ia.call(Fa.childNodes),Fa.childNodes),ga[Fa.childNodes.length].nodeType}catch(a){J={apply:function(a,b){Ga.apply(a,ia.call(b))},call:function(a){Ga.apply(a,ia.call(arguments,1))}}}c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if(m(a),G&&!Q[b+" "]&&(!H||!H.test(b)))try{var d=I.call(a,b);if(d||ra.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(a){Q(b,!0)}return c(b,E,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!=E&&m(a),ya.contains(a,b)},c.attr=function(a,b){(a.ownerDocument||a)!=E&&m(a);var c=A.attrHandle[b.toLowerCase()],d=c&&oa.call(A.attrHandle,b.toLowerCase())?c(a,b,!G):void 0;return void 0!==d?d:a.getAttribute(b)},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ya.uniqueSort=function(a){var b,c=[],d=0,e=0;if(D=!ra.sortStable,C=!ra.sortStable&&ia.call(a,0),Aa.call(a,R),D){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)Ba.call(a,c[d],1)}return C=null,a},ya.fn.uniqueSort=function(){return this.pushStack(ya.uniqueSort(ia.apply(this)))},A=ya.expr={cacheLength:50,createPseudo:e,match:aa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(fa,ha),a[3]=(a[3]||a[4]||a[5]||"").replace(fa,ha),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return aa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&$.test(c)&&(b=o(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(fa,ha).toLowerCase();return"*"===a?function(){return!0}:function(a){return f(a,b)}},CLASS:function(a){var b=N[a+" "];return b||(b=new RegExp("(^|"+Ca+")"+a+"("+Ca+"|$)"))&&N(a,function(a){return b.test("string"==typeof a.className&&a.className||void 0!==a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:!b||(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f.replace(W," ")+" ").indexOf(d)>-1:"|="===b&&(f===d||f.slice(0,d.length+1)===d+"-"))}},CHILD:function(a,b,c,d,e){var g="nth"!==a.slice(0,3),h="last"!==a.slice(-4),i="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,j){var k,l,m,n,o,p=g!==h?"nextSibling":"previousSibling",q=b.parentNode,r=i&&b.nodeName.toLowerCase(),s=!j&&!i,t=!1;if(q){if(g){for(;p;){for(m=b;m=m[p];)if(i?f(m,r):1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[h?q.firstChild:q.lastChild],h&&s){for(l=q[K]||(q[K]={}),k=l[a]||[],n=k[0]===L&&k[1],t=n&&k[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){l[a]=[L,n,t];break}}else if(s&&(l=b[K]||(b[K]={}),k=l[a]||[],n=k[0]===L&&k[1],t=n),!1===t)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((i?!f(m,r):1!==m.nodeType)||!++t||(s&&(l=m[K]||(m[K]={}),l[a]=[L,t]),m!==b)););return(t-=e)===d||t%d==0&&t/d>=0}}},PSEUDO:function(a,b){var d,f=A.pseudos[a]||A.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[K]?f(b):f.length>1?(d=[a,a,"",b],A.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=la.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=x(a.replace(Da,"$1"));return d[K]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return a=a.replace(fa,ha),function(b){return(b.textContent||ya.text(b)).indexOf(a)>-1}}),lang:e(function(a){return _.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(fa,ha).toLowerCase(),function(b){var c;do{if(c=G?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return(c=c.toLowerCase())===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===F},focus:function(a){return a===b()&&E.hasFocus()&&!!(a.type||a.href||~a.tabIndex)},enabled:j(!1),disabled:j(!0),checked:function(a){return f(a,"input")&&!!a.checked||f(a,"option")&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!A.pseudos.empty(a)},header:function(a){return ca.test(a.nodeName)},input:function(a){return ba.test(a.nodeName)},button:function(a){return f(a,"input")&&"button"===a.type||f(a,"button")},text:function(a){var b;return f(a,"input")&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[c<0?c+b:c]}),even:k(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;c<b;c+=2)a.push(c);return a}),lt:k(function(a,b,c){var d;for(d=c<0?c+b:c>b?b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=c<0?c+b:c;++d<b;)a.push(d);return a})}},A.pseudos.nth=A.pseudos.eq;for(z in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})A.pseudos[z]=h(z);for(z in{submit:!0,reset:!0})A.pseudos[z]=i(z);n.prototype=A.filters=A.pseudos,A.setFilters=new n,ra.sortStable=K.split("").sort(R).join("")===K,m(),ra.sortDetached=g(function(a){return 1&a.compareDocumentPosition(E.createElement("fieldset"))}),ya.find=c,ya.expr[":"]=ya.expr.pseudos,ya.unique=ya.uniqueSort,c.compile=x,c.select=y,c.setDocument=m,c.tokenize=o,c.escape=ya.escapeSelector,c.getText=ya.text,c.isXML=ya.isXMLDoc,c.selectors=ya.expr,c.support=ya.support,c.uniqueSort=ya.uniqueSort}();var Ha=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&ya(a).is(c))break;d.push(a)}return d},Ia=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},Ja=ya.expr.match.needsContext,Ka=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;ya.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ya.find.matchesSelector(d,a)?[d]:[]:ya.find.matches(a,ya.grep(b,function(a){return 1===a.nodeType}))},ya.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(ya(a).filter(function(){for(b=0;b<d;b++)if(ya.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;b<d;b++)ya.find(a,e[b],c);return d>1?ya.uniqueSort(c):c},filter:function(a){return this.pushStack(h(this,a||[],!1))},not:function(a){return this.pushStack(h(this,a||[],!0))},is:function(a){return!!h(this,"string"==typeof a&&Ja.test(a)?ya(a):a||[],!1).length}});var La,Ma=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(ya.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||La,"string"==typeof a){if(!(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:Ma.exec(a))||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof ya?b[0]:b,ya.merge(this,ya.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:ua,!0)),Ka.test(d[1])&&ya.isPlainObject(b))for(d in b)sa(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=ua.getElementById(d[2]),e&&(this[0]=e,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):sa(a)?void 0!==c.ready?c.ready(a):a(ya):ya.makeArray(a,this)}).prototype=ya.fn,La=ya(ua);var Na=/^(?:parents|prev(?:Until|All))/,Oa={children:!0,contents:!0,next:!0,prev:!0};ya.fn.extend({has:function(a){var b=ya(a,this),c=b.length;return this.filter(function(){for(var a=0;a<c;a++)if(ya.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&ya(a);if(!Ja.test(a))for(;d<e;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&ya.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?ya.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?la.call(ya(a),this[0]):la.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(ya.uniqueSort(ya.merge(this.get(),ya(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ya.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return Ha(a,"parentNode")},parentsUntil:function(a,b,c){return Ha(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return Ha(a,"nextSibling")},prevAll:function(a){return Ha(a,"previousSibling")},nextUntil:function(a,b,c){return Ha(a,"nextSibling",c)},prevUntil:function(a,b,c){return Ha(a,"previousSibling",c)},siblings:function(a){return Ia((a.parentNode||{}).firstChild,a)},children:function(a){return Ia(a.firstChild)},contents:function(a){return null!=a.contentDocument&&ha(a.contentDocument)?a.contentDocument:(f(a,"template")&&(a=a.content||a),ya.merge([],a.childNodes))}},function(a,b){ya.fn[a]=function(c,d){var e=ya.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ya.filter(d,e)),this.length>1&&(Oa[a]||ya.uniqueSort(e),Na.test(a)&&e.reverse()),this.pushStack(e)}});var Pa=/[^\x20\t\r\n\f]+/g;ya.Callbacks=function(a){a="string"==typeof a?j(a):ya.extend({},a);var b,c,e,f,g=[],h=[],i=-1,k=function(){for(f=f||a.once,e=b=!0;h.length;i=-1)for(c=h.shift();++i<g.length;)!1===g[i].apply(c[0],c[1])&&a.stopOnFalse&&(i=g.length,c=!1);a.memory||(c=!1),b=!1,f&&(g=c?[]:"")},l={add:function(){return g&&(c&&!b&&(i=g.length-1,h.push(c)),function b(c){ya.each(c,function(c,e){sa(e)?a.unique&&l.has(e)||g.push(e):e&&e.length&&"string"!==d(e)&&b(e)})}(arguments),c&&!b&&k()),this},remove:function(){return ya.each(arguments,function(a,b){for(var c;(c=ya.inArray(b,g,c))>-1;)g.splice(c,1),c<=i&&i--}),this},has:function(a){return a?ya.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return f=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return f=h=[],c||b||(g=c=""),this},locked:function(){return!!f},fireWith:function(a,c){return f||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||k()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!e}};return l},ya.extend({Deferred:function(b){var c=[["notify","progress",ya.Callbacks("memory"),ya.Callbacks("memory"),2],["resolve","done",ya.Callbacks("once memory"),ya.Callbacks("once memory"),0,"resolved"],["reject","fail",ya.Callbacks("once memory"),ya.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},catch:function(a){return e.then(null,a)},pipe:function(){var a=arguments;return ya.Deferred(function(b){ya.each(c,function(c,d){var e=sa(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&sa(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){function f(b,c,d,e){return function(){var h=this,i=arguments,j=function(){var a,j;if(!(b<g)){if((a=d.apply(h,i))===c.promise())throw new TypeError("Thenable self-resolution");j=a&&("object"==typeof a||"function"==typeof a)&&a.then,sa(j)?e?j.call(a,f(g,c,k,e),f(g,c,l,e)):(g++,j.call(a,f(g,c,k,e),f(g,c,l,e),f(g,c,k,c.notifyWith))):(d!==k&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},m=e?j:function(){try{j()}catch(a){ya.Deferred.exceptionHook&&ya.Deferred.exceptionHook(a,m.error),b+1>=g&&(d!==l&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?m():(ya.Deferred.getErrorHook?m.error=ya.Deferred.getErrorHook():ya.Deferred.getStackHook&&(m.error=ya.Deferred.getStackHook()),a.setTimeout(m))}}var g=0;return ya.Deferred(function(a){c[0][3].add(f(0,a,sa(e)?e:k,a.notifyWith)),c[1][3].add(f(0,a,sa(b)?b:k)),c[2][3].add(f(0,a,sa(d)?d:l))}).promise()},promise:function(a){return null!=a?ya.extend(a,e):e}},f={};return ya.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[3-a][3].disable,c[0][2].lock,c[0][3].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=ia.call(arguments),f=ya.Deferred(),g=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?ia.call(arguments):c,--b||f.resolveWith(d,e)}};if(b<=1&&(m(a,f.done(g(c)).resolve,f.reject,!b),"pending"===f.state()||sa(e[c]&&e[c].then)))return f.then();for(;c--;)m(e[c],g(c),f.reject);return f.promise()}});var Qa=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ya.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Qa.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},ya.readyException=function(b){a.setTimeout(function(){throw b})};var Ra=ya.Deferred();ya.fn.ready=function(a){return Ra.then(a).catch(function(a){ya.readyException(a)}),this},ya.extend({isReady:!1,readyWait:1,ready:function(a){(!0===a?--ya.readyWait:ya.isReady)||(ya.isReady=!0,!0!==a&&--ya.readyWait>0||Ra.resolveWith(ua,[ya]))}}),ya.ready.then=Ra.then,"complete"===ua.readyState||"loading"!==ua.readyState&&!ua.documentElement.doScroll?a.setTimeout(ya.ready):(ua.addEventListener("DOMContentLoaded",n),a.addEventListener("load",n));var Sa=function(a,b,c,e,f,g,h){var i=0,j=a.length,k=null==c;if("object"===d(c)){f=!0;for(i in c)Sa(a,b,i,c[i],!0,g,h)}else if(void 0!==e&&(f=!0,sa(e)||(h=!0),k&&(h?(b.call(a,e),b=null):(k=b,b=function(a,b,c){return k.call(ya(a),c)})),b))for(;i<j;i++)b(a[i],c,h?e:e.call(a[i],i,b(a[i],c)));return f?a:k?b.call(a):j?b(a[0],c):g},Ta=/^-ms-/,Ua=/-([a-z])/g,Va=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};q.uid=1,q.prototype={cache:function(a){var b=a[this.expando];return b||(b={},Va(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[p(b)]=c;else for(d in b)e[p(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][p(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(p):(b=p(b),b=b in d?[b]:b.match(Pa)||[]),c=b.length;for(;c--;)delete d[b[c]]}(void 0===b||ya.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!ya.isEmptyObject(b)}};var Wa=new q,Xa=new q,Ya=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Za=/[A-Z]/g;ya.extend({hasData:function(a){return Xa.hasData(a)||Wa.hasData(a)},data:function(a,b,c){return Xa.access(a,b,c)},removeData:function(a,b){Xa.remove(a,b)},_data:function(a,b,c){return Wa.access(a,b,c)},_removeData:function(a,b){Wa.remove(a,b)}}),ya.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Xa.get(f),1===f.nodeType&&!Wa.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=p(d.slice(5)),s(f,d,e[d])));Wa.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Xa.set(this,a)}):Sa(this,function(b){var c;if(f&&void 0===b){if(void 0!==(c=Xa.get(f,a)))return c;if(void 0!==(c=s(f,a)))return c}else this.each(function(){Xa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Xa.remove(this,a)})}}),ya.extend({queue:function(a,b,c){var d;if(a)return b=(b||"fx")+"queue",d=Wa.get(a,b),c&&(!d||Array.isArray(c)?d=Wa.access(a,b,ya.makeArray(c)):d.push(c)),d||[]},dequeue:function(a,b){b=b||"fx";var c=ya.queue(a,b),d=c.length,e=c.shift(),f=ya._queueHooks(a,b),g=function(){ya.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return Wa.get(a,c)||Wa.access(a,c,{empty:ya.Callbacks("once memory").add(function(){Wa.remove(a,[b+"queue",c])})})}}),ya.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?ya.queue(this[0],a):void 0===b?this:this.each(function(){var c=ya.queue(this,a,b);ya._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&ya.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ya.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=ya.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)(c=Wa.get(f[g],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var $a=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_a=new RegExp("^(?:([+-])=|)("+$a+")([a-z%]*)$","i"),ab=["Top","Right","Bottom","Left"],bb=ua.documentElement,cb=function(a){return ya.contains(a.ownerDocument,a)},db={composed:!0};bb.getRootNode&&(cb=function(a){return ya.contains(a.ownerDocument,a)||a.getRootNode(db)===a.ownerDocument});var eb=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&cb(a)&&"none"===ya.css(a,"display")},fb={};ya.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){eb(this)?ya(this).show():ya(this).hide()})}});var gb=/^(?:checkbox|radio)$/i,hb=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ib=/^$|^module$|\/(?:java|ecma)script/i;!function(){var a=ua.createDocumentFragment(),b=a.appendChild(ua.createElement("div")),c=ua.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),ra.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",ra.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,b.innerHTML="<option></option>",ra.option=!!b.lastChild}();var jb={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};jb.tbody=jb.tfoot=jb.colgroup=jb.caption=jb.thead,jb.th=jb.td,ra.option||(jb.optgroup=jb.option=[1,"<select multiple='multiple'>","</select>"]);var kb=/<|&#?\w+;/,lb=/^([^.]*)(?:\.(.+)|)/;ya.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Wa.get(a);if(Va(a))for(c.handler&&(f=c,c=f.handler,e=f.selector),e&&ya.find.matchesSelector(bb,e),c.guid||(c.guid=ya.guid++),(i=q.events)||(i=q.events=Object.create(null)),(g=q.handle)||(g=q.handle=function(b){return void 0!==ya&&ya.event.triggered!==b.type?ya.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(Pa)||[""],j=b.length;j--;)h=lb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=ya.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=ya.event.special[n]||{},k=ya.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&ya.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&!1!==l.setup.call(a,d,o,g)||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),ya.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Wa.hasData(a)&&Wa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(Pa)||[""],j=b.length;j--;)if(h=lb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ya.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&!1!==l.teardown.call(a,o,q.handle)||ya.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)ya.event.remove(a,n+b[j],c,d,!0);ya.isEmptyObject(i)&&Wa.remove(a,"handle events")}},dispatch:function(a){var b,c,d,e,f,g,h=new Array(arguments.length),i=ya.event.fix(a),j=(Wa.get(this,"events")||Object.create(null))[i.type]||[],k=ya.event.special[i.type]||{};for(h[0]=i,b=1;b<arguments.length;b++)h[b]=arguments[b];if(i.delegateTarget=this,!k.preDispatch||!1!==k.preDispatch.call(this,i)){for(g=ya.event.handlers.call(this,i,j),b=0;(e=g[b++])&&!i.isPropagationStopped();)for(i.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!i.isImmediatePropagationStopped();)i.rnamespace&&!1!==f.namespace&&!i.rnamespace.test(f.namespace)||(i.handleObj=f,i.data=f.data,void 0!==(d=((ya.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h))&&!1===(i.result=d)&&(i.preventDefault(),i.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,i),i.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||!0!==j.disabled)){for(f=[],g={},c=0;c<i;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?ya(e,this).index(j)>-1:ya.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(ya.Event.prototype,a,{enumerable:!0,configurable:!0,get:sa(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[ya.expando]?a:new ya.Event(a)},special:{load:{noBubble:!0},click:{setup:function(a){var b=this||a;return gb.test(b.type)&&b.click&&f(b,"input")&&C(b,"click",!0),!1},trigger:function(a){var b=this||a;return gb.test(b.type)&&b.click&&f(b,"input")&&C(b,"click"),!0},_default:function(a){var b=a.target;return gb.test(b.type)&&b.click&&f(b,"input")&&Wa.get(b,"click")||f(b,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},ya.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},ya.Event=function(a,b){if(!(this instanceof ya.Event))return new ya.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?z:A,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&ya.extend(this,b),this.timeStamp=a&&a.timeStamp||Date.now(),this[ya.expando]=!0},ya.Event.prototype={constructor:ya.Event,isDefaultPrevented:A,isPropagationStopped:A,isImmediatePropagationStopped:A,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=z,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=z,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=z,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},ya.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},ya.event.addProp),ya.each({focus:"focusin",blur:"focusout"},function(a,b){function c(a){if(ua.documentMode){var c=Wa.get(this,"handle"),d=ya.event.fix(a);d.type="focusin"===a.type?"focus":"blur",d.isSimulated=!0,c(a),d.target===d.currentTarget&&c(d)}else ya.event.simulate(b,a.target,ya.event.fix(a))}ya.event.special[a]={setup:function(){var d;if(C(this,a,!0),!ua.documentMode)return!1;d=Wa.get(this,b),d||this.addEventListener(b,c),Wa.set(this,b,(d||0)+1)},trigger:function(){return C(this,a),!0},teardown:function(){var a;if(!ua.documentMode)return!1;a=Wa.get(this,b)-1,a?Wa.set(this,b,a):(this.removeEventListener(b,c),Wa.remove(this,b))},_default:function(b){return Wa.get(b.target,a)},delegateType:b},ya.event.special[b]={setup:function(){var d=this.ownerDocument||this.document||this,e=ua.documentMode?this:d,f=Wa.get(e,b);f||(ua.documentMode?this.addEventListener(b,c):d.addEventListener(a,c,!0)),Wa.set(e,b,(f||0)+1)},teardown:function(){var d=this.ownerDocument||this.document||this,e=ua.documentMode?this:d,f=Wa.get(e,b)-1;f?Wa.set(e,b,f):(ua.documentMode?this.removeEventListener(b,c):d.removeEventListener(a,c,!0),Wa.remove(e,b))}}}),ya.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){ya.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||ya.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ya.fn.extend({on:function(a,b,c,d){return B(this,a,b,c,d)},one:function(a,b,c,d){return B(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,ya(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return!1!==b&&"function"!=typeof b||(c=b,b=void 0),!1===c&&(c=A),this.each(function(){ya.event.remove(this,a,c,b)})}});var mb=/<script|<style|<link/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^\s*<!\[CDATA\[|\]\]>\s*$/g;ya.extend({htmlPrefilter:function(a){return a},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=cb(a);if(!(ra.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ya.isXMLDoc(a)))for(g=w(h),f=w(a),d=0,e=f.length;d<e;d++)H(f[d],g[d]);if(b)if(c)for(f=f||w(a),g=g||w(h),d=0,e=f.length;d<e;d++)G(f[d],g[d]);else G(a,h);return g=w(h,"script"),g.length>0&&x(g,!i&&w(a,"script")),h},cleanData:function(a){for(var b,c,d,e=ya.event.special,f=0;void 0!==(c=a[f]);f++)if(Va(c)){if(b=c[Wa.expando]){if(b.events)for(d in b.events)e[d]?ya.event.remove(c,d):ya.removeEvent(c,d,b.handle);c[Wa.expando]=void 0}c[Xa.expando]&&(c[Xa.expando]=void 0)}}}),ya.fn.extend({detach:function(a){return J(this,a,!0)},remove:function(a){return J(this,a)},text:function(a){return Sa(this,function(a){return void 0===a?ya.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return I(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){D(this,a).appendChild(a)}})},prepend:function(){return I(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=D(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return I(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return I(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(ya.cleanData(w(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return ya.clone(this,a,b)})},html:function(a){return Sa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!mb.test(a)&&!jb[(hb.exec(a)||["",""])[1].toLowerCase()]){a=ya.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(ya.cleanData(w(b,!1)),b.innerHTML=a);b=0}catch(a){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return I(this,arguments,function(b){var c=this.parentNode;ya.inArray(this,a)<0&&(ya.cleanData(w(this)),c&&c.replaceChild(b,this))},a)}}),ya.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ya.fn[a]=function(a){for(var c,d=[],e=ya(a),f=e.length-1,g=0;g<=f;g++)c=g===f?this:this.clone(!0),ya(e[g])[b](c),ka.apply(d,c.get());return this.pushStack(d)}});var pb=new RegExp("^("+$a+")(?!px)[a-z%]+$","i"),qb=/^--/,rb=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},sb=function(a,b,c){var d,e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];d=c.call(a);for(e in b)a.style[e]=f[e];return d},tb=new RegExp(ab.join("|"),"i");!function(){function b(){if(k){j.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",k.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",bb.appendChild(j).appendChild(k);var b=a.getComputedStyle(k);d="1%"!==b.top,i=12===c(b.marginLeft),k.style.right="60%",g=36===c(b.right),e=36===c(b.width),k.style.position="absolute",f=12===c(k.offsetWidth/3),bb.removeChild(j),k=null}}function c(a){return Math.round(parseFloat(a))}var d,e,f,g,h,i,j=ua.createElement("div"),k=ua.createElement("div");k.style&&(k.style.backgroundClip="content-box",k.cloneNode(!0).style.backgroundClip="",ra.clearCloneStyle="content-box"===k.style.backgroundClip,ya.extend(ra,{boxSizingReliable:function(){return b(),e},pixelBoxStyles:function(){return b(),g},pixelPosition:function(){return b(),d},reliableMarginLeft:function(){return b(),i},scrollboxSize:function(){return b(),f},reliableTrDimensions:function(){var b,c,d,e;return null==h&&(b=ua.createElement("table"),c=ua.createElement("tr"),d=ua.createElement("div"),b.style.cssText="position:absolute;left:-11111px;border-collapse:separate",c.style.cssText="box-sizing:content-box;border:1px solid",c.style.height="1px",d.style.height="9px",d.style.display="block",bb.appendChild(b).appendChild(c).appendChild(d),e=a.getComputedStyle(c),h=parseInt(e.height,10)+parseInt(e.borderTopWidth,10)+parseInt(e.borderBottomWidth,10)===c.offsetHeight,bb.removeChild(b)),h}}))}();var ub=["Webkit","Moz","ms"],vb=ua.createElement("div").style,wb={},xb=/^(none|table(?!-c[ea]).+)/,yb={position:"absolute",visibility:"hidden",display:"block"},zb={letterSpacing:"0",fontWeight:"400"};ya.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=K(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=p(b),i=qb.test(b),j=a.style;if(i||(b=N(h)),g=ya.cssHooks[b]||ya.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b];f=typeof c,"string"===f&&(e=_a.exec(c))&&e[1]&&(c=t(a,b,e),f="number"),null!=c&&c===c&&("number"!==f||i||(c+=e&&e[3]||(ya.cssNumber[h]?"":"px")),ra.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c))}},css:function(a,b,c,d){var e,f,g,h=p(b);return qb.test(b)||(b=N(h)),g=ya.cssHooks[b]||ya.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=K(a,b,d)),"normal"===e&&b in zb&&(e=zb[b]),""===c||c?(f=parseFloat(e),!0===c||isFinite(f)?f||0:e):e}}),ya.each(["height","width"],function(a,b){ya.cssHooks[b]={get:function(a,c,d){if(c)return!xb.test(ya.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?Q(a,b,d):sb(a,yb,function(){return Q(a,b,d)})},set:function(a,c,d){var e,f=rb(a),g=!ra.scrollboxSize()&&"absolute"===f.position,h=g||d,i=h&&"border-box"===ya.css(a,"boxSizing",!1,f),j=d?P(a,b,d,i,f):0;return i&&g&&(j-=Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(f[b])-P(a,b,"border",!1,f)-.5)),j&&(e=_a.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=ya.css(a,b)),O(a,c,j)}}}),ya.cssHooks.marginLeft=L(ra.reliableMarginLeft,function(a,b){if(b)return(parseFloat(K(a,"marginLeft"))||a.getBoundingClientRect().left-sb(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px"}),ya.each({margin:"",padding:"",border:"Width"},function(a,b){ya.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];d<4;d++)e[a+ab[d]+b]=f[d]||f[d-2]||f[0];return e}},"margin"!==a&&(ya.cssHooks[a+b].set=O)}),ya.fn.extend({css:function(a,b){return Sa(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=rb(a),e=b.length;g<e;g++)f[b[g]]=ya.css(a,b[g],!1,d);return f}return void 0!==c?ya.style(a,b,c):ya.css(a,b)},a,b,arguments.length>1)}}),ya.Tween=R,R.prototype={constructor:R,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||ya.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ya.cssNumber[c]?"":"px")},cur:function(){var a=R.propHooks[this.prop];return a&&a.get?a.get(this):R.propHooks._default.get(this)},run:function(a){var b,c=R.propHooks[this.prop];return this.options.duration?this.pos=b=ya.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=ya.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){ya.fx.step[a.prop]?ya.fx.step[a.prop](a):1!==a.elem.nodeType||!ya.cssHooks[a.prop]&&null==a.elem.style[N(a.prop)]?a.elem[a.prop]=a.now:ya.style(a.elem,a.prop,a.now+a.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ya.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},ya.fx=R.prototype.init,ya.fx.step={};var Ab,Bb,Cb=/^(?:toggle|show|hide)$/,Db=/queueHooks$/;ya.Animation=ya.extend(Y,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return t(c.elem,a,_a.exec(b),c),c}]},tweener:function(a,b){sa(a)?(b=a,a=["*"]):a=a.match(Pa);for(var c,d=0,e=a.length;d<e;d++)c=a[d],Y.tweeners[c]=Y.tweeners[c]||[],Y.tweeners[c].unshift(b)},prefilters:[W],prefilter:function(a,b){b?Y.prefilters.unshift(a):Y.prefilters.push(a)}}),ya.speed=function(a,b,c){var d=a&&"object"==typeof a?ya.extend({},a):{complete:c||!c&&b||sa(a)&&a,duration:a,easing:c&&b||b&&!sa(b)&&b};return ya.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in ya.fx.speeds?d.duration=ya.fx.speeds[d.duration]:d.duration=ya.fx.speeds._default),null!=d.queue&&!0!==d.queue||(d.queue="fx"),d.old=d.complete,d.complete=function(){sa(d.old)&&d.old.call(this),d.queue&&ya.dequeue(this,d.queue)},d},ya.fn.extend({fadeTo:function(a,b,c,d){return this.filter(eb).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ya.isEmptyObject(a),f=ya.speed(b,c,d),g=function(){var b=Y(this,ya.extend({},a),f);(e||Wa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||!1===f.queue?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=ya.timers,g=Wa.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Db.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||ya.dequeue(this,a)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var b,c=Wa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ya.timers,g=d?d.length:0;for(c.finish=!0,ya.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;b<g;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ya.each(["toggle","show","hide"],function(a,b){var c=ya.fn[b];ya.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(U(b,!0),a,d,e)}}),ya.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ya.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ya.timers=[],ya.fx.tick=function(){var a,b=0,c=ya.timers;for(Ab=Date.now();b<c.length;b++)(a=c[b])()||c[b]!==a||c.splice(b--,1);c.length||ya.fx.stop(),Ab=void 0},ya.fx.timer=function(a){ya.timers.push(a),ya.fx.start()},ya.fx.interval=13,ya.fx.start=function(){Bb||(Bb=!0,S())},ya.fx.stop=function(){Bb=null},ya.fx.speeds={slow:600,fast:200,_default:400},ya.fn.delay=function(b,c){return b=ya.fx?ya.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=ua.createElement("input"),b=ua.createElement("select"),c=b.appendChild(ua.createElement("option"));a.type="checkbox",ra.checkOn=""!==a.value,ra.optSelected=c.selected,a=ua.createElement("input"),a.value="t",a.type="radio",ra.radioValue="t"===a.value}();var Eb,Fb=ya.expr.attrHandle;ya.fn.extend({attr:function(a,b){return Sa(this,ya.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ya.removeAttr(this,a)})}}),ya.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return void 0===a.getAttribute?ya.prop(a,b,c):(1===f&&ya.isXMLDoc(a)||(e=ya.attrHooks[b.toLowerCase()]||(ya.expr.match.bool.test(b)?Eb:void 0)),void 0!==c?null===c?void ya.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=ya.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!ra.radioValue&&"radio"===b&&f(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(Pa);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}}),Eb={set:function(a,b,c){return!1===b?ya.removeAttr(a,c):a.setAttribute(c,c),c}},ya.each(ya.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Fb[b]||ya.find.attr;Fb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=Fb[g],Fb[g]=e,e=null!=c(a,b,d)?g:null,Fb[g]=f),e}});var Gb=/^(?:input|select|textarea|button)$/i,Hb=/^(?:a|area)$/i;ya.fn.extend({prop:function(a,b){return Sa(this,ya.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[ya.propFix[a]||a]})}}),ya.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&ya.isXMLDoc(a)||(b=ya.propFix[b]||b,e=ya.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=ya.find.attr(a,"tabindex");return b?parseInt(b,10):Gb.test(a.nodeName)||Hb.test(a.nodeName)&&a.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),ra.optSelected||(ya.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),ya.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ya.propFix[this.toLowerCase()]=this}),ya.fn.extend({addClass:function(a){var b,c,d,e,f,g;return sa(a)?this.each(function(b){ya(this).addClass(a.call(this,b,$(this)))}):(b=_(a),b.length?this.each(function(){if(d=$(this),c=1===this.nodeType&&" "+Z(d)+" "){for(f=0;f<b.length;f++)e=b[f],c.indexOf(" "+e+" ")<0&&(c+=e+" ");g=Z(c),d!==g&&this.setAttribute("class",g)}}):this)},removeClass:function(a){var b,c,d,e,f,g;return sa(a)?this.each(function(b){ya(this).removeClass(a.call(this,b,$(this)))}):arguments.length?(b=_(a),b.length?this.each(function(){if(d=$(this),c=1===this.nodeType&&" "+Z(d)+" "){for(f=0;f<b.length;f++)for(e=b[f];c.indexOf(" "+e+" ")>-1;)c=c.replace(" "+e+" "," ");g=Z(c),d!==g&&this.setAttribute("class",g)}}):this):this.attr("class","")},toggleClass:function(a,b){var c,d,e,f,g=typeof a,h="string"===g||Array.isArray(a);return sa(a)?this.each(function(c){ya(this).toggleClass(a.call(this,c,$(this),b),b)}):"boolean"==typeof b&&h?b?this.addClass(a):this.removeClass(a):(c=_(a),this.each(function(){if(h)for(f=ya(this),e=0;e<c.length;e++)d=c[e],f.hasClass(d)?f.removeClass(d):f.addClass(d);else void 0!==a&&"boolean"!==g||(d=$(this),d&&Wa.set(this,"__className__",d),this.setAttribute&&this.setAttribute("class",d||!1===a?"":Wa.get(this,"__className__")||""))}))},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+Z($(c))+" ").indexOf(b)>-1)return!0;return!1}});var Ib=/\r/g;ya.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=sa(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,ya(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=ya.map(e,function(a){return null==a?"":a+""})),(b=ya.valHooks[this.type]||ya.valHooks[this.nodeName.toLowerCase()])&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return(b=ya.valHooks[e.type]||ya.valHooks[e.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(Ib,""):null==c?"":c)}}}),ya.extend({valHooks:{option:{get:function(a){var b=ya.find.attr(a,"value");return null!=b?b:Z(ya.text(a))}},select:{get:function(a){var b,c,d,e=a.options,g=a.selectedIndex,h="select-one"===a.type,i=h?null:[],j=h?g+1:e.length;for(d=g<0?j:h?g:0;d<j;d++)if(c=e[d],(c.selected||d===g)&&!c.disabled&&(!c.parentNode.disabled||!f(c.parentNode,"optgroup"))){if(b=ya(c).val(),h)return b;i.push(b)}return i},set:function(a,b){for(var c,d,e=a.options,f=ya.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=ya.inArray(ya.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),ya.each(["radio","checkbox"],function(){ya.valHooks[this]={set:function(a,b){if(Array.isArray(b))return a.checked=ya.inArray(ya(a).val(),b)>-1}},ra.checkOn||(ya.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Jb=a.location,Kb={guid:Date.now()},Lb=/\?/;ya.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(a){}return d=c&&c.getElementsByTagName("parsererror")[0],c&&!d||ya.error("Invalid XML: "+(d?ya.map(d.childNodes,function(a){return a.textContent}).join("\n"):b)),c};var Mb=/^(?:focusinfocus|focusoutblur)$/,Nb=function(a){a.stopPropagation()};ya.extend(ya.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m,n=[d||ua],o=oa.call(b,"type")?b.type:b,p=oa.call(b,"namespace")?b.namespace.split("."):[];if(g=m=h=d=d||ua,3!==d.nodeType&&8!==d.nodeType&&!Mb.test(o+ya.event.triggered)&&(o.indexOf(".")>-1&&(p=o.split("."),o=p.shift(),p.sort()),j=o.indexOf(":")<0&&"on"+o,b=b[ya.expando]?b:new ya.Event(o,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=p.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:ya.makeArray(c,[b]),l=ya.event.special[o]||{},e||!l.trigger||!1!==l.trigger.apply(d,c))){if(!e&&!l.noBubble&&!ta(d)){for(i=l.delegateType||o,Mb.test(i+o)||(g=g.parentNode);g;g=g.parentNode)n.push(g),h=g;h===(d.ownerDocument||ua)&&n.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=n[f++])&&!b.isPropagationStopped();)m=g,b.type=f>1?i:l.bindType||o,k=(Wa.get(g,"events")||Object.create(null))[b.type]&&Wa.get(g,"handle"),k&&k.apply(g,c),(k=j&&g[j])&&k.apply&&Va(g)&&(b.result=k.apply(g,c),!1===b.result&&b.preventDefault());return b.type=o,e||b.isDefaultPrevented()||l._default&&!1!==l._default.apply(n.pop(),c)||!Va(d)||j&&sa(d[o])&&!ta(d)&&(h=d[j],h&&(d[j]=null),ya.event.triggered=o,b.isPropagationStopped()&&m.addEventListener(o,Nb),d[o](),b.isPropagationStopped()&&m.removeEventListener(o,Nb),ya.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=ya.extend(new ya.Event,c,{type:a,isSimulated:!0});ya.event.trigger(d,null,b)}}),ya.fn.extend({trigger:function(a,b){return this.each(function(){ya.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return ya.event.trigger(a,b,c,!0)}});var Ob=/\[\]$/,Pb=/\r?\n/g,Qb=/^(?:submit|button|image|reset|file)$/i,Rb=/^(?:input|select|textarea|keygen)/i;ya.param=function(a,b){var c,d=[],e=function(a,b){var c=sa(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(null==a)return"";if(Array.isArray(a)||a.jquery&&!ya.isPlainObject(a))ya.each(a,function(){e(this.name,this.value)});else for(c in a)aa(c,a[c],b,e);return d.join("&")},ya.fn.extend({serialize:function(){return ya.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ya.prop(this,"elements");return a?ya.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ya(this).is(":disabled")&&Rb.test(this.nodeName)&&!Qb.test(a)&&(this.checked||!gb.test(a))}).map(function(a,b){var c=ya(this).val();return null==c?null:Array.isArray(c)?ya.map(c,function(a){return{name:b.name,value:a.replace(Pb,"\r\n")}}):{name:b.name,value:c.replace(Pb,"\r\n")}}).get()}});var Sb=/%20/g,Tb=/#.*$/,Ub=/([?&])_=[^&]*/,Vb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Wb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Xb=/^(?:GET|HEAD)$/,Yb=/^\/\//,Zb={},$b={},_b="*/".concat("*"),ac=ua.createElement("a");ac.href=Jb.href,ya.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Jb.href,type:"GET",isLocal:Wb.test(Jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_b,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ya.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?da(da(a,ya.ajaxSettings),b):da(ya.ajaxSettings,a)},ajaxPrefilter:ba(Zb),ajaxTransport:ba($b),ajax:function(b,c){function d(b,c,d,h){var j,m,n,u,v,w=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&b<300||304===b,d&&(u=ea(o,x,d)),!j&&ya.inArray("script",o.dataTypes)>-1&&ya.inArray("json",o.dataTypes)<0&&(o.converters["text script"]=function(){}),u=fa(o,u,x,j),j?(o.ifModified&&(v=x.getResponseHeader("Last-Modified"),v&&(ya.lastModified[f]=v),(v=x.getResponseHeader("etag"))&&(ya.etag[f]=v)),204===b||"HEAD"===o.type?w="nocontent":304===b?w="notmodified":(w=u.state,m=u.data,n=u.error,j=!n)):(n=w,!b&&w||(w="error",b<0&&(b=0))),x.status=b,x.statusText=(c||w)+"",j?r.resolveWith(p,[m,w,x]):r.rejectWith(p,[x,w,n]),x.statusCode(t),t=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[x,o,j?m:n]),s.fireWith(p,[x,w]),l&&(q.trigger("ajaxComplete",[x,o]),--ya.active||ya.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=ya.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?ya(p):ya.event,r=ya.Deferred(),s=ya.Callbacks("once memory"),t=o.statusCode||{},u={},v={},w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h)for(h={};b=Vb.exec(g);)h[b[1].toLowerCase()+" "]=(h[b[1].toLowerCase()+" "]||[]).concat(b[2]);b=h[a.toLowerCase()+" "]}return null==b?null:b.join(", ")},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=v[a.toLowerCase()]=v[a.toLowerCase()]||a,u[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)x.always(a[x.status]);else for(b in a)t[b]=[t[b],a[b]];return this},abort:function(a){var b=a||w;return e&&e.abort(b),d(0,b),this}};if(r.promise(x),o.url=((b||o.url||Jb.href)+"").replace(Yb,Jb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(Pa)||[""],null==o.crossDomain){j=ua.createElement("a");try{j.href=o.url,j.href=j.href,o.crossDomain=ac.protocol+"//"+ac.host!=j.protocol+"//"+j.host}catch(a){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=ya.param(o.data,o.traditional)),ca(Zb,o,c,x),k)return x;l=ya.event&&o.global,l&&0==ya.active++&&ya.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Xb.test(o.type),f=o.url.replace(Tb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Sb,"+")):(n=o.url.slice(f.length),o.data&&(o.processData||"string"==typeof o.data)&&(f+=(Lb.test(f)?"&":"?")+o.data,delete o.data),!1===o.cache&&(f=f.replace(Ub,"$1"),n=(Lb.test(f)?"&":"?")+"_="+Kb.guid+++n),o.url=f+n),o.ifModified&&(ya.lastModified[f]&&x.setRequestHeader("If-Modified-Since",ya.lastModified[f]),ya.etag[f]&&x.setRequestHeader("If-None-Match",ya.etag[f])),(o.data&&o.hasContent&&!1!==o.contentType||c.contentType)&&x.setRequestHeader("Content-Type",o.contentType),x.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+_b+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)x.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(!1===o.beforeSend.call(p,x,o)||k))return x.abort();if(w="abort",s.add(o.complete),x.done(o.success),x.fail(o.error),e=ca($b,o,c,x)){if(x.readyState=1,l&&q.trigger("ajaxSend",[x,o]),k)return x;o.async&&o.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},o.timeout));try{k=!1,e.send(u,d)}catch(a){if(k)throw a;d(-1,a)}}else d(-1,"No Transport");return x},getJSON:function(a,b,c){return ya.get(a,b,c,"json")},getScript:function(a,b){return ya.get(a,void 0,b,"script")}}),ya.each(["get","post"],function(a,b){ya[b]=function(a,c,d,e){return sa(c)&&(e=e||d,d=c,c=void 0),ya.ajax(ya.extend({url:a,type:b,dataType:e,data:c,success:d},ya.isPlainObject(a)&&a))}}),ya.ajaxPrefilter(function(a){var b;for(b in a.headers)"content-type"===b.toLowerCase()&&(a.contentType=a.headers[b]||"")}),ya._evalUrl=function(a,b,c){return ya.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(a){ya.globalEval(a,b,c)}})},ya.fn.extend({wrapAll:function(a){var b;return this[0]&&(sa(a)&&(a=a.call(this[0])),b=ya(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return sa(a)?this.each(function(b){ya(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ya(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=sa(a);return this.each(function(c){ya(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){ya(this).replaceWith(this.childNodes)}),this}}),ya.expr.pseudos.hidden=function(a){return!ya.expr.pseudos.visible(a)},ya.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},ya.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(a){}};var bc={0:200,1223:204},cc=ya.ajaxSettings.xhr();ra.cors=!!cc&&"withCredentials"in cc,ra.ajax=cc=!!cc,ya.ajaxTransport(function(b){var c,d;if(ra.cors||cc&&!b.crossDomain)return{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.ontimeout=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(bc[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=h.ontimeout=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(a){if(c)throw a}},abort:function(){c&&c()}}}),ya.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),ya.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return ya.globalEval(a),a}}}),ya.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),ya.ajaxTransport("script",function(a){if(a.crossDomain||a.scriptAttrs){var b,c;return{send:function(d,e){b=ya("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),ua.head.appendChild(b[0])},abort:function(){c&&c()}}}});var dc=[],ec=/(=)\?(?=&|$)|\?\?/;ya.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=dc.pop()||ya.expando+"_"+Kb.guid++;return this[a]=!0,a}}),ya.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=!1!==b.jsonp&&(ec.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ec.test(b.data)&&"data");if(h||"jsonp"===b.dataTypes[0])return e=b.jsonpCallback=sa(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ec,"$1"+e):!1!==b.jsonp&&(b.url+=(Lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||ya.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?ya(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,dc.push(e)),g&&sa(f)&&f(g[0]),g=f=void 0}),"script"}),ra.createHTMLDocument=function(){var a=ua.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),ya.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var d,e,f;return b||(ra.createHTMLDocument?(b=ua.implementation.createHTMLDocument(""),d=b.createElement("base"),d.href=ua.location.href,b.head.appendChild(d)):b=ua),e=Ka.exec(a),f=!c&&[],e?[b.createElement(e[1])]:(e=y([a],b,f),f&&f.length&&ya(f).remove(),ya.merge([],e.childNodes))},ya.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=Z(a.slice(h)),a=a.slice(0,h)),sa(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&ya.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?ya("<div>").append(ya.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},ya.expr.pseudos.animated=function(a){return ya.grep(ya.timers,function(b){return a===b.elem}).length},ya.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=ya.css(a,"position"),l=ya(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=ya.css(a,"top"),i=ya.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),sa(b)&&(b=b.call(a,c,ya.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},ya.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){ya.offset.setOffset(this,a,b)});var b,c,d=this[0];if(d)return d.getClientRects().length?(b=d.getBoundingClientRect(),c=d.ownerDocument.defaultView,{top:b.top+c.pageYOffset,left:b.left+c.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c,d=this[0],e={top:0,left:0};if("fixed"===ya.css(d,"position"))b=d.getBoundingClientRect();else{for(b=this.offset(),c=d.ownerDocument,a=d.offsetParent||c.documentElement;a&&(a===c.body||a===c.documentElement)&&"static"===ya.css(a,"position");)a=a.parentNode;a&&a!==d&&1===a.nodeType&&(e=ya(a).offset(),e.top+=ya.css(a,"borderTopWidth",!0),e.left+=ya.css(a,"borderLeftWidth",!0))}return{top:b.top-e.top-ya.css(d,"marginTop",!0),left:b.left-e.left-ya.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===ya.css(a,"position");)a=a.offsetParent;return a||bb})}}),ya.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;ya.fn[a]=function(d){return Sa(this,function(a,d,e){var f;if(ta(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e)return f?f[b]:a[d];f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e},a,d,arguments.length)}}),ya.each(["top","left"],function(a,b){ya.cssHooks[b]=L(ra.pixelPosition,function(a,c){if(c)return c=K(a,b),pb.test(c)?ya(a).position()[b]+"px":c})}),ya.each({Height:"height",Width:"width"},function(a,b){ya.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){ya.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(!0===e||!0===f?"margin":"border");return Sa(this,function(b,c,e){var f;return ta(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?ya.css(b,c,h):ya.style(b,c,e,h)},b,g?e:void 0,g)}})}),ya.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ya.fn[b]=function(a){return this.on(b,a)}}),ya.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},hover:function(a,b){return this.on("mouseenter",a).on("mouseleave",b||a)}}),ya.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){ya.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}});var fc=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;ya.proxy=function(a,b){var c,d,e;if("string"==typeof b&&(c=a[b],b=a,a=c),sa(a))return d=ia.call(arguments,2),e=function(){return a.apply(b||this,d.concat(ia.call(arguments)))},e.guid=a.guid=a.guid||ya.guid++,e},ya.holdReady=function(a){a?ya.readyWait++:ya.ready(!0)},ya.isArray=Array.isArray,ya.parseJSON=JSON.parse,ya.nodeName=f,ya.isFunction=sa,ya.isWindow=ta,ya.camelCase=p,ya.type=d,ya.now=Date.now,ya.isNumeric=function(a){var b=ya.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},ya.trim=function(a){return null==a?"":(a+"").replace(fc,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return ya});var gc=a.jQuery,hc=a.$;return ya.noConflict=function(b){return a.$===ya&&(a.$=hc),b&&a.jQuery===ya&&(a.jQuery=gc),ya},void 0===b&&(a.jQuery=a.$=ya),ya})},{}],62:[function(a,b,c){!function(a,d){"function"==typeof define&&define.amd?define([],d):"object"==typeof c?b.exports=d():a.loadjs=d()}(this,function(){function a(a,b){a=a.push?a:[a];var c,d,e,f,g=[],h=a.length,k=h;for(c=function(a,c){c.length&&g.push(a),--k||b(g)};h--;)d=a[h],e=i[d],e?c(d,e):(f=j[d]=j[d]||[],f.push(c))}function b(a,b){if(a){var c=j[a];if(i[a]=b,c)for(;c.length;)c[0](a,b),c.splice(0,1)}}function c(a,b){a.call&&(a={success:a}),b.length?(a.error||g)(b):(a.success||g)(a)}function d(a,b,c,e){var f,h,i,j=document,k=c.async,l=(c.numRetries||0)+1,m=c.before||g,n=a.replace(/[\?|#].*$/,""),o=a.replace(/^(css|img|module|nomodule)!/,"");if(e=e||0,/(^css!|\.css$)/.test(n))i=j.createElement("link"),i.rel="stylesheet",i.href=o,(f="hideFocus"in i)&&i.relList&&(f=0,i.rel="preload",i.as="style");else if(/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(n))i=j.createElement("img"),i.src=o;else if(i=j.createElement("script"),i.src=o,i.async=void 0===k||k,h="noModule"in i,/^module!/.test(n)){if(!h)return b(a,"l");i.type="module"}else if(/^nomodule!/.test(n)&&h)return b(a,"l");i.onload=i.onerror=i.onbeforeload=function(g){var h=g.type[0];if(f)try{i.sheet.cssText.length||(h="e")}catch(a){18!=a.code&&(h="e")}if("e"==h){if((e+=1)<l)return d(a,b,c,e)}else if("preload"==i.rel&&"style"==i.as)return i.rel="stylesheet";b(a,h,g.defaultPrevented)},!1!==m(a,i)&&j.head.appendChild(i)}function e(a,b,c){a=a.push?a:[a];var e,f,g=a.length,h=g,i=[];for(e=function(a,c,d){if("e"==c&&i.push(a),"b"==c){if(!d)return;i.push(a)}--g||b(i)},f=0;f<h;f++)d(a[f],e,c)}function f(a,d,f){function g(d,f){e(a,function(a){c(j,a),d&&c({success:d,error:f},a),b(i,a)},j)}var i,j;if(d&&d.trim&&(i=d),j=(i?f:d)||{},i){if(i in h)throw"LoadJS";h[i]=!0}if(j.returnPromise)return new Promise(g);g()}var g=function(){},h={},i={},j={};return f.ready=function(b,d){return a(b,function(a){c(d,a)}),f},f.done=function(a){b(a,[])},f.reset=function(){h={},i={},j={}},f.isDefined=function(a){return a in h},f})},{}],63:[function(_dereq_,module,exports){!function(a,b){"function"==typeof define&&define.amd?define(a):void 0!==module&&"object"==typeof exports?module.exports=a():b.log4javascript=a()}(function(){function isUndefined(a){return void 0===a}function EventSupport(){}function Log4JavaScript(){}function toStr(a){return a&&a.toString?a.toString():String(a)}function getExceptionMessage(a){return a.message?a.message:a.description?a.description:toStr(a)}function getUrlFileName(a){var b=Math.max(a.lastIndexOf("/"),a.lastIndexOf("\\"));return a.substr(b+1)}function getExceptionStringRep(a){if(a){var b="Exception: "+getExceptionMessage(a);try{a.lineNumber&&(b+=" on line number "+a.lineNumber),a.fileName&&(b+=" in file "+getUrlFileName(a.fileName))}catch(a){logLog.warn("Unable to obtain file and line information for error")}return showStackTraces&&a.stack&&(b+=newLine+"Stack trace:"+newLine+a.stack),b}return null}function bool(a){return Boolean(a)}function trim(a){return a.replace(/^\s+/,"").replace(/\s+$/,"")}function splitIntoLines(a){return a.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}function array_remove(a,b){for(var c=-1,d=0,e=a.length;d<e;d++)if(a[d]===b){c=d;break}return c>=0&&(a.splice(c,1),!0)}function array_contains(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]==b)return!0;return!1}function extractBooleanFromParam(a,b){return isUndefined(a)?b:bool(a)}function extractStringFromParam(a,b){return isUndefined(a)?b:String(a)}function extractIntFromParam(a,b){if(isUndefined(a))return b;try{var c=parseInt(a,10);return isNaN(c)?b:c}catch(c){return logLog.warn("Invalid int param "+a,c),b}}function extractFunctionFromParam(a,b){return"function"==typeof a?a:b}function isError(a){return a instanceof Error}function handleError(a,b){logLog.error(a,b),log4javascript.dispatchEvent("error",{message:a,exception:b})}function Timer(a,b){this.name=a,this.level=isUndefined(b)?Level.INFO:b,this.start=new Date}function Logger(a){this.name=a,this.parent=null,this.children=[];var b=[],c=null,d=this.name===rootLoggerName,e=this.name===nullLoggerName,f=null,g=!1;this.addChild=function(a){this.children.push(a),a.parent=this,a.invalidateAppenderCache()};var h=!0;this.getAdditivity=function(){return h},this.setAdditivity=function(a){var b=h!=a;h=a,b&&this.invalidateAppenderCache()},this.addAppender=function(a){e?handleError("Logger.addAppender: you may not add an appender to the null logger"):a instanceof log4javascript.Appender?array_contains(b,a)||(b.push(a),a.setAddedToLogger(this),this.invalidateAppenderCache()):handleError("Logger.addAppender: appender supplied ('"+toStr(a)+"') is not a subclass of Appender")},this.removeAppender=function(a){array_remove(b,a),a.setRemovedFromLogger(this),this.invalidateAppenderCache()},this.removeAllAppenders=function(){var a=b.length;if(a>0){for(var c=0;c<a;c++)b[c].setRemovedFromLogger(this);b.length=0,this.invalidateAppenderCache()}},this.getEffectiveAppenders=function(){if(null===f||g){var a=d||!this.getAdditivity()?[]:this.parent.getEffectiveAppenders();f=a.concat(b),g=!1}return f},this.invalidateAppenderCache=function(){g=!0;for(var a=0,b=this.children.length;a<b;a++)this.children[a].invalidateAppenderCache()},this.log=function(a,b){if(enabled&&a.isGreaterOrEqual(this.getEffectiveLevel())){var c,d=b.length-1,e=b[d];b.length>1&&isError(e)&&(c=e,d--);for(var f=[],g=0;g<=d;g++)f[g]=b[g];var h=new LoggingEvent(this,new Date,a,f,c);this.callAppenders(h)}},this.callAppenders=function(a){for(var b=this.getEffectiveAppenders(),c=0,d=b.length;c<d;c++)b[c].doAppend(a)},this.setLevel=function(a){d&&null===a?handleError("Logger.setLevel: you cannot set the level of the root logger to null"):a instanceof Level?c=a:handleError("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")},this.getLevel=function(){return c},this.getEffectiveLevel=function(){for(var a=this;null!==a;a=a.parent){var b=a.getLevel();if(null!==b)return b}},this.group=function(a,b){if(enabled)for(var c=this.getEffectiveAppenders(),d=0,e=c.length;d<e;d++)c[d].group(a,b)},this.groupEnd=function(){if(enabled)for(var a=this.getEffectiveAppenders(),b=0,c=a.length;b<c;b++)a[b].groupEnd()};var i={};this.time=function(a,b){enabled&&(isUndefined(a)?handleError("Logger.time: a name for the timer must be supplied"):!b||b instanceof Level?i[a]=new Timer(a,b):handleError("Logger.time: level supplied to timer "+a+" is not an instance of log4javascript.Level"))},this.timeEnd=function(a){if(enabled)if(isUndefined(a))handleError("Logger.timeEnd: a name for the timer must be supplied");else if(i[a]){var b=i[a],c=b.getElapsedTime();this.log(b.level,["Timer "+toStr(a)+" completed in "+c+"ms"]),delete i[a]}else logLog.warn("Logger.timeEnd: no timer found with name "+a)},this.assert=function(a){if(enabled&&!a){for(var b=[],c=1,d=arguments.length;c<d;c++)b.push(arguments[c]);b=b.length>0?b:["Assertion Failure"],b.push(newLine),b.push(a),this.log(Level.ERROR,b)}},this.toString=function(){return"Logger["+this.name+"]"}}function SimpleLayout(){this.customFields=[]}function NullLayout(){this.customFields=[]}function XmlLayout(a){this.combineMessages=extractBooleanFromParam(a,!0),this.customFields=[]}function escapeNewLines(a){return a.replace(/\r\n|\r|\n/g,"\\r\\n")}function JsonLayout(a,b){this.readable=extractBooleanFromParam(a,!1),this.combineMessages=extractBooleanFromParam(b,!0),this.batchHeader=this.readable?"["+newLine:"[",this.batchFooter=this.readable?"]"+newLine:"]",this.batchSeparator=this.readable?","+newLine:",",this.setKeys(),this.colon=this.readable?": ":":",this.tab=this.readable?"\t":"",this.lineBreak=this.readable?newLine:"",this.customFields=[]}function HttpPostDataLayout(){this.setKeys(),this.customFields=[],this.returnsPostData=!0}function formatObjectExpansion(a,b,c){function d(a,b,c){function f(a){for(var b=splitIntoLines(a),d=1,e=b.length;d<e;d++)b[d]=c+b[d];return b.join(newLine)}var g,h,i,j,k,l,m;if(c||(c=""),null===a)return"null";if(void 0===a)return"undefined";if("string"==typeof a)return f(a);if("object"==typeof a&&array_contains(e,a)){try{l=toStr(a)}catch(a){l="Error formatting property. Details: "+getExceptionStringRep(a)}return l+" [already expanded]"}if(a instanceof Array&&b>0){for(e.push(a),l="["+newLine,i=b-1,j=c+"  ",k=[],g=0,h=a.length;g<h;g++)try{m=d(a[g],i,j),k.push(j+m)}catch(a){k.push(j+"Error formatting array member. Details: "+getExceptionStringRep(a))}return l+=k.join(","+newLine)+newLine+c+"]"}if("[object Date]"==Object.prototype.toString.call(a))return a.toString();if("object"==typeof a&&b>0){e.push(a),l="{"+newLine,i=b-1,j=c+"  ",k=[];for(g in a)try{m=d(a[g],i,j),k.push(j+g+": "+m)}catch(a){k.push(j+g+": Error formatting property. Details: "+getExceptionStringRep(a))}return l+=k.join(","+newLine)+newLine+c+"}"}return f(toStr(a))}var e=[];return d(a,b,c)}function PatternLayout(a){this.pattern=a||PatternLayout.DEFAULT_CONVERSION_PATTERN,this.customFields=[]}function AlertAppender(){}function BrowserConsoleAppender(){}function isHttpRequestSuccessful(a){return isUndefined(a.status)||0===a.status||a.status>=200&&a.status<300||1223==a.status}function AjaxAppender(a,b){function c(a){return!A||(handleError("AjaxAppender: configuration option '"+a+"' may not be set after the appender has been initialized"),!1)}function d(){if(l&&enabled){z=!0;var a;if(n)x.length>0?(a=x.shift(),i(f(a),d)):(z=!1,m&&g());else{for(;a=x.shift();)i(f(a));z=!1,m&&g()}}}function e(){var a=!1;if(l&&enabled){for(var b,c=k.getLayout().allowBatching()?o:1,e=[];b=w.shift();)e.push(b),w.length>=c&&(x.push(e),e=[]);e.length>0&&x.push(e),a=x.length>0,n=!1,m=!1,d()}return a}function f(a){for(var b,c=[],d="";b=a.shift();)c.push(k.getLayout().formatWithException(b));return d=1==a.length?c.join(""):k.getLayout().batchHeader+c.join(k.getLayout().batchSeparator)+k.getLayout().batchFooter,u==k.defaults.contentType&&(d=k.getLayout().returnsPostData?d:urlEncode(s)+"="+urlEncode(d),d.length>0&&(d+="&"),d+="layout="+urlEncode(k.getLayout().toString())),d}function g(){window.setTimeout(d,p)}function h(){var a="AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled";handleError(a),l=!1,r&&r(a)}function i(c,d){try{var e=getXmlHttp(h);if(l){e.onreadystatechange=function(){if(4==e.readyState){if(isHttpRequestSuccessful(e))q&&q(e),d&&d(e);else{var b="AjaxAppender.append: XMLHttpRequest request to URL "+a+" returned status code "+e.status;handleError(b),r&&r(b)}e.onreadystatechange=emptyFunction,e=null}},e.open("POST",a,!0),b&&withCredentialsSupported&&(e.withCredentials=!0);try{for(var f,g=0;f=y[g++];)e.setRequestHeader(f.name,f.value);e.setRequestHeader("Content-Type",u)}catch(a){var i="AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled";return handleError(i),l=!1,void(r&&r(i))}e.send(c)}}catch(b){var j="AjaxAppender.append: error sending log message to "+a;handleError(j,b),l=!1,r&&r(j+". Details: "+getExceptionStringRep(b))}}function j(){if(A=!0,t){var a=window.onbeforeunload;window.onbeforeunload=function(){a&&a(),e()}}m&&g()}var k=this,l=!0;a||(handleError("AjaxAppender: URL must be specified in constructor"),l=!1);var m=this.defaults.timed,n=this.defaults.waitForResponse,o=this.defaults.batchSize,p=this.defaults.timerInterval,q=this.defaults.requestSuccessCallback,r=this.defaults.failCallback,s=this.defaults.postVarName,t=this.defaults.sendAllOnUnload,u=this.defaults.contentType,v=null,w=[],x=[],y=[],z=!1,A=!1;this.getSessionId=function(){return v},this.setSessionId=function(a){v=extractStringFromParam(a,null),this.layout.setCustomField("sessionid",v)},this.setLayout=function(a){c("layout")&&(this.layout=a,null!==v&&this.setSessionId(v))},this.isTimed=function(){return m},this.setTimed=function(a){c("timed")&&(m=bool(a))},this.getTimerInterval=function(){return p},this.setTimerInterval=function(a){c("timerInterval")&&(p=extractIntFromParam(a,p))},this.isWaitForResponse=function(){return n},this.setWaitForResponse=function(a){c("waitForResponse")&&(n=bool(a))},this.getBatchSize=function(){return o},this.setBatchSize=function(a){c("batchSize")&&(o=extractIntFromParam(a,o))},this.isSendAllOnUnload=function(){return t},this.setSendAllOnUnload=function(a){c("sendAllOnUnload")&&(t=extractBooleanFromParam(a,t))},this.setRequestSuccessCallback=function(a){q=extractFunctionFromParam(a,q)},this.setFailCallback=function(a){r=extractFunctionFromParam(a,r)},this.getPostVarName=function(){return s},this.setPostVarName=function(a){c("postVarName")&&(s=extractStringFromParam(a,s))},this.getHeaders=function(){return y},this.addHeader=function(a,b){"content-type"==a.toLowerCase()?u=b:y.push({name:a,value:b})},this.sendAll=d,this.sendAllRemaining=e,this.append=function(a){if(l){A||j(),w.push(a);var b=this.getLayout().allowBatching()?o:1;if(w.length>=b){for(var c,e=[];c=w.shift();)e.push(c);x.push(e),m||n&&(!n||z)||d()}}}}function setCookie(a,b,c,d){var e;if(d=d?"; path="+d:"",c){var f=new Date;f.setTime(f.getTime()+24*c*60*60*1e3),e="; expires="+f.toGMTString()}else e="";document.cookie=escape(a)+"="+escape(b)+e+d}function getCookie(a){for(var b=escape(a)+"=",c=document.cookie.split(";"),d=0,e=c.length;d<e;d++){for(var f=c[d];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(b))return unescape(f.substring(b.length,f.length))}return null}function getBaseUrl(){for(var a=document.getElementsByTagName("script"),b=0,c=a.length;b<c;++b)if(-1!=a[b].src.indexOf("log4javascript")){var d=a[b].src.lastIndexOf("/");return-1==d?"":a[b].src.substr(0,d+1)}return null}function isLoaded(a){try{return bool(a.loaded)}catch(a){return!1}}function padWithSpaces(a,b){if(a.length<b){for(var c=[],d=Math.max(0,b-a.length),e=0;e<d;e++)c[e]=" ";a+=c.join("")}return a}function createDefaultLogger(){var a=log4javascript.getLogger(defaultLoggerName),b=new log4javascript.PopUpAppender;return a.addAppender(b),a}Array.prototype.push||(Array.prototype.push=function(){for(var a=0,b=arguments.length;a<b;a++)this[this.length]=arguments[a];return this.length}),Array.prototype.shift||(Array.prototype.shift=function(){if(this.length>0){for(var a=this[0],b=0,c=this.length-1;b<c;b++)this[b]=this[b+1];return this.length=this.length-1,a}}),Array.prototype.splice||(Array.prototype.splice=function(a,b){var c=this.slice(a+b),d=this.slice(a,a+b);this.length=a;for(var e=[],f=0,g=arguments.length;f<g;f++)e[f]=arguments[f];var h=e.length>2?c=e.slice(2).concat(c):c;for(f=0,g=h.length;f<g;f++)this.push(h[f]);return d}),EventSupport.prototype={eventTypes:[],eventListeners:{},setEventTypes:function(a){if(a instanceof Array){this.eventTypes=a,this.eventListeners={};for(var b=0,c=this.eventTypes.length;b<c;b++)this.eventListeners[this.eventTypes[b]]=[]}else handleError("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(a,b){"function"==typeof b?(array_contains(this.eventTypes,a)||handleError("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+a+"'"),this.eventListeners[a].push(b)):handleError("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(a,b){"function"==typeof b?(array_contains(this.eventTypes,a)||handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+a+"'"),array_remove(this.eventListeners[a],b)):handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(a,b){if(array_contains(this.eventTypes,a))for(var c=this.eventListeners[a],d=0,e=c.length;d<e;d++)c[d](this,a,b);else handleError("log4javascript.EventSupport ["+this+"]: dispatchEvent: no event called '"+a+"'")}};var applicationStartDate=new Date,uniqueId="log4javascript_"+applicationStartDate.getTime()+"_"+Math.floor(1e8*Math.random()),emptyFunction=function(){},newLine="\r\n",pageLoaded=!1;Log4JavaScript.prototype=new EventSupport;var log4javascript=new Log4JavaScript;log4javascript.version="1.4.13",log4javascript.edition="log4javascript";var urlEncode=void 0!==window.encodeURIComponent?function(a){return encodeURIComponent(a)}:function(a){return escape(a).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};Function.prototype.apply||(Function.prototype.apply=function(obj,args){var methodName="__apply__";void 0!==obj[methodName]&&(methodName+=String(Math.random()).substr(2)),obj[methodName]=this;for(var argsStrings=[],i=0,len=args.length;i<len;i++)argsStrings[i]="args["+i+"]";var script="obj."+methodName+"("+argsStrings.join(",")+")",returnValue=eval(script);return delete obj[methodName],returnValue}),Function.prototype.call||(Function.prototype.call=function(a){for(var b=[],c=1,d=arguments.length;c<d;c++)b[c-1]=arguments[c];return this.apply(a,b)});var logLog={quietMode:!1,debugMessages:[],setQuietMode:function(a){this.quietMode=bool(a)},numberOfErrors:0,alertAllErrors:!1,setAlertAllErrors:function(a){this.alertAllErrors=a},debug:function(a){this.debugMessages.push(a)},displayDebug:function(){alert(this.debugMessages.join(newLine))},warn:function(a,b){},error:function(a,b){if((1==++this.numberOfErrors||this.alertAllErrors)&&!this.quietMode){var c="log4javascript error: "+a;b&&(c+=newLine+newLine+"Original error: "+getExceptionStringRep(b)),alert(c)}}};log4javascript.logLog=logLog,log4javascript.setEventTypes(["load","error"]),log4javascript.handleError=handleError;var enabled=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled);log4javascript.setEnabled=function(a){enabled=bool(a)},log4javascript.isEnabled=function(){return enabled};var useTimeStampsInMilliseconds=!0;log4javascript.setTimeStampsInMilliseconds=function(a){useTimeStampsInMilliseconds=bool(a)},log4javascript.isTimeStampsInMilliseconds=function(){return useTimeStampsInMilliseconds},log4javascript.evalInScope=function(expr){return eval(expr)};var showStackTraces=!1;log4javascript.setShowStackTraces=function(a){showStackTraces=bool(a)};var Level=function(a,b){this.level=a,this.name=b};Level.prototype={toString:function(){return this.name},equals:function(a){return this.level==a.level},isGreaterOrEqual:function(a){return this.level>=a.level}},Level.ALL=new Level(Number.MIN_VALUE,"ALL"),Level.TRACE=new Level(1e4,"TRACE"),Level.DEBUG=new Level(2e4,"DEBUG"),Level.INFO=new Level(3e4,"INFO"),Level.WARN=new Level(4e4,"WARN"),Level.ERROR=new Level(5e4,"ERROR"),Level.FATAL=new Level(6e4,"FATAL"),Level.OFF=new Level(Number.MAX_VALUE,"OFF"),log4javascript.Level=Level,Timer.prototype.getElapsedTime=function(){return(new Date).getTime()-this.start.getTime()};var anonymousLoggerName="[anonymous]",defaultLoggerName="[default]",nullLoggerName="[null]",rootLoggerName="root";Logger.prototype={trace:function(){this.log(Level.TRACE,arguments)},debug:function(){this.log(Level.DEBUG,arguments)},info:function(){this.log(Level.INFO,arguments)},warn:function(){this.log(Level.WARN,arguments)},error:function(){this.log(Level.ERROR,arguments)},fatal:function(){this.log(Level.FATAL,arguments)},isEnabledFor:function(a){return a.isGreaterOrEqual(this.getEffectiveLevel())},isTraceEnabled:function(){return this.isEnabledFor(Level.TRACE)},isDebugEnabled:function(){return this.isEnabledFor(Level.DEBUG)},isInfoEnabled:function(){return this.isEnabledFor(Level.INFO)},isWarnEnabled:function(){return this.isEnabledFor(Level.WARN)},isErrorEnabled:function(){return this.isEnabledFor(Level.ERROR)},isFatalEnabled:function(){return this.isEnabledFor(Level.FATAL)}},Logger.prototype.trace.isEntryPoint=!0,Logger.prototype.debug.isEntryPoint=!0,Logger.prototype.info.isEntryPoint=!0,Logger.prototype.warn.isEntryPoint=!0,Logger.prototype.error.isEntryPoint=!0,Logger.prototype.fatal.isEntryPoint=!0;var loggers={},loggerNames=[],ROOT_LOGGER_DEFAULT_LEVEL=Level.DEBUG,rootLogger=new Logger(rootLoggerName);rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),log4javascript.getRootLogger=function(){return rootLogger},log4javascript.getLogger=function(a){if("string"!=typeof a&&(a=anonymousLoggerName,logLog.warn("log4javascript.getLogger: non-string logger name "+toStr(a)+" supplied, returning anonymous logger")),a==rootLoggerName&&handleError("log4javascript.getLogger: root logger may not be obtained by name"),!loggers[a]){var b=new Logger(a);loggers[a]=b,loggerNames.push(a);var c,d=a.lastIndexOf(".");if(d>-1){var e=a.substring(0,d);c=log4javascript.getLogger(e)}else c=rootLogger;c.addChild(b)}return loggers[a]};var defaultLogger=null;log4javascript.getDefaultLogger=function(){return defaultLogger||(defaultLogger=createDefaultLogger()),defaultLogger};var nullLogger=null;log4javascript.getNullLogger=function(){return nullLogger||(nullLogger=new Logger(nullLoggerName),nullLogger.setLevel(Level.OFF)),nullLogger},log4javascript.resetConfiguration=function(){rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),loggers={}};var LoggingEvent=function(a,b,c,d,e){this.logger=a,this.timeStamp=b,this.timeStampInMilliseconds=b.getTime(),this.timeStampInSeconds=Math.floor(this.timeStampInMilliseconds/1e3),this.milliseconds=this.timeStamp.getMilliseconds(),this.level=c,this.messages=d,this.exception=e};LoggingEvent.prototype={getThrowableStrRep:function(){return this.exception?getExceptionStringRep(this.exception):""},getCombinedMessages:function(){return 1==this.messages.length?this.messages[0]:this.messages.join(newLine)},toString:function(){return"LoggingEvent["+this.level+"]"}},log4javascript.LoggingEvent=LoggingEvent;var Layout=function(){};Layout.prototype={defaults:{loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url"},loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url",batchHeader:"",batchFooter:"",batchSeparator:"",returnsPostData:!1,overrideTimeStampsSetting:!1,useTimeStampsInMilliseconds:null,format:function(){handleError("Layout.format: layout supplied has no format() method")},ignoresThrowable:function(){handleError("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},getContentType:function(){return"text/plain"},allowBatching:function(){return!0},setTimeStampsInMilliseconds:function(a){this.overrideTimeStampsSetting=!0,this.useTimeStampsInMilliseconds=bool(a)},isTimeStampsInMilliseconds:function(){return this.overrideTimeStampsSetting?this.useTimeStampsInMilliseconds:useTimeStampsInMilliseconds},getTimeStampValue:function(a){return this.isTimeStampsInMilliseconds()?a.timeStampInMilliseconds:a.timeStampInSeconds},getDataValues:function(a,b){var c=[[this.loggerKey,a.logger.name],[this.timeStampKey,this.getTimeStampValue(a)],[this.levelKey,a.level.name],[this.urlKey,window.location.href],[this.messageKey,b?a.getCombinedMessages():a.messages]];if(this.isTimeStampsInMilliseconds()||c.push([this.millisecondsKey,a.milliseconds]),a.exception&&c.push([this.exceptionKey,getExceptionStringRep(a.exception)]),this.hasCustomFields())for(var d=0,e=this.customFields.length;d<e;d++){var f=this.customFields[d].value;"function"==typeof f&&(f=f(this,a)),c.push([this.customFields[d].name,f])}return c},setKeys:function(a,b,c,d,e,f,g){this.loggerKey=extractStringFromParam(a,this.defaults.loggerKey),this.timeStampKey=extractStringFromParam(b,this.defaults.timeStampKey),this.levelKey=extractStringFromParam(c,this.defaults.levelKey),this.messageKey=extractStringFromParam(d,this.defaults.messageKey),this.exceptionKey=extractStringFromParam(e,this.defaults.exceptionKey),this.urlKey=extractStringFromParam(f,this.defaults.urlKey),this.millisecondsKey=extractStringFromParam(g,this.defaults.millisecondsKey)},setCustomField:function(a,b){for(var c=!1,d=0,e=this.customFields.length;d<e;d++)this.customFields[d].name===a&&(this.customFields[d].value=b,c=!0);c||this.customFields.push({name:a,value:b})},hasCustomFields:function(){return this.customFields.length>0},formatWithException:function(a){var b=this.format(a);return a.exception&&this.ignoresThrowable()&&(b+=a.getThrowableStrRep()),b},toString:function(){handleError("Layout.toString: all layouts must override this method")}},log4javascript.Layout=Layout;var Appender=function(){};Appender.prototype=new EventSupport,Appender.prototype.layout=new PatternLayout,Appender.prototype.threshold=Level.ALL,Appender.prototype.loggers=[],Appender.prototype.doAppend=function(a){enabled&&a.level.level>=this.threshold.level&&this.append(a)},Appender.prototype.append=function(a){},Appender.prototype.setLayout=function(a){a instanceof Layout?this.layout=a:handleError("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")},Appender.prototype.getLayout=function(){return this.layout},Appender.prototype.setThreshold=function(a){a instanceof Level?this.threshold=a:handleError("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")},Appender.prototype.getThreshold=function(){return this.threshold},Appender.prototype.setAddedToLogger=function(a){this.loggers.push(a)},Appender.prototype.setRemovedFromLogger=function(a){array_remove(this.loggers,a)},Appender.prototype.group=emptyFunction,Appender.prototype.groupEnd=emptyFunction,Appender.prototype.toString=function(){handleError("Appender.toString: all appenders must override this method")},log4javascript.Appender=Appender,SimpleLayout.prototype=new Layout,SimpleLayout.prototype.format=function(a){return a.level.name+" - "+a.getCombinedMessages()},SimpleLayout.prototype.ignoresThrowable=function(){return!0},SimpleLayout.prototype.toString=function(){return"SimpleLayout"},log4javascript.SimpleLayout=SimpleLayout,NullLayout.prototype=new Layout,NullLayout.prototype.format=function(a){return a.messages},NullLayout.prototype.ignoresThrowable=function(){return!0},NullLayout.prototype.formatWithException=function(a){var b=a.messages,c=a.exception;return c?b.concat([c]):b},NullLayout.prototype.toString=function(){return"NullLayout"},log4javascript.NullLayout=NullLayout,XmlLayout.prototype=new Layout,XmlLayout.prototype.isCombinedMessages=function(){return this.combineMessages},XmlLayout.prototype.getContentType=function(){return"text/xml"},XmlLayout.prototype.escapeCdata=function(a){return a.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")},XmlLayout.prototype.format=function(a){function b(a){return a="string"==typeof a?a:toStr(a),"<log4javascript:message><![CDATA["+e.escapeCdata(a)+"]]></log4javascript:message>"}var c,d,e=this,f='<log4javascript:event logger="'+a.logger.name+'" timestamp="'+this.getTimeStampValue(a)+'"';if(this.isTimeStampsInMilliseconds()||(f+=' milliseconds="'+a.milliseconds+'"'),f+=' level="'+a.level.name+'">'+newLine,this.combineMessages)f+=b(a.getCombinedMessages());else{for(f+="<log4javascript:messages>"+newLine,c=0,d=a.messages.length;c<d;c++)f+=b(a.messages[c])+newLine;f+="</log4javascript:messages>"+newLine}if(this.hasCustomFields())for(c=0,d=this.customFields.length;c<d;c++)f+='<log4javascript:customfield name="'+this.customFields[c].name+'"><![CDATA['+this.customFields[c].value.toString()+"]]></log4javascript:customfield>"+newLine;return a.exception&&(f+="<log4javascript:exception><![CDATA["+getExceptionStringRep(a.exception)+"]]></log4javascript:exception>"+newLine),f+="</log4javascript:event>"+newLine+newLine},XmlLayout.prototype.ignoresThrowable=function(){return!1},XmlLayout.prototype.toString=function(){return"XmlLayout"},log4javascript.XmlLayout=XmlLayout,JsonLayout.prototype=new Layout,JsonLayout.prototype.isReadable=function(){return this.readable},JsonLayout.prototype.isCombinedMessages=function(){return this.combineMessages},JsonLayout.prototype.format=function(a){function b(a,c,d){var f,g=typeof a;if(a instanceof Date)f=String(a.getTime());else if(d&&a instanceof Array){f="["+e.lineBreak;for(var h=0,i=a.length;h<i;h++){var j=c+e.tab;f+=j+b(a[h],j,!1),h<a.length-1&&(f+=","),f+=e.lineBreak}f+=c+"]"}else f="number"!==g&&"boolean"!==g?'"'+escapeNewLines(toStr(a).replace(/\"/g,'\\"'))+'"':a;return f}var c,d,e=this,f=this.getDataValues(a,this.combineMessages),g="{"+this.lineBreak;for(c=0,d=f.length-1;c<=d;c++)g+=this.tab+'"'+f[c][0]+'"'+this.colon+b(f[c][1],this.tab,!0),c<d&&(g+=","),g+=this.lineBreak;return g+="}"+this.lineBreak},JsonLayout.prototype.ignoresThrowable=function(){return!1},JsonLayout.prototype.toString=function(){return"JsonLayout"},JsonLayout.prototype.getContentType=function(){return"application/json"},log4javascript.JsonLayout=JsonLayout,HttpPostDataLayout.prototype=new Layout,HttpPostDataLayout.prototype.allowBatching=function(){return!1},HttpPostDataLayout.prototype.format=function(a){for(var b=this.getDataValues(a),c=[],d=0,e=b.length;d<e;d++){var f=b[d][1]instanceof Date?String(b[d][1].getTime()):b[d][1];c.push(urlEncode(b[d][0])+"="+urlEncode(f))}return c.join("&")},HttpPostDataLayout.prototype.ignoresThrowable=function(a){return!1},HttpPostDataLayout.prototype.toString=function(){return"HttpPostDataLayout"},log4javascript.HttpPostDataLayout=HttpPostDataLayout;var SimpleDateFormat;!function(){var a=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,b=["January","February","March","April","May","June","July","August","September","October","November","December"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],d=0,e=1,f=2,g=3,h=4,i=5,j={G:d,y:g,M:h,w:f,W:f,D:f,d:f,F:f,E:e,a:d,H:f,k:f,K:f,h:f,m:f,s:f,S:f,Z:i},k=864e5,l=7*k,m=1,n=function(a,b,c){var d=new Date(a,b,c,0,0,0);return d.setMilliseconds(0),d};Date.prototype.getDifference=function(a){return this.getTime()-a.getTime()},Date.prototype.isBefore=function(a){return this.getTime()<a.getTime()},Date.prototype.getUTCTime=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())},Date.prototype.getTimeSince=function(a){return this.getUTCTime()-a.getUTCTime()},Date.prototype.getPreviousSunday=function(){var a=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0),b=new Date(a.getTime()-this.getDay()*k);return n(b.getFullYear(),b.getMonth(),b.getDate())},Date.prototype.getWeekInYear=function(a){isUndefined(this.minimalDaysInFirstWeek)&&(a=m);var b=this.getPreviousSunday(),c=n(this.getFullYear(),0,1),d=b.isBefore(c)?0:1+Math.floor(b.getTimeSince(c)/l),e=7-c.getDay(),f=d;return e<a&&f--,f},Date.prototype.getWeekInMonth=function(a){isUndefined(this.minimalDaysInFirstWeek)&&(a=m);var b=this.getPreviousSunday(),c=n(this.getFullYear(),this.getMonth(),1),d=b.isBefore(c)?0:1+Math.floor(b.getTimeSince(c)/l),e=7-c.getDay(),f=d;return e>=a&&f++,f},Date.prototype.getDayInYear=function(){var a=n(this.getFullYear(),0,1);return 1+Math.floor(this.getTimeSince(a)/k)},SimpleDateFormat=function(a){this.formatString=a},SimpleDateFormat.prototype.setMinimalDaysInFirstWeek=function(a){this.minimalDaysInFirstWeek=a},SimpleDateFormat.prototype.getMinimalDaysInFirstWeek=function(){return isUndefined(this.minimalDaysInFirstWeek)?m:this.minimalDaysInFirstWeek};var o=function(a,b){for(;a.length<b;)a="0"+a;return a},p=function(a,b,c){return b>=4?a:a.substr(0,Math.max(c,b))},q=function(a,b){return o(""+a,b)};SimpleDateFormat.prototype.format=function(k){for(var l,m="",n=this.formatString;l=a.exec(n);){var r=l[1],s=l[2],t=l[3],u=l[4];if(r)m+="''"==r?"'":r.substring(1,r.length-1);else if(t);else if(u)m+=u;else if(s){var v=s.charAt(0),w=s.length,x="";switch(v){case"G":x="AD";break;case"y":x=k.getFullYear();break;case"M":x=k.getMonth();break;case"w":x=k.getWeekInYear(this.getMinimalDaysInFirstWeek());break;case"W":x=k.getWeekInMonth(this.getMinimalDaysInFirstWeek());break;case"D":x=k.getDayInYear();break;case"d":x=k.getDate();break;case"F":x=1+Math.floor((k.getDate()-1)/7);break;case"E":x=c[k.getDay()];break;case"a":x=k.getHours()>=12?"PM":"AM";break;case"H":x=k.getHours();break;case"k":x=k.getHours()||24;break;case"K":x=k.getHours()%12;break;case"h":x=k.getHours()%12||12;break;case"m":x=k.getMinutes();break;case"s":x=k.getSeconds();break;case"S":x=k.getMilliseconds();break;case"Z":x=k.getTimezoneOffset()}switch(j[v]){case d:m+=p(x,w,2);break;case e:m+=p(x,w,3);break;case f:m+=q(x,w);break;case g:if(w<=3){var y=""+x;m+=y.substr(2,2)}else m+=q(x,w);break;case h:m+=w>=3?p(b[x],w,w):q(x+1,w);break;case i:var z=x>0,A=z?"-":"+",B=Math.abs(x),C=""+Math.floor(B/60);C=o(C,2);var D=""+B%60;D=o(D,2),m+=A+C+D}}n=n.substr(l.index+l[0].length)}return m}}(),log4javascript.SimpleDateFormat=SimpleDateFormat,PatternLayout.TTCC_CONVERSION_PATTERN="%r %p %c - %m%n",PatternLayout.DEFAULT_CONVERSION_PATTERN="%m%n",PatternLayout.ISO8601_DATEFORMAT="yyyy-MM-dd HH:mm:ss,SSS",PatternLayout.DATETIME_DATEFORMAT="dd MMM yyyy HH:mm:ss,SSS",PatternLayout.ABSOLUTETIME_DATEFORMAT="HH:mm:ss,SSS",PatternLayout.prototype=new Layout,PatternLayout.prototype.format=function(a){for(var b,c=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,d="",e=this.pattern;b=c.exec(e);){var f=b[0],g=b[1],h=b[2],i=b[3],j=b[5],k=b[6];if(k)d+=""+k;else{var l="";switch(i){case"a":case"m":var m=0;j&&(m=parseInt(j,10),isNaN(m)&&(handleError("PatternLayout.format: invalid specifier '"+j+"' for conversion character '"+i+"' - should be a number"),m=0));for(var n="a"===i?a.messages[0]:a.messages,o=0,p=n.length;o<p;o++)o>0&&" "!==l.charAt(l.length-1)&&(l+=" "),l+=0===m?n[o]:formatObjectExpansion(n[o],m);break;case"c":var q=a.logger.name;if(j){var r=parseInt(j,10),s=a.logger.name.split(".");l=r>=s.length?q:s.slice(s.length-r).join(".")}else l=q;break;case"d":var t=PatternLayout.ISO8601_DATEFORMAT;j&&(t=j,"ISO8601"==t?t=PatternLayout.ISO8601_DATEFORMAT:"ABSOLUTE"==t?t=PatternLayout.ABSOLUTETIME_DATEFORMAT:"DATE"==t&&(t=PatternLayout.DATETIME_DATEFORMAT)),l=new SimpleDateFormat(t).format(a.timeStamp);break;case"f":if(this.hasCustomFields()){var u=0;j&&(u=parseInt(j,10),isNaN(u)?handleError("PatternLayout.format: invalid specifier '"+j+"' for conversion character 'f' - should be a number"):0===u?handleError("PatternLayout.format: invalid specifier '"+j+"' for conversion character 'f' - must be greater than zero"):u>this.customFields.length?handleError("PatternLayout.format: invalid specifier '"+j+"' for conversion character 'f' - there aren't that many custom fields"):u-=1);var v=this.customFields[u].value;"function"==typeof v&&(v=v(this,a)),l=v}break;case"n":l=newLine;break;case"p":l=a.level.name;break;case"r":l=""+a.timeStamp.getDifference(applicationStartDate);break;case"%":l="%";break;default:l=f}var w;if(h){w=parseInt(h.substr(1),10);var x=l.length;w<x&&(l=l.substring(x-w,x))}if(g)if("-"==g.charAt(0))for(w=parseInt(g.substr(1),10);l.length<w;)l+=" ";else for(w=parseInt(g,10);l.length<w;)l=" "+l;d+=l}e=e.substr(b.index+b[0].length)}return d},PatternLayout.prototype.ignoresThrowable=function(){return!0},PatternLayout.prototype.toString=function(){return"PatternLayout"},log4javascript.PatternLayout=PatternLayout,AlertAppender.prototype=new Appender,AlertAppender.prototype.layout=new SimpleLayout,AlertAppender.prototype.append=function(a){alert(this.getLayout().formatWithException(a))},AlertAppender.prototype.toString=function(){return"AlertAppender"},log4javascript.AlertAppender=AlertAppender,BrowserConsoleAppender.prototype=new log4javascript.Appender,BrowserConsoleAppender.prototype.layout=new NullLayout,BrowserConsoleAppender.prototype.threshold=Level.DEBUG,BrowserConsoleAppender.prototype.append=function(a){var b=this,c=function(c){var d=b.getLayout().formatWithException(a);return"string"==typeof d?c?d:[d]:c?d.join(" "):d},d=window.console;if(d&&d.log){var e;e=d.debug&&Level.DEBUG.isGreaterOrEqual(a.level)?"debug":d.info&&Level.INFO.equals(a.level)?"info":d.warn&&Level.WARN.equals(a.level)?"warn":d.error&&a.level.isGreaterOrEqual(Level.ERROR)?"error":"log","function"==typeof d[e].apply?d[e].apply(d,c(!1)):d[e](c(!0))}else"undefined"!=typeof opera&&opera.postError&&opera.postError(c(!0))},BrowserConsoleAppender.prototype.group=function(a){window.console&&window.console.group&&window.console.group(a)},BrowserConsoleAppender.prototype.groupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},BrowserConsoleAppender.prototype.toString=function(){return"BrowserConsoleAppender"},log4javascript.BrowserConsoleAppender=BrowserConsoleAppender;var xhrFactory=function(){return new XMLHttpRequest},xmlHttpFactories=[xhrFactory,function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],withCredentialsSupported=!1,getXmlHttp=function(a){for(var b,c=null,d=0,e=xmlHttpFactories.length;d<e;d++){b=xmlHttpFactories[d];try{return c=b(),withCredentialsSupported=b==xhrFactory&&"withCredentials"in c,getXmlHttp=b,c}catch(a){}}a?a():handleError("getXmlHttp: unable to obtain XMLHttpRequest object")};AjaxAppender.prototype=new Appender,AjaxAppender.prototype.defaults={waitForResponse:!1,timed:!1,timerInterval:1e3,batchSize:1,sendAllOnUnload:!1,requestSuccessCallback:null,failCallback:null,postVarName:"data",contentType:"application/x-www-form-urlencoded"},AjaxAppender.prototype.layout=new HttpPostDataLayout,AjaxAppender.prototype.toString=function(){return"AjaxAppender"},log4javascript.AjaxAppender=AjaxAppender;var ConsoleAppender;if(function(){function a(a,b,c,d,e){this.create(!1,null,a,b,c,d,e,this.defaults.focusPopUp)}function b(a,b,c,d,e,f){this.create(!0,a,b,c,d,e,f,!1)}var c=function(){return['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"\x3c!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\x3e",'<meta http-equiv="X-UA-Compatible" content="IE=7" />','<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','\x3c!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\x3e','\x3c!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\x3e','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}","function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}","if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}','GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}","this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}","this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}','LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}','LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}','this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}','logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}","var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}","matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}","var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}","return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}","logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}","displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}","var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}','function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}','function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}","searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}","return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+","preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}","logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}","var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}","setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}","this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}','currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}','addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}","function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}','function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}','if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}','function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}','function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}","function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}","currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}","return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-','($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}","this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}","return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}","return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}","currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}","</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>','<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>','<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />','<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>','<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>','<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>','<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />','<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />','<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""]},d=[];ConsoleAppender=function(){};var e=1;ConsoleAppender.prototype=new Appender,ConsoleAppender.prototype.create=function(a,b,f,g,h,i,j,k){function l(a,b){this.loggingEvent=a,this.levelName=a.level.name,this.formattedMessage=b}function m(a,b){this.name=a,this.initiallyExpanded=b}function n(){}var o=this,p=!1,q=!1,r=!1,s=!1,t=[],u=!0,v=e++;g=extractBooleanFromParam(g,this.defaults.initiallyMinimized),f=extractBooleanFromParam(f,this.defaults.lazyInit),h=extractBooleanFromParam(h,this.defaults.useDocumentWrite);var w=this.defaults.newestMessageAtTop,x=this.defaults.scrollToLatestMessage;i=i||this.defaults.width,j=j||this.defaults.height;var y=this.defaults.maxMessages,z=this.defaults.showCommandLine,A=this.defaults.commandLineObjectExpansionDepth,B=this.defaults.showHideButton,C=this.defaults.showCloseButton;this.setLayout(this.defaults.layout);var D,E,F,G,H,I=a?"InPageAppender":"PopUpAppender",J=function(a){return!q||(handleError(I+": configuration option '"+a+"' may not be set after the appender has been initialized"),!1)},K=function(){return r&&u&&!s};this.isNewestMessageAtTop=function(){return w},this.setNewestMessageAtTop=function(a){w=bool(a),K()&&G().setNewestAtTop(w)},this.isScrollToLatestMessage=function(){return x},this.setScrollToLatestMessage=function(a){x=bool(a),K()&&G().setScrollToLatest(x)},this.getWidth=function(){return i},this.setWidth=function(a){J("width")&&(i=extractStringFromParam(a,i))},this.getHeight=function(){return j},this.setHeight=function(a){J("height")&&(j=extractStringFromParam(a,j))},this.getMaxMessages=function(){return y},this.setMaxMessages=function(a){y=extractIntFromParam(a,y),K()&&G().setMaxMessages(y)},this.isShowCommandLine=function(){return z},this.setShowCommandLine=function(a){z=bool(a),K()&&G().setShowCommandLine(z)},this.isShowHideButton=function(){return B},this.setShowHideButton=function(a){B=bool(a),K()&&G().setShowHideButton(B)},this.isShowCloseButton=function(){return C},this.setShowCloseButton=function(a){C=bool(a),K()&&G().setShowCloseButton(C)},this.getCommandLineObjectExpansionDepth=function(){return A},this.setCommandLineObjectExpansionDepth=function(a){A=extractIntFromParam(a,A)};var L=g;this.isInitiallyMinimized=function(){return g},this.setInitiallyMinimized=function(a){J("initiallyMinimized")&&(g=bool(a),L=g)},this.isUseDocumentWrite=function(){return h},this.setUseDocumentWrite=function(a){J("useDocumentWrite")&&(h=bool(a))},l.prototype.append=function(){G().log(this.levelName,this.formattedMessage)},m.prototype.append=function(){G().group(this.name,this.initiallyExpanded)},n.prototype.append=function(){G().groupEnd()};var M=function(){F(),p?s&&ba&&E():D(),F()&&N()};this.append=function(a){if(u){var b=o.getLayout().formatWithException(a);t.push(new l(a,b)),M()}},this.group=function(a,b){u&&(t.push(new m(a,b)),M())},this.groupEnd=function(){u&&(t.push(new n),M())};var N=function(){for(;t.length>0;)t.shift().append();k&&G().focus()};this.setAddedToLogger=function(a){this.loggers.push(a),enabled&&!f&&D()},this.clear=function(){K()&&G().clearLog(),t.length=0},this.focus=function(){K()&&G().focus()},this.focusCommandLine=function(){K()&&G().focusCommandLine()},this.focusSearch=function(){K()&&G().focusSearch()};var O=window;this.getCommandWindow=function(){return O},this.setCommandWindow=function(a){O=a},this.executeLastCommand=function(){K()&&G().evalLastCommand()};var P=new PatternLayout("%m");this.getCommandLayout=function(){return P},this.setCommandLayout=function(a){P=a},this.evalCommandAndAppend=function(a){var b={appendResult:!0,isError:!1},c="";try{var d,e;!O.eval&&O.execScript&&O.execScript("null");var f={};for(e=0,len=Q.length;e<len;e++)f[Q[e][0]]=Q[e][1];var g=[],h=function(a){g.push([a,O[a]])};h("appender"),O.appender=o,h("commandReturnValue"),O.commandReturnValue=b,h("commandLineFunctionsHash"),O.commandLineFunctionsHash=f;var i=function(a){h(a),O[a]=function(){return this.commandLineFunctionsHash[a](o,arguments,b)}};for(e=0,len=Q.length;e<len;e++)i(Q[e][0]);for(O===window&&O.execScript?(h("evalExpr"),h("result"),window.evalExpr=a,O.execScript("window.result=eval(window.evalExpr);"),d=window.result):d=O.eval(a),c=isUndefined(d)?d:formatObjectExpansion(d,A),e=0,len=g.length;e<len;e++)O[g[e][0]]=g[e][1]}catch(a){c="Error evaluating command: "+getExceptionStringRep(a),b.isError=!0}if(b.appendResult){var j=">>> "+a;isUndefined(c)||(j+=newLine+c);var k=b.isError?Level.ERROR:Level.INFO,l=new LoggingEvent(null,new Date,k,[j],null),m=this.getLayout();this.setLayout(P),this.append(l),this.setLayout(m)}};var Q=d.concat([]);this.addCommandLineFunction=function(a,b){Q.push([a,b])};var R="log4javascriptCommandHistory";this.storeCommandHistory=function(a){setCookie(R,a.join(","))};var S=function(a){var b=c();a.open();for(var d=0,e=b.length;d<e;d++)a.writeln(b[d]);a.close()};this.setEventTypes(["load","unload"]);var T=function(){var a=G();a.setAppender(o),a.setNewestAtTop(w),a.setScrollToLatest(x),a.setMaxMessages(y),a.setShowCommandLine(z),a.setShowHideButton(B),a.setShowCloseButton(C),a.setMainWindow(window);var b=getCookie(R);b&&(a.commandHistory=b.split(","),a.currentCommandIndex=a.commandHistory.length),o.dispatchEvent("load",{win:a})};this.unload=function(){logLog.debug("unload "+this+", caller: "+this.unload.caller),s||(logLog.debug("really doing unload "+this),s=!0,r=!1,q=!1,o.dispatchEvent("unload",{}))};var U=function(a,b,c,d){function e(){try{s&&clearInterval(f),a(G())&&(clearInterval(f),c())}catch(a){clearInterval(f),u=!1,handleError(d,a)}}var f=setInterval(e,b)},V=function(){var a=document.domain!=location.hostname;return h?"":getBaseUrl()+"console.html"+(a?"?log4javascript_domain="+escape(document.domain):"")};if(a){var W=null,X=[];this.addCssProperty=function(a,b){J("cssProperties")&&X.push([a,b])};var Y,Z=!1,$=uniqueId+"_InPageAppender_"+v;this.hide=function(){p&&q&&(K()&&G().$("command").blur(),Y.style.display="none",L=!0)},this.show=function(){p&&(q?(Y.style.display="block",this.setShowCommandLine(z),L=!1):Z||E(!0))},this.isVisible=function(){return!L&&!s},this.close=function(a){s||a&&!confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")||(Y.parentNode.removeChild(Y),this.unload())},H=function(){function a(){try{g||o.show(),T(),r=!0,N()}catch(a){u=!1,handleError(c,a)}}function b(){try{var b=function(a){return isLoaded(a)};h&&S(G().document),b(G())?a():U(b,100,a,c)}catch(a){u=!1,handleError(c,a)}}var c="InPageAppender.open: unable to create console iframe";L=!1,Y=W.appendChild(document.createElement("div")),Y.style.width=i,Y.style.height=j,Y.style.border="solid gray 1px";for(var d=0,e=X.length;d<e;d++)Y.style[X[d][0]]=X[d][1];var f=h?"":" src='"+V()+"'";Y.innerHTML="<iframe id='"+$+"' name='"+$+"' width='100%' height='100%' frameborder='0'"+f+" scrolling='no'></iframe>",s=!1;var k=function(a){try{return bool(a)&&bool(a.document)}catch(a){return!1}};k(G())?b():U(k,100,b,c),q=!0},E=function(a){if(a||!g){var c=function(){if(b)try{var a=document.getElementById(b);1==a.nodeType&&(W=a),H()}catch(a){handleError("InPageAppender.init: invalid container element '"+b+"' supplied",a)}else W=document.createElement("div"),W.style.position="fixed",W.style.left="0",W.style.right="0",W.style.bottom="0",document.body.appendChild(W),o.addCssProperty("borderWidth","1px 0 0 0"),o.addCssProperty("zIndex",1e6),H()};pageLoaded&&b&&b.appendChild?(W=b,H()):pageLoaded?c():log4javascript.addEventListener("load",c),Z=!0}},D=function(){E(),p=!0},G=function(){var a=window.frames[$];if(a)return a},F=function(){return!(!u||s)&&(q&&!r&&G()&&isLoaded(G())&&(r=!0),r)}}else{var _=o.defaults.useOldPopUp,aa=o.defaults.complainAboutPopUpBlocking,ba=this.defaults.reopenWhenClosed;this.isUseOldPopUp=function(){return _},this.setUseOldPopUp=function(a){J("useOldPopUp")&&(_=bool(a))},this.isComplainAboutPopUpBlocking=function(){return aa},this.setComplainAboutPopUpBlocking=function(a){J("complainAboutPopUpBlocking")&&(aa=bool(a))},this.isFocusPopUp=function(){return k},this.setFocusPopUp=function(a){k=bool(a)},this.isReopenWhenClosed=function(){return ba},this.setReopenWhenClosed=function(a){ba=bool(a)},this.close=function(){logLog.debug("close "+this);try{ca.close(),this.unload()}catch(a){}},this.hide=function(){logLog.debug("hide "+this),K()&&this.close()},this.show=function(){logLog.debug("show "+this),q||H()},this.isVisible=function(){return F()};var ca;H=function(){function a(){G().setCloseIfOpenerCloses(!_||!h),T(),r=!0,N(),U(f,500,g,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}var b="width="+i+",height="+j+",status,resizable",c="";try{var d=window.frameElement;d&&(c="_"+d.tagName+"_"+(d.name||d.id||""))}catch(a){c="_inaccessibleParentFrame"}var e="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+v+c;_&&h||(e=e+"_"+uniqueId);var f=function(a){if(s)return!0;try{return bool(a)&&a.closed}catch(a){}return!1},g=function(){s||o.unload()};try{if(ca=window.open(V(),e,b),s=!1,q=!0,ca&&ca.document)if(h&&_&&isLoaded(ca))ca.mainPageReloaded(),a();else{h&&S(ca.document);var k=function(a){return bool(a)&&isLoaded(a)};isLoaded(ca)?a():U(k,100,a,"PopUpAppender.init: unable to create console window")}else u=!1,logLog.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),aa&&handleError("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging.")}catch(a){handleError("PopUpAppender.init: error creating pop-up",a)}},E=function(){g||H()},D=function(){E(),p=!0},G=function(){return ca},F=function(){if(u&&!isUndefined(ca)&&!s){if(ca.closed||r&&isUndefined(ca.closed))return o.unload(),logLog.debug("PopUpAppender: pop-up closed"),!1;!r&&isLoaded(ca)&&(r=!0)}return u&&r&&!s}}this.getConsoleWindow=G},ConsoleAppender.addGlobalCommandLineFunction=function(a,b){d.push([a,b])},a.prototype=new ConsoleAppender,a.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,focusPopUp:!1,lazyInit:!0,useOldPopUp:!0,complainAboutPopUpBlocking:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"600",height:"400",reopenWhenClosed:!1,maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!0,useDocumentWrite:!0},a.prototype.toString=function(){return"PopUpAppender"},log4javascript.PopUpAppender=a,b.prototype=new ConsoleAppender,b.prototype.defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,lazyInit:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"100%",height:"220px",maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!1,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},b.prototype.toString=function(){return"InPageAppender"},log4javascript.InPageAppender=b,log4javascript.InlineAppender=b}(),function(){function a(a){var b=0;for(var c in a)b=Math.max(toStr(c).length,b);var d=[];for(c in a){var e,f="  "+padWithSpaces(toStr(c),b+2);try{e=splitIntoLines(toStr(a[c])).join(padWithSpaces(newLine,b+6))}catch(a){e="[Error obtaining property. Details: "+getExceptionMessage(a)+"]"}d.push(f+e)}return d.join(newLine)}function b(a,c,d,i,j){function k(a){return a.nodeType==e.TEXT_NODE&&/^[ \t\r\n]*$/.test(a.nodeValue)}function l(a){return a.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function m(a){for(var b=a.style.cssText.split(";"),c="",d=0,e=b.length;d<e;d++){var f=b[d].split(":"),g=[];/^\s*$/.test(f[0])||g.push(trim(f[0]).toLowerCase()+":"+trim(f[1])),c=g.join(";")}return c}function n(a){if(a.prefix)return a.prefix;if(a.outerHTML){if(new RegExp("<([^:]+):"+a.tagName+"[^>]*>","i").test(a.outerHTML))return RegExp.$1.toLowerCase()}return""}c=void 0===c||!!c,"string"!=typeof d&&(d=""),i=!!i,j=!!j;var o,p,q,r="<",s=">";if(!c||a.nodeType==e.DOCUMENT_FRAGMENT_NODE){for(o="",p=0,q=a.childNodes.length;p<q;p++)o+=b(a.childNodes[p],!0,d+h);return o}switch(a.nodeType){case e.ELEMENT_NODE:var t=a.tagName.toLowerCase();o=i?newLine+d:"",o+=r;var u=n(a),v=!!u;for(v&&(o+=u+":"),o+=t,p=0,q=a.attributes.length;p<q;p++){var w=a.attributes[p];w.specified&&null!==w.nodeValue&&"style"!==w.nodeName.toLowerCase()&&"string"==typeof w.nodeValue&&0!==w.nodeName.indexOf("_moz")&&(o+=" "+w.nodeName.toLowerCase()+'="',o+=l(w.nodeValue),o+='"')}if(a.style.cssText){""!==m(a)&&(o+=' style="'+m(a)+'"')}if(array_contains(g,t)||v&&!a.hasChildNodes())o+="/"+s;else{o+=s;var x=!(1===a.childNodes.length&&a.childNodes[0].nodeType===e.TEXT_NODE),y=array_contains(f,t);for(p=0,q=a.childNodes.length;p<q;p++)o+=b(a.childNodes[p],!0,d+h,x,y);var z=r+"/"+t+s;o+=x?newLine+d+z:z}return o;case e.TEXT_NODE:if(k(a))o="";else{if(j)o=a.nodeValue;else{var A=splitIntoLines(trim(a.nodeValue)),B=[];for(p=0,q=A.length;p<q;p++)B[p]=trim(A[p]);o=B.join(newLine+d)}i&&(o=newLine+d+o)}return o;case e.CDATA_SECTION_NODE:return"<![CDATA["+a.nodeValue+"]]>"+newLine;case e.DOCUMENT_NODE:for(o="",p=0,q=a.childNodes.length;p<q;p++)o+=b(a.childNodes[p],!0,d);return o;default:return""}}function c(){ConsoleAppender.addGlobalCommandLineFunction("$",function(a,b,c){return document.getElementById(b[0])}),ConsoleAppender.addGlobalCommandLineFunction("dir",function(b,c,d){for(var e=[],f=0,g=c.length;f<g;f++)e[f]=a(c[f]);return e.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction("dirxml",function(a,c,d){for(var e=[],f=0,g=c.length;f<g;f++)e[f]=b(c[f]);return e.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction("cd",function(a,b,c){var d,e;return 0===b.length||""===b[0]?(d=window,e="Command line set to run in main window"):b[0].window==b[0]?(d=b[0],e="Command line set to run in frame '"+b[0].name+"'"):(d=window.frames[b[0]],d?e="Command line set to run in frame '"+b[0]+"'":(c.isError=!0,e="Frame '"+b[0]+"' does not exist",d=a.getCommandWindow())),a.setCommandWindow(d),e}),ConsoleAppender.addGlobalCommandLineFunction("clear",function(a,b,c){c.appendResult=!1,a.clear()}),ConsoleAppender.addGlobalCommandLineFunction("keys",function(a,b,c){var d=[];for(var e in b[0])d.push(e);return d}),ConsoleAppender.addGlobalCommandLineFunction("values",function(a,b,c){var d=[];for(var e in b[0])try{d.push(b[0][e])}catch(a){logLog.warn("values(): Unable to obtain value for key "+e+". Details: "+getExceptionMessage(a))}return d}),ConsoleAppender.addGlobalCommandLineFunction("expansionDepth",function(a,b,c){var d=parseInt(b[0],10);return isNaN(d)||d<0?(c.isError=!0,b[0]+" is not a valid expansion depth"):(a.setCommandLineObjectExpansionDepth(d),"Object expansion depth set to "+d)})}function d(){c()}var e={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},f=["script","pre"],g=["br","img","hr","param","link","area","input","col","base","meta"],h="  ";d()}(),log4javascript.setDocumentReady=function(){pageLoaded=!0,log4javascript.dispatchEvent("load",{})},window.addEventListener)window.addEventListener("load",log4javascript.setDocumentReady,!1);else if(window.attachEvent)window.attachEvent("onload",log4javascript.setDocumentReady);else{var oldOnload=window.onload;"function"!=typeof window.onload?window.onload=log4javascript.setDocumentReady:window.onload=function(a){oldOnload&&oldOnload(a),log4javascript.setDocumentReady()}}return log4javascript},this)},{}],64:[function(a,b,c){!function(a,d){"object"==typeof c&&"object"==typeof b?b.exports=d():"function"==typeof define&&define.amd?define([],d):"object"==typeof c?c.MessageFormat=d():a.MessageFormat=d()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{enumerable:!0,get:d})},b.r=function(a){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},b.t=function(a,c){if(1&c&&(a=b(a)),8&c)return a;if(4&c&&"object"==typeof a&&a&&a.__esModule)return a;var d=Object.create(null);if(b.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:a}),2&c&&"string"!=typeof a)for(var e in a)b.d(d,e,function(b){return a[b]}.bind(null,e));return d},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=8)}([function(a,b,c){var d,e;void 0===(e="function"==typeof(d={af:function(a,b){return b?"other":1==a?"one":"other"},ak:function(a,b){return b?"other":0==a||1==a?"one":"other"},am:function(a,b){return b?"other":a>=0&&a<=1?"one":"other"},ar:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-2);return b?"other":0==a?"zero":1==a?"one":2==a?"two":e>=3&&e<=10?"few":e>=11&&e<=99?"many":"other"},ars:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-2);return b?"other":0==a?"zero":1==a?"one":2==a?"two":e>=3&&e<=10?"few":e>=11&&e<=99?"many":"other"},as:function(a,b){return b?1==a||5==a||7==a||8==a||9==a||10==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&a<=1?"one":"other"},asa:function(a,b){return b?"other":1==a?"one":"other"},ast:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},az:function(a,b){var c=String(a).split("."),d=c[0],e=d.slice(-1),f=d.slice(-2),g=d.slice(-3);return b?1==e||2==e||5==e||7==e||8==e||20==f||50==f||70==f||80==f?"one":3==e||4==e||100==g||200==g||300==g||400==g||500==g||600==g||700==g||800==g||900==g?"few":0==d||6==e||40==f||60==f||90==f?"many":"other":1==a?"one":"other"},be:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1),f=d&&c[0].slice(-2);return b?2!=e&&3!=e||12==f||13==f?"other":"few":1==e&&11!=f?"one":e>=2&&e<=4&&(f<12||f>14)?"few":d&&0==e||e>=5&&e<=9||f>=11&&f<=14?"many":"other"},bem:function(a,b){return b?"other":1==a?"one":"other"},bez:function(a,b){return b?"other":1==a?"one":"other"},bg:function(a,b){return b?"other":1==a?"one":"other"},bh:function(a,b){return b?"other":0==a||1==a?"one":"other"},bm:function(a,b){return"other"},bn:function(a,b){return b?1==a||5==a||7==a||8==a||9==a||10==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&a<=1?"one":"other"},bo:function(a,b){return"other"},br:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1),f=d&&c[0].slice(-2),g=d&&c[0].slice(-6);return b?"other":1==e&&11!=f&&71!=f&&91!=f?"one":2==e&&12!=f&&72!=f&&92!=f?"two":(3==e||4==e||9==e)&&(f<10||f>19)&&(f<70||f>79)&&(f<90||f>99)?"few":0!=a&&d&&0==g?"many":"other"},brx:function(a,b){return b?"other":1==a?"one":"other"},bs:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&g<=4&&(h<12||h>14)||i>=2&&i<=4&&(j<12||j>14)?"few":"other"},ca:function(a,b){var c=String(a).split("."),d=!c[1];return b?1==a||3==a?"one":2==a?"two":4==a?"few":"other":1==a&&d?"one":"other"},ce:function(a,b){return b?"other":1==a?"one":"other"},cgg:function(a,b){return b?"other":1==a?"one":"other"},chr:function(a,b){return b?"other":1==a?"one":"other"},ckb:function(a,b){return b?"other":1==a?"one":"other"},cs:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1];return b?"other":1==a&&e?"one":d>=2&&d<=4&&e?"few":e?"other":"many"},cy:function(a,b){return b?0==a||7==a||8==a||9==a?"zero":1==a?"one":2==a?"two":3==a||4==a?"few":5==a||6==a?"many":"other":0==a?"zero":1==a?"one":2==a?"two":3==a?"few":6==a?"many":"other"},da:function(a,b){var c=String(a).split("."),d=c[0],e=Number(c[0])==a;return b?"other":1!=a&&(e||0!=d&&1!=d)?"other":"one"},de:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},dsb:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-2),h=e.slice(-2);return b?"other":f&&1==g||1==h?"one":f&&2==g||2==h?"two":f&&(3==g||4==g)||3==h||4==h?"few":"other"},dv:function(a,b){return b?"other":1==a?"one":"other"},dz:function(a,b){return"other"},ee:function(a,b){return b?"other":1==a?"one":"other"},el:function(a,b){return b?"other":1==a?"one":"other"},en:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?1==f&&11!=g?"one":2==f&&12!=g?"two":3==f&&13!=g?"few":"other":1==a&&d?"one":"other"},eo:function(a,b){return b?"other":1==a?"one":"other"},es:function(a,b){return b?"other":1==a?"one":"other"},et:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},eu:function(a,b){return b?"other":1==a?"one":"other"},fa:function(a,b){return b?"other":a>=0&&a<=1?"one":"other"},ff:function(a,b){return b?"other":a>=0&&a<2?"one":"other"},fi:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},fil:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=e.slice(-1);return b?1==a?"one":"other":f&&(1==d||2==d||3==d)||f&&4!=g&&6!=g&&9!=g||!f&&4!=h&&6!=h&&9!=h?"one":"other"},fo:function(a,b){return b?"other":1==a?"one":"other"},fr:function(a,b){return b?1==a?"one":"other":a>=0&&a<2?"one":"other"},fur:function(a,b){return b?"other":1==a?"one":"other"},fy:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},ga:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?1==a?"one":"other":1==a?"one":2==a?"two":d&&a>=3&&a<=6?"few":d&&a>=7&&a<=10?"many":"other"},gd:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?1==a||11==a?"one":2==a||12==a?"two":3==a||13==a?"few":"other":1==a||11==a?"one":2==a||12==a?"two":d&&a>=3&&a<=10||d&&a>=13&&a<=19?"few":"other"},gl:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},gsw:function(a,b){return b?"other":1==a?"one":"other"},gu:function(a,b){return b?1==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&a<=1?"one":"other"},guw:function(a,b){return b?"other":0==a||1==a?"one":"other"},gv:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-1),g=d.slice(-2);return b?"other":e&&1==f?"one":e&&2==f?"two":!e||0!=g&&20!=g&&40!=g&&60!=g&&80!=g?e?"other":"many":"few"},ha:function(a,b){return b?"other":1==a?"one":"other"},haw:function(a,b){return b?"other":1==a?"one":"other"},he:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=Number(c[0])==a,g=f&&c[0].slice(-1);return b?"other":1==a&&e?"one":2==d&&e?"two":e&&(a<0||a>10)&&f&&0==g?"many":"other"},hi:function(a,b){return b?1==a?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":a>=0&&a<=1?"one":"other"},hr:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&g<=4&&(h<12||h>14)||i>=2&&i<=4&&(j<12||j>14)?"few":"other"},hsb:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-2),h=e.slice(-2);return b?"other":f&&1==g||1==h?"one":f&&2==g||2==h?"two":f&&(3==g||4==g)||3==h||4==h?"few":"other"},hu:function(a,b){return b?1==a||5==a?"one":"other":1==a?"one":"other"},hy:function(a,b){return b?1==a?"one":"other":a>=0&&a<2?"one":"other"},ia:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},id:function(a,b){return"other"},ig:function(a,b){return"other"},ii:function(a,b){return"other"},in:function(a,b){return"other"},io:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},is:function(a,b){var c=String(a).split("."),d=c[0],e=Number(c[0])==a,f=d.slice(-1),g=d.slice(-2);return b?"other":e&&1==f&&11!=g||!e?"one":"other"},it:function(a,b){var c=String(a).split("."),d=!c[1];return b?11==a||8==a||80==a||800==a?"many":"other":1==a&&d?"one":"other"},iu:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},iw:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=Number(c[0])==a,g=f&&c[0].slice(-1);return b?"other":1==a&&e?"one":2==d&&e?"two":e&&(a<0||a>10)&&f&&0==g?"many":"other"},ja:function(a,b){return"other"},jbo:function(a,b){return"other"},jgo:function(a,b){return b?"other":1==a?"one":"other"},ji:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},jmc:function(a,b){return b?"other":1==a?"one":"other"},jv:function(a,b){return"other"},jw:function(a,b){return"other"},ka:function(a,b){var c=String(a).split("."),d=c[0],e=d.slice(-2);return b?1==d?"one":0==d||e>=2&&e<=20||40==e||60==e||80==e?"many":"other":1==a?"one":"other"},kab:function(a,b){return b?"other":a>=0&&a<2?"one":"other"},kaj:function(a,b){return b?"other":1==a?"one":"other"},kcg:function(a,b){return b?"other":1==a?"one":"other"},kde:function(a,b){return"other"},kea:function(a,b){return"other"},kk:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1);return b?6==e||9==e||d&&0==e&&0!=a?"many":"other":1==a?"one":"other"},kkj:function(a,b){return b?"other":1==a?"one":"other"},kl:function(a,b){return b?"other":1==a?"one":"other"},km:function(a,b){return"other"},kn:function(a,b){return b?"other":a>=0&&a<=1?"one":"other"},ko:function(a,b){return"other"},ks:function(a,b){return b?"other":1==a?"one":"other"},ksb:function(a,b){return b?"other":1==a?"one":"other"},ksh:function(a,b){return b?"other":0==a?"zero":1==a?"one":"other"},ku:function(a,b){return b?"other":1==a?"one":"other"},kw:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},ky:function(a,b){return b?"other":1==a?"one":"other"},lag:function(a,b){var c=String(a).split("."),d=c[0];return b?"other":0==a?"zero":0!=d&&1!=d||0==a?"other":"one"},lb:function(a,b){return b?"other":1==a?"one":"other"},lg:function(a,b){return b?"other":1==a?"one":"other"},lkt:function(a,b){return"other"},ln:function(a,b){return b?"other":0==a||1==a?"one":"other"},lo:function(a,b){return b&&1==a?"one":"other"},lt:function(a,b){var c=String(a).split("."),d=c[1]||"",e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?"other":1==f&&(g<11||g>19)?"one":f>=2&&f<=9&&(g<11||g>19)?"few":0!=d?"many":"other"},lv:function(a,b){var c=String(a).split("."),d=c[1]||"",e=d.length,f=Number(c[0])==a,g=f&&c[0].slice(-1),h=f&&c[0].slice(-2),i=d.slice(-2),j=d.slice(-1);return b?"other":f&&0==g||h>=11&&h<=19||2==e&&i>=11&&i<=19?"zero":1==g&&11!=h||2==e&&1==j&&11!=i||2!=e&&1==j?"one":"other"},mas:function(a,b){return b?"other":1==a?"one":"other"},mg:function(a,b){return b?"other":0==a||1==a?"one":"other"},mgo:function(a,b){return b?"other":1==a?"one":"other"},mk:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?1==g&&11!=h?"one":2==g&&12!=h?"two":7!=g&&8!=g||17==h||18==h?"other":"many":f&&1==g&&11!=h||1==i&&11!=j?"one":"other"},ml:function(a,b){return b?"other":1==a?"one":"other"},mn:function(a,b){return b?"other":1==a?"one":"other"},mo:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-2);return b?1==a?"one":"other":1==a&&d?"one":!d||0==a||1!=a&&f>=1&&f<=19?"few":"other"},mr:function(a,b){return b?1==a?"one":2==a||3==a?"two":4==a?"few":"other":a>=0&&a<=1?"one":"other"},ms:function(a,b){return b&&1==a?"one":"other"},mt:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-2);return b?"other":1==a?"one":0==a||e>=2&&e<=10?"few":e>=11&&e<=19?"many":"other"},my:function(a,b){return"other"},nah:function(a,b){return b?"other":1==a?"one":"other"},naq:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},nb:function(a,b){return b?"other":1==a?"one":"other"},nd:function(a,b){return b?"other":1==a?"one":"other"},ne:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?d&&a>=1&&a<=4?"one":"other":1==a?"one":"other"},nl:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},nn:function(a,b){return b?"other":1==a?"one":"other"},nnh:function(a,b){return b?"other":1==a?"one":"other"},no:function(a,b){return b?"other":1==a?"one":"other"},nqo:function(a,b){return"other"},nr:function(a,b){return b?"other":1==a?"one":"other"},nso:function(a,b){return b?"other":0==a||1==a?"one":"other"},ny:function(a,b){return b?"other":1==a?"one":"other"},nyn:function(a,b){return b?"other":1==a?"one":"other"},om:function(a,b){return b?"other":1==a?"one":"other"},or:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?1==a||5==a||d&&a>=7&&a<=9?"one":2==a||3==a?"two":4==a?"few":6==a?"many":"other":1==a?"one":"other"},os:function(a,b){return b?"other":1==a?"one":"other"},pa:function(a,b){return b?"other":0==a||1==a?"one":"other"},pap:function(a,b){return b?"other":1==a?"one":"other"},pl:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-1),g=d.slice(-2);return b?"other":1==a&&e?"one":e&&f>=2&&f<=4&&(g<12||g>14)?"few":e&&1!=d&&(0==f||1==f)||e&&f>=5&&f<=9||e&&g>=12&&g<=14?"many":"other"},prg:function(a,b){var c=String(a).split("."),d=c[1]||"",e=d.length,f=Number(c[0])==a,g=f&&c[0].slice(-1),h=f&&c[0].slice(-2),i=d.slice(-2),j=d.slice(-1);return b?"other":f&&0==g||h>=11&&h<=19||2==e&&i>=11&&i<=19?"zero":1==g&&11!=h||2==e&&1==j&&11!=i||2!=e&&1==j?"one":"other"},ps:function(a,b){return b?"other":1==a?"one":"other"},pt:function(a,b){var c=String(a).split("."),d=c[0];return b?"other":0==d||1==d?"one":"other"},"pt-PT":function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},rm:function(a,b){return b?"other":1==a?"one":"other"},ro:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-2);return b?1==a?"one":"other":1==a&&d?"one":!d||0==a||1!=a&&f>=1&&f<=19?"few":"other"},rof:function(a,b){return b?"other":1==a?"one":"other"},root:function(a,b){return"other"},ru:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-1),g=d.slice(-2);return b?"other":e&&1==f&&11!=g?"one":e&&f>=2&&f<=4&&(g<12||g>14)?"few":e&&0==f||e&&f>=5&&f<=9||e&&g>=11&&g<=14?"many":"other"},rwk:function(a,b){return b?"other":1==a?"one":"other"},sah:function(a,b){return"other"},saq:function(a,b){return b?"other":1==a?"one":"other"},sc:function(a,b){var c=String(a).split("."),d=!c[1];return b?11==a||8==a||80==a||800==a?"many":"other":1==a&&d?"one":"other"},scn:function(a,b){var c=String(a).split("."),d=!c[1];return b?11==a||8==a||80==a||800==a?"many":"other":1==a&&d?"one":"other"},sd:function(a,b){return b?"other":1==a?"one":"other"},sdh:function(a,b){return b?"other":1==a?"one":"other"},se:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},seh:function(a,b){return b?"other":1==a?"one":"other"},ses:function(a,b){return"other"},sg:function(a,b){return"other"},sh:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&g<=4&&(h<12||h>14)||i>=2&&i<=4&&(j<12||j>14)?"few":"other"},shi:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":a>=0&&a<=1?"one":d&&a>=2&&a<=10?"few":"other"},si:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"";return b?"other":0==a||1==a||0==d&&1==e?"one":"other"},sk:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1];return b?"other":1==a&&e?"one":d>=2&&d<=4&&e?"few":e?"other":"many"},sl:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=d.slice(-2);return b?"other":e&&1==f?"one":e&&2==f?"two":e&&(3==f||4==f)||!e?"few":"other"},sma:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},smi:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},smj:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},smn:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},sms:function(a,b){return b?"other":1==a?"one":2==a?"two":"other"},sn:function(a,b){return b?"other":1==a?"one":"other"},so:function(a,b){return b?"other":1==a?"one":"other"},sq:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1),f=d&&c[0].slice(-2);return b?1==a?"one":4==e&&14!=f?"many":"other":1==a?"one":"other"},sr:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=d.slice(-2),i=e.slice(-1),j=e.slice(-2);return b?"other":f&&1==g&&11!=h||1==i&&11!=j?"one":f&&g>=2&&g<=4&&(h<12||h>14)||i>=2&&i<=4&&(j<12||j>14)?"few":"other"},ss:function(a,b){return b?"other":1==a?"one":"other"},ssy:function(a,b){return b?"other":1==a?"one":"other"},st:function(a,b){return b?"other":1==a?"one":"other"},sv:function(a,b){var c=String(a).split("."),d=!c[1],e=Number(c[0])==a,f=e&&c[0].slice(-1),g=e&&c[0].slice(-2);return b?1!=f&&2!=f||11==g||12==g?"other":"one":1==a&&d?"one":"other"},sw:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},syr:function(a,b){return b?"other":1==a?"one":"other"},ta:function(a,b){return b?"other":1==a?"one":"other"},te:function(a,b){return b?"other":1==a?"one":"other"},teo:function(a,b){return b?"other":1==a?"one":"other"},th:function(a,b){return"other"},ti:function(a,b){return b?"other":0==a||1==a?"one":"other"},tig:function(a,b){return b?"other":1==a?"one":"other"},tk:function(a,b){var c=String(a).split("."),d=Number(c[0])==a,e=d&&c[0].slice(-1);return b?6==e||9==e||10==a?"few":"other":1==a?"one":"other"},tl:function(a,b){var c=String(a).split("."),d=c[0],e=c[1]||"",f=!c[1],g=d.slice(-1),h=e.slice(-1);return b?1==a?"one":"other":f&&(1==d||2==d||3==d)||f&&4!=g&&6!=g&&9!=g||!f&&4!=h&&6!=h&&9!=h?"one":"other"},tn:function(a,b){return b?"other":1==a?"one":"other"},to:function(a,b){return"other"},tr:function(a,b){return b?"other":1==a?"one":"other"},ts:function(a,b){return b?"other":1==a?"one":"other"},tzm:function(a,b){var c=String(a).split("."),d=Number(c[0])==a;return b?"other":0==a||1==a||d&&a>=11&&a<=99?"one":"other"},ug:function(a,b){return b?"other":1==a?"one":"other"},uk:function(a,b){var c=String(a).split("."),d=c[0],e=!c[1],f=Number(c[0])==a,g=f&&c[0].slice(-1),h=f&&c[0].slice(-2),i=d.slice(-1),j=d.slice(-2);return b?3==g&&13!=h?"few":"other":e&&1==i&&11!=j?"one":e&&i>=2&&i<=4&&(j<12||j>14)?"few":e&&0==i||e&&i>=5&&i<=9||e&&j>=11&&j<=14?"many":"other"},ur:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},uz:function(a,b){return b?"other":1==a?"one":"other"},ve:function(a,b){return b?"other":1==a?"one":"other"},vi:function(a,b){return b&&1==a?"one":"other"},vo:function(a,b){return b?"other":1==a?"one":"other"},vun:function(a,b){return b?"other":1==a?"one":"other"},wa:function(a,b){return b?"other":0==a||1==a?"one":"other"},wae:function(a,b){return b?"other":1==a?"one":"other"},wo:function(a,b){return"other"},xh:function(a,b){return b?"other":1==a?"one":"other"},xog:function(a,b){return b?"other":1==a?"one":"other"},yi:function(a,b){var c=String(a).split("."),d=!c[1];return b?"other":1==a&&d?"one":"other"},yo:function(a,b){return"other"},yue:function(a,b){return"other"},zh:function(a,b){return"other"},zu:function(a,b){return b?"other":a>=0&&a<=1?"one":"other"}})?d.call(b,c,b,a):d)||(a.exports=e)},function(a,b,c){a.exports={date:c(4),duration:c(5),number:c(6),time:c(7)}},function(a,b,c){"use strict";function d(a,b,c,e){this.message=a,this.expected=b,this.found=c,this.location=e,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,d)}!function(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}(d,Error),d.buildMessage=function(a,b){function c(a){return a.charCodeAt(0).toString(16).toUpperCase()}function d(a){return a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(a){return"\\x0"+c(a)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(a){return"\\x"+c(a)})}function e(a){return a.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(a){return"\\x0"+c(a)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(a){return"\\x"+c(a)})}var f={literal:function(a){return'"'+d(a.text)+'"'},class:function(a){var b,c="";for(b=0;b<a.parts.length;b++)c+=a.parts[b]instanceof Array?e(a.parts[b][0])+"-"+e(a.parts[b][1]):e(a.parts[b]);return"["+(a.inverted?"^":"")+c+"]"},any:function(a){return"any character"},end:function(a){return"end of input"},other:function(a){return a.description}};return"Expected "+function(a){var b,c,d,e=new Array(a.length);for(b=0;b<a.length;b++)e[b]=(d=a[b],f[d.type](d));if(e.sort(),e.length>0){for(b=1,c=1;b<e.length;b++)e[b-1]!==e[b]&&(e[c]=e[b],c++);e.length=c}switch(e.length){case 1:return e[0];case 2:return e[0]+" or "+e[1];default:return e.slice(0,-1).join(", ")+", or "+e[e.length-1]}}(a)+" but "+function(a){return a?'"'+d(a)+'"':"end of input"}(b)+" found."},a.exports={SyntaxError:d,parse:function(a,b){function c(a,b){return{type:"literal",text:a,ignoreCase:b}}function e(a,b,c){return{type:"class",parts:a,inverted:b,ignoreCase:c}}function f(a){return{type:"other",description:a}}function g(b){var c,d=jb[b];if(d)return d;for(c=b-1;!jb[c];)c--;for(d={line:(d=jb[c]).line,column:d.column};c<b;)10===a.charCodeAt(c)?(d.line++,d.column=1):d.column++,c++;return jb[b]=d,d}function h(a,b){var c=g(a),d=g(b);return{start:{offset:a,line:c.line,column:c.column},end:{offset:b,line:d.line,column:d.column}}}function i(a){ib<kb||(ib>kb&&(kb=ib,lb=[]),lb.push(a))}function j(a,b,c){return new d(d.buildMessage(a,b),a,b,c)}function k(){var a,b;for(a=[],b=l();b!==y;)a.push(b),b=l();return a}function l(){var b,c,d;if((b=function(){var b,c,d,e;return b=ib,123===a.charCodeAt(ib)?(c=G,ib++):(c=y,0===mb&&i(H)),c!==y&&w()!==y&&(d=m())!==y&&w()!==y?(125===a.charCodeAt(ib)?(e=I,ib++):(e=y,0===mb&&i(J)),e!==y?(c=K(d),b=c):(ib=b,b=y)):(ib=b,b=y),b}())===y&&(b=function(){var b,c,d,e,f,g,h,j,k;if(b=ib,123===a.charCodeAt(ib)?(c=G,ib++):(c=y,0===mb&&i(H)),c!==y)if(w()!==y)if((d=m())!==y)if(w()!==y)if(44===a.charCodeAt(ib)?(e=L,ib++):(e=y,0===mb&&i(M)),e!==y)if(w()!==y)if(a.substr(ib,6)===N?(f=N,ib+=6):(f=y,0===mb&&i(O)),f!==y&&(f=P(d,f)),f!==y)if((f=w())!==y)if(44===a.charCodeAt(ib)?(g=L,ib++):(g=y,0===mb&&i(M)),g!==y)if(w()!==y){if(h=[],(j=n())!==y)for(;j!==y;)h.push(j),j=n();else h=y;h!==y&&(j=w())!==y?(125===a.charCodeAt(ib)?(k=I,ib++):(k=y,0===mb&&i(J)),k!==y?(c=Q(d,h),b=c):(ib=b,b=y)):(ib=b,b=y)}else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;return b}())===y&&(b=function(){var b,c,d,e,f,g,h,j,k,l,n;if(b=ib,123===a.charCodeAt(ib)?(c=G,ib++):(c=y,0===mb&&i(H)),c!==y)if(w()!==y)if((d=m())!==y)if(w()!==y)if(44===a.charCodeAt(ib)?(e=L,ib++):(e=y,0===mb&&i(M)),e!==y)if(w()!==y)if(f=ib,a.substr(ib,6)===R?(g=R,ib+=6):(g=y,0===mb&&i(S)),g===y&&(a.substr(ib,13)===T?(g=T,ib+=13):(g=y,0===mb&&i(U))),g!==y&&(g=V(d,g)),(f=g)!==y)if((g=w())!==y)if(44===a.charCodeAt(ib)?(h=L,ib++):(h=y,0===mb&&i(M)),h!==y)if(w()!==y)if((j=function(){var b,c,d,e,f;return mb++,b=ib,(c=w())!==y?(a.substr(ib,6)===ca?(d=ca,ib+=6):(d=y,0===mb&&i(da)),d!==y&&w()!==y?(58===a.charCodeAt(ib)?(e=ea,ib++):(e=y,0===mb&&i(fa)),e!==y&&w()!==y&&(f=v())!==y&&w()!==y?(c=ga(f),b=c):(ib=b,b=y)):(ib=b,b=y)):(ib=b,b=y),mb--,b===y&&(c=y,0===mb&&i(ba)),b}())===y&&(j=null),j!==y){if(k=[],(l=o())!==y)for(;l!==y;)k.push(l),l=o();else k=y;k!==y&&(l=w())!==y?(125===a.charCodeAt(ib)?(n=I,ib++):(n=y,0===mb&&i(J)),n!==y?(c=W(d,f,j,k),b=c):(ib=b,b=y)):(ib=b,b=y)}else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;else ib=b,b=y;return b}())===y&&(b=function(){var b,c,d,e,f,g,h;return b=ib,123===a.charCodeAt(ib)?(c=G,ib++):(c=y,0===mb&&i(H)),c!==y&&w()!==y&&(d=m())!==y&&w()!==y?(44===a.charCodeAt(ib)?(e=L,ib++):(e=y,0===mb&&i(M)),e!==y&&w()!==y&&(f=function(){var b,c,d,e,f;return a.substr(ib,6)===ja?(b=ja,ib+=6):(b=y,0===mb&&i(ka)),b===y&&(a.substr(ib,4)===la?(b=la,ib+=4):(b=y,0===mb&&i(ma)),b===y&&(a.substr(ib,4)===na?(b=na,ib+=4):(b=y,0===mb&&i(oa)),b===y&&(a.substr(ib,8)===pa?(b=pa,ib+=8):(b=y,0===mb&&i(qa)),b===y&&(a.substr(ib,7)===ra?(b=ra,ib+=7):(b=y,0===mb&&i(sa)),b===y&&(a.substr(ib,8)===ta?(b=ta,ib+=8):(b=y,0===mb&&i(ua)),b===y&&(b=ib,c=ib,mb++,a.substr(ib,6)===N?(d=N,ib+=6):(d=y,0===mb&&i(O)),mb--,d===y?c=void 0:(ib=c,c=y),c!==y?(d=ib,mb++,a.substr(ib,6)===R?(e=R,ib+=6):(e=y,0===mb&&i(S)),mb--,e===y?d=void 0:(ib=d,d=y),d!==y?(e=ib,mb++,a.substr(ib,13)===T?(f=T,ib+=13):(f=y,0===mb&&i(U)),mb--,f===y?e=void 0:(ib=e,e=y),e!==y&&(f=m())!==y&&(va(f)?void 0:y)!==y?(c=wa(f),b=c):(ib=b,b=y)):(ib=b,b=y)):(ib=b,b=y))))))),b}())!==y&&w()!==y?((g=function(){var b,c,d,e,f;if(b=ib,(c=w())!==y)if(44===a.charCodeAt(ib)?(d=L,ib++):(d=y,0===mb&&i(M)),d!==y){for(e=[],f=l();f!==y;)e.push(f),f=l();e!==y&&(f=(f=xa(e))?void 0:y)!==y?(c=ya(e),b=c):(ib=b,b=y)}else ib=b,b=y;else ib=b,b=y;if(b===y)if(b=ib,(c=w())!==y)if(44===a.charCodeAt(ib)?(d=L,ib++):(d=y,0===mb&&i(M)),d!==y){for(e=[],f=q();f!==y;)e.push(f),f=q();e!==y?(c=za(e),b=c):(ib=b,b=y)}else ib=b,b=y;else ib=b,b=y;return b}())===y&&(g=null),g!==y?(125===a.charCodeAt(ib)?(h=I,ib++):(h=y,0===mb&&i(J)),h!==y?(c=X(d,f,g),b=c):(ib=b,b=y)):(ib=b,b=y)):(ib=b,b=y)):(ib=b,b=y),b}())===y&&(b=ib,35===a.charCodeAt(ib)?(c=B,ib++):(c=y,0===mb&&i(C)),c!==y&&(d=(d=D())?void 0:y)!==y?b=c=E():(ib=b,b=y),b===y)){if(b=ib,c=[],(d=u())!==y)for(;d!==y;)c.push(d),d=u();else c=y;c!==y&&(c=F(c)),b=c}return b}function m(){var b,c,d;if(mb++,b=ib,c=[],Z.test(a.charAt(ib))?(d=a.charAt(ib),ib++):(d=y,0===mb&&i($)),d!==y)for(;d!==y;)c.push(d),Z.test(a.charAt(ib))?(d=a.charAt(ib),ib++):(d=y,0===mb&&i($));else c=y;return b=c!==y?a.substring(b,ib):c,mb--,b===y&&(c=y,0===mb&&i(Y)),b}function n(){var a,b,c;return a=ib,w()!==y&&(b=m())!==y&&w()!==y&&(c=p())!==y?a=_(b,c):(ib=a,a=y),a}function o(){var b,c,d;return b=ib,w()!==y&&(c=function(){var b,c,d;return(b=m())===y&&(b=ib,61===a.charCodeAt(ib)?(c=ha,ib++):(c=y,0===mb&&i(ia)),c!==y&&(d=v())!==y?(c=ga(d),b=c):(ib=b,b=y)),b}())!==y&&w()!==y&&(d=p())!==y?b=_(c,d):(ib=b,b=y),b}function p(){var b,c,d,e,f,g;if(b=ib,123===a.charCodeAt(ib)?(c=G,ib++):(c=y,0===mb&&i(H)),c!==y)if(d=ib,(e=w())!==y?(f=ib,mb++,123===a.charCodeAt(ib)?(g=G,ib++):(g=y,0===mb&&i(H)),mb--,g!==y?(ib=f,f=void 0):f=y,f!==y?d=e=[e,f]:(ib=d,d=y)):(ib=d,d=y),d===y&&(d=null),d!==y){for(e=[],f=l();f!==y;)e.push(f),f=l();e!==y&&(f=w())!==y?(125===a.charCodeAt(ib)?(g=I,ib++):(g=y,0===mb&&i(J)),g!==y?b=c=aa(e):(ib=b,b=y)):(ib=b,b=y)}else ib=b,b=y;else ib=b,b=y;return b}function q(){var b,c,d,e;if(mb++,b=ib,c=[],Ba.test(a.charAt(ib))?(d=a.charAt(ib),ib++):(d=y,0===mb&&i(Ca)),d!==y)for(;d!==y;)c.push(d),Ba.test(a.charAt(ib))?(d=a.charAt(ib),ib++):(d=y,0===mb&&i(Ca));else c=y;if(c!==y&&(c=Da(c)),(b=c)===y&&(b=r())===y&&(b=ib,39===a.charCodeAt(ib)?(c=Ea,ib++):(c=y,0===mb&&i(Fa)),c!==y&&(d=s())!==y?(39===a.charCodeAt(ib)?(e=Ea,ib++):(e=y,0===mb&&i(Fa)),e!==y?b=c=Ga(d):(ib=b,b=y)):(ib=b,b=y),b===y))if(b=ib,123===a.charCodeAt(ib)?(c=G,ib++):(c=y,0===mb&&i(H)),c!==y){for(d=[],e=q();e!==y;)d.push(e),e=q();d!==y?(125===a.charCodeAt(ib)?(e=I,ib++):(e=y,0===mb&&i(J)),e!==y?b=c=Ha(d):(ib=b,b=y)):(ib=b,b=y)}else ib=b,b=y;return mb--,b===y&&(c=y,0===mb&&i(Aa)),b}function r(){var b,c;return mb++,b=ib,a.substr(ib,2)===Ja?(c=Ja,ib+=2):(c=y,0===mb&&i(Ka)),c!==y&&(c=La()),mb--,(b=c)===y&&(c=y,0===mb&&i(Ia)),b}function s(){var b,c,d;if((b=r())===y){if(b=ib,c=[],Ma.test(a.charAt(ib))?(d=a.charAt(ib),ib++):(d=y,0===mb&&i(Na)),d!==y)for(;d!==y;)c.push(d),Ma.test(a.charAt(ib))?(d=a.charAt(ib),ib++):(d=y,0===mb&&i(Na));else c=y;c!==y&&(c=F(c)),b=c}return b}function t(){var b,c,d,e,f,g;if(mb++,(b=function(){var b,c,d,e;if(b=ib,a.substr(ib,2)===Oa?(c=Oa,ib+=2):(c=y,0===mb&&i(Pa)),c!==y){for(d=[],e=s();e!==y;)d.push(e),e=s();d!==y?(39===a.charCodeAt(ib)?(e=Ea,ib++):(e=y,0===mb&&i(Fa)),e!==y?b=c=Qa(d):(ib=b,b=y)):(ib=b,b=y)}else ib=b,b=y;if(b===y)if(b=ib,a.substr(ib,2)===Ra?(c=Ra,ib+=2):(c=y,0===mb&&i(Sa)),c!==y){for(d=[],e=s();e!==y;)d.push(e),e=s();d!==y?(39===a.charCodeAt(ib)?(e=Ea,ib++):(e=y,0===mb&&i(Fa)),e!==y?b=c=Ta(d):(ib=b,b=y)):(ib=b,b=y)}else ib=b,b=y;return b}())===y){if(b=ib,c=ib,d=ib,a.substr(ib,2)===Va?(e=Va,ib+=2):(e=y,0===mb&&i(Wa)),e!==y){for(f=[],g=s();g!==y;)f.push(g),g=s();f!==y?(39===a.charCodeAt(ib)?(g=Ea,ib++):(g=y,0===mb&&i(Fa)),g!==y?d=e=Xa(f):(ib=d,d=y)):(ib=d,d=y)}else ib=d,d=y;d!==y&&(e=(e=D())?void 0:y)!==y?c=d=[d,e]:(ib=c,c=y),c!==y&&(c=Ya(c)),(b=c)===y&&(39===a.charCodeAt(ib)?(b=Ea,ib++):(b=y,0===mb&&i(Fa)))}return mb--,b===y&&(c=y,0===mb&&i(Ua)),b}function u(){var b,c;return(b=r())===y&&(b=t())===y&&(b=ib,35===a.charCodeAt(ib)?(c=B,ib++):(c=y,0===mb&&i(C)),c!==y&&(ab(c)?void 0:y)!==y?b=c=bb(c):(ib=b,b=y),b===y&&(b=function(){var b;return mb++,$a.test(a.charAt(ib))?(b=a.charAt(ib),ib++):(b=y,0===mb&&i(_a)),mb--,b===y&&0===mb&&i(Za),b}())),b}function v(){var b,c,d;if(mb++,b=ib,c=[],db.test(a.charAt(ib))?(d=a.charAt(ib),ib++):(d=y,0===mb&&i(eb)),d!==y)for(;d!==y;)c.push(d),db.test(a.charAt(ib))?(d=a.charAt(ib),ib++):(d=y,0===mb&&i(eb));else c=y;return b=c!==y?a.substring(b,ib):c,mb--,b===y&&(c=y,0===mb&&i(cb)),b}function w(){var b,c,d;for(mb++,b=ib,c=[],gb.test(a.charAt(ib))?(d=a.charAt(ib),ib++):(d=y,0===mb&&i(hb));d!==y;)c.push(d),gb.test(a.charAt(ib))?(d=a.charAt(ib),ib++):(d=y,0===mb&&i(hb));return b=c!==y?a.substring(b,ib):c,mb--,b===y&&(c=y,0===mb&&i(fb)),b}b=void 0!==b?b:{};var x,y={},z={start:k},A=k,B="#",C=c("#",!1),D=function(){return nb[0]},E=function(){return{type:"octothorpe"}},F=function(a){return a.join("")},G="{",H=c("{",!1),I="}",J=c("}",!1),K=function(a){return{type:"argument",arg:a}},L=",",M=c(",",!1),N="select",O=c("select",!1),P=function(a,c){return b.strict&&nb.unshift(!1),c},Q=function(a,c){return b.strict&&nb.shift(),{type:"select",arg:a,cases:c}},R="plural",S=c("plural",!1),T="selectordinal",U=c("selectordinal",!1),V=function(a,b){return nb.unshift(!0),b},W=function(a,c,d,e){var f=("selectordinal"===c?b.ordinal:b.cardinal)||["zero","one","two","few","many","other"];return f&&f.length&&e.forEach(function(b){if(isNaN(b.key)&&f.indexOf(b.key)<0)throw new Error("Invalid key `"+b.key+"` for argument `"+a+"`. Valid "+c+" keys for this locale are `"+f.join("`, `")+"`, and explicit keys like `=0`.")}),nb.shift(),{type:c,arg:a,offset:d||0,cases:e}},X=function(a,b,c){return{type:"function",arg:a,key:b,param:c}},Y=f("identifier"),Z=/^[^\t-\r \x85\u200E\u200F\u2028\u2029!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,$=e([["\t","\r"]," ","","‎","‏","\u2028","\u2029",["!","/"],[":","@"],["[","^"],"`",["{","~"],["¡","§"],"©","«","¬","®","°","±","¶","»","¿","×","÷",["‐","‧"],["‰","‾"],["⁁","⁓"],["⁕","⁞"],["←","⑟"],["─","❵"],["➔","⯿"],["⸀","⹿"],["、","〃"],["〈","〠"],"〰","﴾","﴿","﹅","﹆"],!0,!1),_=function(a,b){return{key:a,tokens:b}},aa=function(a){return a},ba=f("plural offset"),ca="offset",da=c("offset",!1),ea=":",fa=c(":",!1),ga=function(a){return a},ha="=",ia=c("=",!1),ja="number",ka=c("number",!1),la="date",ma=c("date",!1),na="time",oa=c("time",!1),pa="spellout",qa=c("spellout",!1),ra="ordinal",sa=c("ordinal",!1),ta="duration",ua=c("duration",!1),va=function(a){if(b.strict||/^\d/.test(a))return!1;switch(a.toLowerCase()){case"select":case"plural":case"selectordinal":return!1;default:return!0}},wa=function(a){return a},xa=function(a){return!b.strict},ya=function(a){return{tokens:a}},za=function(a){return{tokens:[a.join("")]}},Aa=f("a valid (strict) function parameter"),Ba=/^[^'{}]/,Ca=e(["'","{","}"],!0,!1),Da=function(a){return a.join("")},Ea="'",Fa=c("'",!1),Ga=function(a){return a},Ha=function(a){return"{"+a.join("")+"}"},Ia=f("doubled apostrophe"),Ja="''",Ka=c("''",!1),La=function(){return"'"},Ma=/^[^']/,Na=e(["'"],!0,!1),Oa="'{",Pa=c("'{",!1),Qa=function(a){return"{"+a.join("")},Ra="'}",Sa=c("'}",!1),Ta=function(a){return"}"+a.join("")},Ua=f("escaped string"),Va="'#",Wa=c("'#",!1),Xa=function(a){return"#"+a.join("")},Ya=function(a){return a[0]},Za=f("plain char"),$a=/^[^{}#\0-\x08\x0E-\x1F\x7F]/,_a=e(["{","}","#",["\0","\b"],["",""],""],!0,!1),ab=function(a){return!nb[0]},bb=function(a){return a},cb=f("integer"),db=/^[0-9]/,eb=e([["0","9"]],!1,!1),fb=f("white space"),gb=/^[\t-\r \x85\u200E\u200F\u2028\u2029]/,hb=e([["\t","\r"]," ","","‎","‏","\u2028","\u2029"],!1,!1),ib=0,jb=[{line:1,column:1}],kb=0,lb=[],mb=0;if("startRule"in b){if(!(b.startRule in z))throw new Error("Can't start parsing from rule \""+b.startRule+'".');A=z[b.startRule]}var nb=[!1];if((x=A())!==y&&ib===a.length)return x;throw x!==y&&ib<a.length&&i({type:"end"}),j(lb,kb<a.length?a.charAt(kb):null,kb<a.length?h(kb,kb+1):h(kb,kb))}}},function(a,b,c){var d,e,f=[{cardinal:["other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["one","other"]},{cardinal:["one","two","other"],ordinal:["other"]}];void 0===(e="function"==typeof(d={af:f[1],ak:f[1],am:f[1],ar:{cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},ars:{cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},as:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},asa:f[1],ast:f[1],az:{cardinal:["one","other"],ordinal:["one","few","many","other"]},be:{cardinal:["one","few","many","other"],ordinal:["few","other"]},bem:f[1],bez:f[1],bg:f[1],bh:f[1],bm:f[0],bn:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},bo:f[0],br:{cardinal:["one","two","few","many","other"],ordinal:["other"]},brx:f[1],bs:{cardinal:["one","few","other"],ordinal:["other"]},ca:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ce:f[1],cgg:f[1],chr:f[1],ckb:f[1],cs:{cardinal:["one","few","many","other"],ordinal:["other"]},cy:{cardinal:["zero","one","two","few","many","other"],ordinal:["zero","one","two","few","many","other"]},da:f[1],de:f[1],dsb:{cardinal:["one","two","few","other"],ordinal:["other"]},dv:f[1],dz:f[0],ee:f[1],el:f[1],en:{cardinal:["one","other"],ordinal:["one","two","few","other"]},eo:f[1],es:f[1],et:f[1],eu:f[1],fa:f[1],ff:f[1],fi:f[1],fil:f[2],fo:f[1],fr:f[2],fur:f[1],fy:f[1],ga:{cardinal:["one","two","few","many","other"],ordinal:["one","other"]},gd:{cardinal:["one","two","few","other"],ordinal:["one","two","few","other"]},gl:f[1],gsw:f[1],gu:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},guw:f[1],gv:{cardinal:["one","two","few","many","other"],ordinal:["other"]},ha:f[1],haw:f[1],he:{cardinal:["one","two","many","other"],ordinal:["other"]},hi:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},hr:{cardinal:["one","few","other"],ordinal:["other"]},hsb:{cardinal:["one","two","few","other"],ordinal:["other"]},hu:f[2],hy:f[2],ia:f[1],id:f[0],ig:f[0],ii:f[0],in:f[0],io:f[1],is:f[1],it:{cardinal:["one","other"],ordinal:["many","other"]},iu:f[3],iw:{cardinal:["one","two","many","other"],ordinal:["other"]},ja:f[0],jbo:f[0],jgo:f[1],ji:f[1],jmc:f[1],jv:f[0],jw:f[0],ka:{cardinal:["one","other"],ordinal:["one","many","other"]},kab:f[1],kaj:f[1],kcg:f[1],kde:f[0],kea:f[0],kk:{cardinal:["one","other"],ordinal:["many","other"]},kkj:f[1],kl:f[1],km:f[0],kn:f[1],ko:f[0],ks:f[1],ksb:f[1],ksh:{cardinal:["zero","one","other"],ordinal:["other"]},ku:f[1],kw:f[3],ky:f[1],lag:{cardinal:["zero","one","other"],ordinal:["other"]},lb:f[1],lg:f[1],lkt:f[0],ln:f[1],lo:{cardinal:["other"],ordinal:["one","other"]},lt:{cardinal:["one","few","many","other"],ordinal:["other"]},lv:{cardinal:["zero","one","other"],ordinal:["other"]},mas:f[1],mg:f[1],mgo:f[1],mk:{cardinal:["one","other"],ordinal:["one","two","many","other"]},ml:f[1],mn:f[1],mo:{cardinal:["one","few","other"],ordinal:["one","other"]},mr:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ms:{cardinal:["other"],ordinal:["one","other"]},mt:{cardinal:["one","few","many","other"],ordinal:["other"]},my:f[0],nah:f[1],naq:f[3],nb:f[1],nd:f[1],ne:f[2],nl:f[1],nn:f[1],nnh:f[1],no:f[1],nqo:f[0],nr:f[1],nso:f[1],ny:f[1],nyn:f[1],om:f[1],or:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},os:f[1],pa:f[1],pap:f[1],pl:{cardinal:["one","few","many","other"],ordinal:["other"]},prg:{cardinal:["zero","one","other"],ordinal:["other"]},ps:f[1],pt:f[1],"pt-PT":f[1],rm:f[1],ro:{cardinal:["one","few","other"],ordinal:["one","other"]},rof:f[1],root:f[0],ru:{cardinal:["one","few","many","other"],ordinal:["other"]},rwk:f[1],sah:f[0],saq:f[1],sc:{cardinal:["one","other"],ordinal:["many","other"]},scn:{cardinal:["one","other"],ordinal:["many","other"]},sd:f[1],sdh:f[1],se:f[3],seh:f[1],ses:f[0],sg:f[0],sh:{cardinal:["one","few","other"],ordinal:["other"]},shi:{cardinal:["one","few","other"],ordinal:["other"]},si:f[1],sk:{cardinal:["one","few","many","other"],ordinal:["other"]},sl:{cardinal:["one","two","few","other"],ordinal:["other"]},sma:f[3],smi:f[3],smj:f[3],smn:f[3],sms:f[3],sn:f[1],so:f[1],sq:{cardinal:["one","other"],ordinal:["one","many","other"]},sr:{cardinal:["one","few","other"],ordinal:["other"]},ss:f[1],ssy:f[1],st:f[1],sv:f[2],sw:f[1],syr:f[1],ta:f[1],te:f[1],teo:f[1],th:f[0],ti:f[1],tig:f[1],tk:{cardinal:["one","other"],ordinal:["few","other"]},tl:f[2],tn:f[1],to:f[0],tr:f[1],ts:f[1],tzm:f[1],ug:f[1],uk:{cardinal:["one","few","many","other"],ordinal:["few","other"]},ur:f[1],uz:f[1],ve:f[1],vi:{cardinal:["other"],ordinal:["one","other"]},vo:f[1],vun:f[1],wa:f[1],wae:f[1],wo:f[0],xh:f[1],xog:f[1],yi:f[1],yo:f[0],yue:f[0],zh:f[0],zu:f[1]})?d.call(b,c,b,a):d)||(a.exports=e)},function(a,b){function c(a,b,c){var d={day:"numeric",month:"short",year:"numeric"};switch(c){case"full":d.weekday="long";case"long":d.month="long";break;case"short":d.month="numeric"}return new Date(a).toLocaleDateString(b,d)}a.exports=function(){return c}},function(a,b){function c(a){if(!isFinite(a))return String(a);var b="";a<0?(b="-",a=Math.abs(a)):a=Number(a);var c=a%60,d=[Math.round(c)===c?c:c.toFixed(3)];return a<60?d.unshift(0):(a=Math.round((a-d[0])/60),d.unshift(a%60),a>=60&&(a=Math.round((a-d[0])/60),d.unshift(a))),b+d.shift()+":"+d.map(function(a){return a<10?"0"+String(a):String(a)}).join(":")}a.exports=function(){return c}},function(a,b){a.exports=function(a){var b=function(a,b,c){var d=c&&c.split(":")||[],e={integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:d[1]&&d[1].trim()||CURRENCY,minimumFractionDigits:2,maximumFractionDigits:2}};return new Intl.NumberFormat(b,e[d[0]]||{}).format(a)}.toString().replace("CURRENCY",JSON.stringify(a.currency||"USD")).match(/\(([^)]*)\)[^{]*{([\s\S]*)}/);return new Function(b[1],b[2])}},function(a,b){function c(a,b,c){var d={second:"numeric",minute:"numeric",hour:"numeric"};switch(c){case"full":case"long":d.timeZoneName="short";break;case"short":delete d.second}return new Date(a).toLocaleTimeString(b,d)}a.exports=function(){return c}},function(a,b,c){"use strict";function d(a,b){if(/^[A-Z_$][0-9A-Z_$]*$/i.test(a)&&!r[a])return b?"".concat(b,".").concat(a):a;var c=JSON.stringify(a);return b?b+"[".concat(c,"]"):c}function e(a){var b=a.trim().replace(/\W+/g,"_");return r[b]||s[b]||/^\d/.test(b)?"_"+b:b}function f(a){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){var d=function(){return b.apply(this,arguments)};if(d.toString=function(){return b.toString()},c){var e=w.a[a]||{};d.cardinal=e.cardinal,d.ordinal=e.ordinal}else d.cardinal=[],d.ordinal=[];return d}function i(a,b){for(var c=b.pluralKeyChecks,d=String(a);d;d=d.replace(/[-_]?[^-_]*$/,"")){var e=y.a[d];if(e)return h(d,e,c)}throw new Error("Localisation function not found for locale "+JSON.stringify(a))}function j(a){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function k(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function l(a){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function m(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function n(a,b,c){return b&&m(a.prototype,b),c&&m(a,c),a}c.r(b);var o=c(1),p=c.n(o),q=c(2),r={break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},s={debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0},t=new RegExp("^"+["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"].join("|^")),u=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.mf=b,this.lc=null,this.locales={},this.runtime={},this.formatters={}}var b,c,h;return b=a,(c=[{key:"compile",value:function(a,b,c){var d=this;if("object"!=f(a)){this.lc=b;var e=c[b]||{cardinal:[],ordinal:[]};e.strict=!!this.mf.options.strictNumberSign;return"function(d) { return ".concat(Object(q.parse)(a,e).map(function(a){return d.token(a)}).join(" + ")||'""',"; }")}var g={};for(var h in a){var i=c.hasOwnProperty(h)?h:b;g[h]=this.compile(a[h],i,c)}return g}},{key:"cases",value:function(a,b){var c=this,e="select"===a.type||!this.mf.hasCustomPluralFuncs,f=a.cases.map(function(a){var f=a.key,g=a.tokens;"other"===f&&(e=!1);var h=g.map(function(a){return c.token(a,b)});return d(f)+": "+(h.join(" + ")||'""')});if(e)throw new Error("No 'other' form found in "+JSON.stringify(a));return"{ ".concat(f.join(", ")," }")}},{key:"token",value:function(a,b){var c,f=this;if("string"==typeof a)return JSON.stringify(a);var g,h,i,j,k=[d(a.arg,"d")];switch(a.type){case"argument":return this.mf.options.biDiSupport?(g=k[0],h=this.lc,i=t.test(h),j=JSON.stringify(i?"‏":"‎"),"".concat(j," + ").concat(g," + ").concat(j)):k[0];case"select":c="select",b&&this.mf.options.strictNumberSign&&(b=null),k.push(this.cases(a,b)),this.runtime.select=!0;break;case"selectordinal":c="plural",k.push(0,e(this.lc),this.cases(a,a),1),this.locales[this.lc]=!0,this.runtime.plural=!0;break;case"plural":c="plural",k.push(a.offset||0,e(this.lc),this.cases(a,a)),this.locales[this.lc]=!0,this.runtime.plural=!0;break;case"function":if(!(a.key in this.mf.fmt)&&a.key in this.mf.constructor.formatters){var l=this.mf.constructor.formatters[a.key];this.mf.fmt[a.key]=l(this.mf)}if(!this.mf.fmt[a.key])throw new Error("Formatting function ".concat(JSON.stringify(a.key)," not found!"));if(k.push(JSON.stringify(this.lc)),a.param){b&&this.mf.options.strictNumberSign&&(b=null);var m=a.param.tokens.map(function(a){return f.token(a,b)});k.push("("+(m.join(" + ")||'""')+").trim()")}c=d(a.key,"fmt"),this.formatters[a.key]=!0;break;case"octothorpe":if(!b)return'"#"';c="number",k=[d(b.arg,"d"),JSON.stringify(b.arg)],b.offset&&k.push(b.offset),this.runtime.number=!0}if(!c)throw new Error("Parser error for token "+JSON.stringify(a));return"".concat(c,"(").concat(k.join(", "),")")}}])&&g(b.prototype,c),h&&g(b,h),a}(),v=c(3),w=c.n(v),x=c(0),y=c.n(x),z=function(){function a(b){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.plural=function(a,b,c,d,e){if({}.hasOwnProperty.call(d,a))return d[a];b&&(a-=b);var f=c(a,e);return f in d?d[f]:d.other},this.select=function(a,b){return{}.hasOwnProperty.call(b,a)?b[a]:b.other},this.mf=b,this.setStrictNumber(b.options.strictNumberSign)}var b,c,f;return b=a,(c=[{key:"setStrictNumber",value:function(b){this.number=b?a.strictNumber:a.defaultNumber}},{key:"toString",value:function(a,b){for(var c={},f=Object.keys(b.locales),g=0;g<f.length;++g){var h=f[g];c[e(h)]=a[h]}for(var i=Object.keys(b.runtime),k=0;k<i.length;++k){var l=i[k];c[l]=this[l]}var m=Object.keys(b.formatters);if(m.length>0){c.fmt={};for(var n=0;n<m.length;++n){var o=m[n];c.fmt[o]=this.mf.fmt[o]}}return function a(b,c){if("object"!=j(b)){var e=b.toString().replace(/^(function )\w*/,"$1"),f=/([ \t]*)\S.*$/.exec(e);return f?e.replace(new RegExp("^"+f[1],"mg"),""):e}var g=[];for(var h in b){var i=a(b[h],c+1);g.push(0===c?"var ".concat(h," = ").concat(i,";\n"):"".concat(d(h),": ").concat(i))}if(0===c)return g.join("");if(0===g.length)return"{}";for(var k="  ";--c;)k+="  ";return"{\n".concat(g.join(",\n").replace(/^/gm,k),"\n}")}(c,0)}}])&&k(b.prototype,c),f&&k(b,f),a}();z.defaultNumber=function(a,b,c){if(!c)return a;if(isNaN(a))throw new Error("Can't apply offset:"+c+" to argument `"+b+"` with non-numerical value "+JSON.stringify(a)+".");return a-c},z.strictNumber=function(a,b,c){if(isNaN(a))throw new Error("Argument `"+b+"` has non-numerical value "+JSON.stringify(a)+".");return a-(c||0)},c.d(b,"default",function(){return A});var A=function(){function a(b,c){var d=this;if(function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,a),this.options=Object.assign({biDiSupport:!1,customFormatters:null,pluralKeyChecks:!0,strictNumberSign:!1},c),this.pluralFuncs={},"string"==typeof b)this.pluralFuncs[b]=i(b,this.options),this.defaultLocale=b;else if(Array.isArray(b))b.forEach(function(a){d.pluralFuncs[a]=i(a,d.options)}),this.defaultLocale=b[0];else{if(b)for(var e=Object.keys(b),f=0;f<e.length;++f){var g=e[f];if("function"!=typeof b[g]){var h="Expected function value for locale "+String(g);throw new Error(h)}this.pluralFuncs[g]=b[g],this.defaultLocale||(this.defaultLocale=g)}this.defaultLocale?this.hasCustomPluralFuncs=!0:(this.defaultLocale=a.defaultLocale,this.hasCustomPluralFuncs=!1)}this.fmt=Object.assign({},this.options.customFormatters),this.runtime=new z(this)}return n(a,null,[{key:"escape",value:function(a,b){var c=b?/[#{}]/g:/[{}]/g;return String(a).replace(c,"'$&'")}}]),n(a,[{key:"addFormatters",value:function(a){for(var b=Object.keys(a),c=0;c<b.length;++c){var d=b[c];this.fmt[d]=a[d]}return this}},{key:"disablePluralKeyChecks",value:function(){for(var a in this.options.pluralKeyChecks=!1,this.pluralFuncs){var b=this.pluralFuncs[a];b&&(b.cardinal=[],b.ordinal=[])}return this}},{key:"setBiDiSupport",value:function(a){return this.options.biDiSupport=!!a||void 0===a,this}},{key:"setStrictNumberSign",value:function(a){return this.options.strictNumberSign=!!a||void 0===a,this.runtime.setStrictNumber(this.options.strictNumberSign),this}},{key:"compile",value:function(a,b){var c={};if(0===Object.keys(this.pluralFuncs).length)if(b){var f=i(b,this.options);if(!f){var g=JSON.stringify(b);throw new Error("Locale ".concat(g," not found!"))}c[b]=f}else b=this.defaultLocale,c=function(a){for(var b=a.pluralKeyChecks,c={},d=Object.keys(y.a),e=0;e<d.length;++e){var f=d[e];c[f]=h(f,y.a[f],b)}return c}(this.options);else if(b){var j=this.pluralFuncs[b];if(!j){var k=JSON.stringify(b),m=JSON.stringify(this.pluralFuncs);throw new Error("Locale ".concat(k," not found in ").concat(m,"!"))}c[b]=j}else b=this.defaultLocale,c=this.pluralFuncs;var n=new u(this),o=n.compile(a,b,c);if("object"!=l(a)){var p=new Function("number, plural, select, fmt",e(b),"return "+o),q=this.runtime;return p(q.number,q.plural,q.select,this.fmt,c[b])}var r=this.runtime.toString(c,n)+"\n",s=function a(b,c){if(c||(c=0),"object"!=l(b))return b;for(var e="",f=0;f<c;++f)e+="  ";var g=[];for(var h in b){var i=a(b[h],c+1);g.push("\n".concat(e,"  ").concat(d(h),": ").concat(i))}return"{".concat(g.join(","),"\n").concat(e,"}")}(o),t=new Function(r+"return "+s)();if(t.hasOwnProperty("toString"))throw new Error("The top-level message key `toString` is reserved");return t.toString=function(a){return a&&"export default"!==a?a.indexOf(".")>-1?r+a+" = "+s:r+["(function (root, G) {",'  if (typeof define === "function" && define.amd) { define(G); }','  else if (typeof exports === "object") { module.exports = G; }',"  else { "+d(a,"root")+" = G; }","})(this, "+s+");"].join("\n"):r+"export default "+s},t}}]),a}();A.defaultLocale="en",A.formatters=p.a}]).default})},{}],65:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],66:[function(a,b,c){(function(a,d){(function(){!function(a,d){"object"==typeof c&&"object"==typeof b?b.exports=d():"function"==typeof define&&define.amd?define([],d):"object"==typeof c?c.swal=d():a.swal=d()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a.default}:function(){return a};return b.d(c,"a",c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p="",b(b.s=8)}([function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d="swal-button";b.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:d,CONFIRM_BUTTON:d+"--confirm",CANCEL_BUTTON:d+"--cancel",DANGER_BUTTON:d+"--danger",BUTTON_LOADING:d+"--loading",BUTTON_LOADER:d+"__loader"},b.default=b.CLASS_NAMES},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getNode=function(a){var b="."+a;return document.querySelector(b)},b.stringToNode=function(a){var b=document.createElement("div");return b.innerHTML=a.trim(),b.firstChild},b.insertAfter=function(a,b){var c=b.nextSibling;b.parentNode.insertBefore(a,c)},b.removeNode=function(a){a.parentElement.removeChild(a)},b.throwErr=function(a){throw a=a.replace(/ +(?= )/g,""),"SweetAlert: "+(a=a.trim())},b.isPlainObject=function(a){if("[object Object]"!==Object.prototype.toString.call(a))return!1;var b=Object.getPrototypeOf(a);return null===b||b===Object.prototype},b.ordinalSuffixOf=function(a){var b=a%10,c=a%100;return 1===b&&11!==c?a+"st":2===b&&12!==c?a+"nd":3===b&&13!==c?a+"rd":a+"th"}},function(a,b,c){"use strict";function d(a){for(var c in a)b.hasOwnProperty(c)||(b[c]=a[c])}Object.defineProperty(b,"__esModule",{value:!0}),d(c(25));var e=c(26);b.overlayMarkup=e.default,d(c(27)),d(c(28)),d(c(29));var f=c(0),g=f.default.MODAL_TITLE,h=f.default.MODAL_TEXT,i=f.default.ICON,j=f.default.FOOTER;b.iconMarkup='\n  <div class="'+i+'"></div>',b.titleMarkup='\n  <div class="'+g+'"></div>\n',b.textMarkup='\n  <div class="'+h+'"></div>',b.footerMarkup='\n  <div class="'+j+'"></div>\n'},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1);b.CONFIRM_KEY="confirm",b.CANCEL_KEY="cancel";var e={visible:!0,text:null,value:null,className:"",closeModal:!0},f=Object.assign({},e,{visible:!1,text:"Cancel",value:null}),g=Object.assign({},e,{text:"OK",value:!0});b.defaultButtonList={cancel:f,confirm:g};var h=function(a){switch(a){case b.CONFIRM_KEY:return g;case b.CANCEL_KEY:return f;default:var c=a.charAt(0).toUpperCase()+a.slice(1);return Object.assign({},e,{text:c,value:a})}},i=function(a,b){var c=h(a);return!0===b?Object.assign({},c,{visible:!0}):"string"==typeof b?Object.assign({},c,{visible:!0,text:b}):d.isPlainObject(b)?Object.assign({visible:!0},c,b):Object.assign({},c,{visible:!1})},j=function(a){for(var b={},c=0,d=Object.keys(a);c<d.length;c++){var e=d[c],g=a[e],h=i(e,g);b[e]=h}return b.cancel||(b.cancel=f),b},k=function(a){var c={};switch(a.length){case 1:c[b.CANCEL_KEY]=Object.assign({},f,{visible:!1});break;case 2:c[b.CANCEL_KEY]=i(b.CANCEL_KEY,a[0]),c[b.CONFIRM_KEY]=i(b.CONFIRM_KEY,a[1]);break;default:d.throwErr("Invalid number of 'buttons' in array ("+a.length+").\n      If you want more than 2 buttons, you need to use an object!")}return c};b.getButtonListOpts=function(a){var c=b.defaultButtonList;return"string"==typeof a?c[b.CONFIRM_KEY]=i(b.CONFIRM_KEY,a):Array.isArray(a)?c=k(a):d.isPlainObject(a)?c=j(a):!0===a?c=k([!0,!0]):!1===a?c=k([!1,!1]):void 0===a&&(c=b.defaultButtonList),c}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1),e=c(2),f=c(0),g=f.default.MODAL,h=f.default.OVERLAY,i=c(30),j=c(31),k=c(32),l=c(33);b.injectElIntoModal=function(a){var b=d.getNode(g),c=d.stringToNode(a);return b.appendChild(c),c};var m=function(a){a.className=g,a.textContent=""},n=function(a,b){m(a);var c=b.className;c&&a.classList.add(c)};b.initModalContent=function(a){var b=d.getNode(g);n(b,a),i.default(a.icon),j.initTitle(a.title),j.initText(a.text),l.default(a.content),k.default(a.buttons,a.dangerMode)};var o=function(){var a=d.getNode(h),b=d.stringToNode(e.modalMarkup);a.appendChild(b)};b.default=o},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(3),e={isOpen:!1,promise:null,actions:{},timer:null},f=Object.assign({},e);b.resetState=function(){f=Object.assign({},e)},b.setActionValue=function(a){if("string"==typeof a)return g(d.CONFIRM_KEY,a);for(var b in a)g(b,a[b])};var g=function(a,b){f.actions[a]||(f.actions[a]={}),Object.assign(f.actions[a],{value:b})};b.setActionOptionsFor=function(a,b){var c=(void 0===b?{}:b).closeModal,d=void 0===c||c;Object.assign(f.actions[a],{closeModal:d})},b.default=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1),e=c(3),f=c(0),g=f.default.OVERLAY,h=f.default.SHOW_MODAL,i=f.default.BUTTON,j=f.default.BUTTON_LOADING,k=c(5);b.openModal=function(){d.getNode(g).classList.add(h),k.default.isOpen=!0};var l=function(){d.getNode(g).classList.remove(h),k.default.isOpen=!1};b.onAction=function(a){void 0===a&&(a=e.CANCEL_KEY);var b=k.default.actions[a],c=b.value;if(!1===b.closeModal){var f=i+"--"+a;d.getNode(f).classList.add(j)}else l();k.default.promise.resolve(c)},b.getState=function(){var a=Object.assign({},k.default);return delete a.promise,delete a.timer,a},b.stopLoading=function(){for(var a=document.querySelectorAll("."+i),b=0;b<a.length;b++)a[b].classList.remove(j)}},function(a,b){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(a){"object"==typeof window&&(c=window)}a.exports=c},function(a,b,c){(function(b){a.exports=b.sweetAlert=c(9)}).call(b,c(7))},function(a,b,c){(function(b){a.exports=b.swal=c(10)}).call(b,c(7))},function(a,b,c){"undefined"!=typeof window&&c(11),c(16);var d=c(23).default;a.exports=d},function(a,b,c){var d=c(12);"string"==typeof d&&(d=[[a.i,d,""]]);var e={insertAt:"top"};e.transform=void 0,c(14)(d,e),d.locals&&(a.exports=d.locals)},function(a,b,c){b=a.exports=c(13)(void 0),b.push([a.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button[not:disabled]:hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel[not:disabled]:hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger[not:disabled]:hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(a,b){function c(a,b){var c=a[1]||"",e=a[3];if(!e)return c;if(b&&"function"==typeof btoa){var f=d(e);return[c].concat(e.sources.map(function(a){return"/*# sourceURL="+e.sourceRoot+a+" */"})).concat([f]).join("\n")}return[c].join("\n")}function d(a){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"}a.exports=function(a){var b=[];return b.toString=function(){return this.map(function(b){var d=c(b,a);return b[2]?"@media "+b[2]+"{"+d+"}":d}).join("")},b.i=function(a,c){"string"==typeof a&&(a=[[null,a,""]]);for(var d={},e=0;e<this.length;e++){var f=this[e][0];"number"==typeof f&&(d[f]=!0)}for(e=0;e<a.length;e++){var g=a[e];"number"==typeof g[0]&&d[g[0]]||(c&&!g[2]?g[2]=c:c&&(g[2]="("+g[2]+") and ("+c+")"),b.push(g))}},b}},function(a,b,c){function d(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=o[d.id];if(e){e.refs++;for(var f=0;f<e.parts.length;f++)e.parts[f](d.parts[f]);for(;f<d.parts.length;f++)e.parts.push(k(d.parts[f],b))}else{for(var g=[],f=0;f<d.parts.length;f++)g.push(k(d.parts[f],b));o[d.id]={id:d.id,refs:1,parts:g}}}}function e(a,b){for(var c=[],d={},e=0;e<a.length;e++){var f=a[e],g=b.base?f[0]+b.base:f[0],h=f[1],i=f[2],j=f[3],k={css:h,media:i,sourceMap:j};d[g]?d[g].parts.push(k):c.push(d[g]={id:g,parts:[k]})}return c}function f(a,b){var c=q(a.insertInto);if(!c)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var d=t[t.length-1];if("top"===a.insertAt)d?d.nextSibling?c.insertBefore(b,d.nextSibling):c.appendChild(b):c.insertBefore(b,c.firstChild),t.push(b);else{if("bottom"!==a.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");c.appendChild(b)}}function g(a){if(null===a.parentNode)return!1;a.parentNode.removeChild(a);var b=t.indexOf(a);b>=0&&t.splice(b,1)}function h(a){var b=document.createElement("style");return a.attrs.type="text/css",j(b,a.attrs),f(a,b),b}function i(a){var b=document.createElement("link");return a.attrs.type="text/css",a.attrs.rel="stylesheet",j(b,a.attrs),f(a,b),b}function j(a,b){Object.keys(b).forEach(function(c){a.setAttribute(c,b[c])})}function k(a,b){var c,d,e,f;if(b.transform&&a.css){if(!(f=b.transform(a.css)))return function(){};a.css=f}if(b.singleton){var j=s++;c=r||(r=h(b)),d=l.bind(null,c,j,!1),e=l.bind(null,c,j,!0)}else a.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(c=i(b),d=n.bind(null,c,b),e=function(){g(c),c.href&&URL.revokeObjectURL(c.href)}):(c=h(b),d=m.bind(null,c),e=function(){g(c)});return d(a),function(b){if(b){if(b.css===a.css&&b.media===a.media&&b.sourceMap===a.sourceMap)return;d(a=b)}else e()}}function l(a,b,c,d){var e=c?"":d.css;if(a.styleSheet)a.styleSheet.cssText=v(b,e);else{var f=document.createTextNode(e),g=a.childNodes;g[b]&&a.removeChild(g[b]),g.length?a.insertBefore(f,g[b]):a.appendChild(f)}}function m(a,b){var c=b.css,d=b.media;if(d&&a.setAttribute("media",d),a.styleSheet)a.styleSheet.cssText=c;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(c))}}function n(a,b,c){var d=c.css,e=c.sourceMap,f=void 0===b.convertToAbsoluteUrls&&e;(b.convertToAbsoluteUrls||f)&&(d=u(d)),e&&(d+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */");var g=new Blob([d],{type:"text/css"}),h=a.href;a.href=URL.createObjectURL(g),h&&URL.revokeObjectURL(h)}var o={},p=function(a){var b;return function(){return void 0===b&&(b=a.apply(this,arguments)),b}}(function(){return window&&document&&document.all&&!window.atob}),q=function(a){var b={};return function(c){return void 0===b[c]&&(b[c]=a.call(this,c)),b[c]}}(function(a){return document.querySelector(a)}),r=null,s=0,t=[],u=c(15);a.exports=function(a,b){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");b=b||{},b.attrs="object"==typeof b.attrs?b.attrs:{},b.singleton||(b.singleton=p()),b.insertInto||(b.insertInto="head"),b.insertAt||(b.insertAt="bottom");var c=e(a,b);return d(c,b),function(a){for(var f=[],g=0;g<c.length;g++){var h=c[g],i=o[h.id];i.refs--,f.push(i)}a&&d(e(a,b),b);for(var g=0;g<f.length;g++){var i=f[g];if(0===i.refs){for(var j=0;j<i.parts.length;j++)i.parts[j]();delete o[i.id]}}}};var v=function(){var a=[];return function(b,c){return a[b]=c,a.filter(Boolean).join("\n")}}()},function(a,b){a.exports=function(a){var b="undefined"!=typeof window&&window.location;if(!b)throw new Error("fixUrls requires window.location");if(!a||"string"!=typeof a)return a;var c=b.protocol+"//"+b.host,d=c+b.pathname.replace(/\/[^\/]*$/,"/");return a.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(a,b){var e=b.trim().replace(/^"(.*)"$/,function(a,b){return b}).replace(/^'(.*)'$/,function(a,b){return b});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(e))return a;var f;return f=0===e.indexOf("//")?e:0===e.indexOf("/")?c+e:d+e.replace(/^\.\//,""),"url("+JSON.stringify(f)+")"})}},function(a,b,c){var d=c(17);"undefined"==typeof window||window.Promise||(window.Promise=d),c(21),String.prototype.includes||(String.prototype.includes=function(a,b){"use strict";return"number"!=typeof b&&(b=0),!(b+a.length>this.length)&&-1!==this.indexOf(a,b)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(a,b){if(null==this)throw new TypeError('"this" is null or not defined');var c=Object(this),d=c.length>>>0;if(0===d)return!1;for(var e=0|b,f=Math.max(e>=0?e:d-Math.abs(e),0);f<d;){if(function(a,b){return a===b||"number"==typeof a&&"number"==typeof b&&isNaN(a)&&isNaN(b)}(c[f],a))return!0;f++}return!1}}),"undefined"!=typeof window&&function(a){a.forEach(function(a){a.hasOwnProperty("remove")||Object.defineProperty(a,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(a,b,c){(function(b){!function(c){function d(){}function e(a,b){return function(){a.apply(b,arguments)}}function f(a){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof a)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(a,this)}function g(a,b){for(;3===a._state;)a=a._value;if(0===a._state)return void a._deferreds.push(b);a._handled=!0,f._immediateFn(function(){var c=1===a._state?b.onFulfilled:b.onRejected;if(null===c)return void(1===a._state?h:i)(b.promise,a._value);var d;try{d=c(a._value)}catch(a){return void i(b.promise,a)}h(b.promise,d)})}function h(a,b){try{if(b===a)throw new TypeError("A promise cannot be resolved with itself.");if(b&&("object"==typeof b||"function"==typeof b)){var c=b.then;if(b instanceof f)return a._state=3,a._value=b,void j(a);if("function"==typeof c)return void l(e(c,b),a)}a._state=1,a._value=b,j(a)}catch(b){i(a,b)}}function i(a,b){a._state=2,a._value=b,j(a)}function j(a){2===a._state&&0===a._deferreds.length&&f._immediateFn(function(){a._handled||f._unhandledRejectionFn(a._value)});for(var b=0,c=a._deferreds.length;b<c;b++)g(a,a._deferreds[b]);a._deferreds=null}function k(a,b,c){this.onFulfilled="function"==typeof a?a:null,this.onRejected="function"==typeof b?b:null,this.promise=c}function l(a,b){var c=!1;try{a(function(a){c||(c=!0,h(b,a))},function(a){c||(c=!0,i(b,a))})}catch(a){if(c)return;c=!0,i(b,a)}}var m=setTimeout;f.prototype.catch=function(a){return this.then(null,a)},f.prototype.then=function(a,b){var c=new this.constructor(d);return g(this,new k(a,b,c)),c},f.all=function(a){var b=Array.prototype.slice.call(a);return new f(function(a,c){function d(f,g){try{if(g&&("object"==typeof g||"function"==typeof g)){var h=g.then;if("function"==typeof h)return void h.call(g,function(a){d(f,a)},c)}b[f]=g,0==--e&&a(b)}catch(a){c(a)}}if(0===b.length)return a([]);for(var e=b.length,f=0;f<b.length;f++)d(f,b[f])})},f.resolve=function(a){return a&&"object"==typeof a&&a.constructor===f?a:new f(function(b){b(a)})},f.reject=function(a){return new f(function(b,c){c(a)})},f.race=function(a){return new f(function(b,c){for(var d=0,e=a.length;d<e;d++)a[d].then(b,c)})},f._immediateFn="function"==typeof b&&function(a){b(a)}||function(a){m(a,0)},f._unhandledRejectionFn=function(a){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",a)},f._setImmediateFn=function(a){f._immediateFn=a},f._setUnhandledRejectionFn=function(a){f._unhandledRejectionFn=a},void 0!==a&&a.exports?a.exports=f:c.Promise||(c.Promise=f)}(this)}).call(b,c(18).setImmediate)},function(b,c,e){function f(a,b){this._id=a,this._clearFn=b}var g=Function.prototype.apply;c.setTimeout=function(){return new f(g.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new f(g.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(a){a&&a.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},c.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},c._unrefActive=c.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},e(19),c.setImmediate=a,c.clearImmediate=d},function(a,b,c){(function(a,b){!function(a,c){"use strict";function d(a){"function"!=typeof a&&(a=new Function(""+a));for(var b=new Array(arguments.length-1),c=0;c<b.length;c++)b[c]=arguments[c+1];var d={callback:a,args:b};return j[i]=d,h(i),i++}function e(a){delete j[a]}function f(a){var b=a.callback,d=a.args;switch(d.length){case 0:b();break;case 1:b(d[0]);break;case 2:b(d[0],d[1]);break;case 3:b(d[0],d[1],d[2]);break;default:b.apply(c,d)}}function g(a){if(k)setTimeout(g,0,a);else{var b=j[a];if(b){k=!0;try{f(b)}finally{e(a),k=!1}}}}if(!a.setImmediate){var h,i=1,j={},k=!1,l=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,"[object process]"==={}.toString.call(a.process)?function(){h=function(a){b.nextTick(function(){g(a)})}}():function(){if(a.postMessage&&!a.importScripts){var b=!0,c=a.onmessage;return a.onmessage=function(){b=!1},a.postMessage("","*"),a.onmessage=c,b}}()?function(){var b="setImmediate$"+Math.random()+"$",c=function(c){c.source===a&&"string"==typeof c.data&&0===c.data.indexOf(b)&&g(+c.data.slice(b.length))};a.addEventListener?a.addEventListener("message",c,!1):a.attachEvent("onmessage",c),h=function(c){a.postMessage(b+c,"*")}}():a.MessageChannel?function(){var a=new MessageChannel;a.port1.onmessage=function(a){g(a.data)},h=function(b){a.port2.postMessage(b)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var a=l.documentElement;h=function(b){var c=l.createElement("script");c.onreadystatechange=function(){g(b),c.onreadystatechange=null,a.removeChild(c),c=null},a.appendChild(c)}}():function(){h=function(a){setTimeout(g,0,a)}}(),m.setImmediate=d,m.clearImmediate=e}}("undefined"==typeof self?void 0===a?this:a:self)}).call(b,c(7),c(20))},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.prependListener=j,m.prependOnceListener=j,m.listeners=function(a){return[]},m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){"use strict";c(22).polyfill()},function(a,b,c){"use strict";function d(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var c=Object(a),d=1;d<arguments.length;d++){var e=arguments[d];if(void 0!==e&&null!==e)for(var f=Object.keys(Object(e)),g=0,h=f.length;g<h;g++){var i=f[g],j=Object.getOwnPropertyDescriptor(e,i);void 0!==j&&j.enumerable&&(c[i]=e[i])}}return c}function e(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:d})}a.exports={assign:d,polyfill:e}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(24),e=c(6),f=c(5),g=c(36),h=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];if("undefined"!=typeof window){var c=g.getOpts.apply(void 0,a);return new Promise(function(a,b){f.default.promise={resolve:a,reject:b},d.default(c),setTimeout(function(){e.openModal()})})}};h.close=e.onAction,h.getState=e.getState,h.setActionValue=f.setActionValue,h.stopLoading=e.stopLoading,h.setDefaults=g.setDefaults,b.default=h},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1),e=c(0),f=e.default.MODAL,g=c(4),h=c(34),i=c(35),j=c(1);b.init=function(a){d.getNode(f)||(document.body||j.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),h.default(),g.default()),g.initModalContent(a),i.default(a)},b.default=b.init},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=d.default.MODAL;b.modalMarkup='\n  <div class="'+e+'" role="dialog" aria-modal="true"></div>',b.default=b.modalMarkup},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=d.default.OVERLAY,f='<div \n    class="'+e+'"\n    tabIndex="-1">\n  </div>';b.default=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=d.default.ICON;b.errorIconMarkup=function(){var a=e+"--error",b=a+"__line";return'\n    <div class="'+a+'__x-mark">\n      <span class="'+b+" "+b+'--left"></span>\n      <span class="'+b+" "+b+'--right"></span>\n    </div>\n  '},b.warningIconMarkup=function(){var a=e+"--warning";return'\n    <span class="'+a+'__body">\n      <span class="'+a+'__dot"></span>\n    </span>\n  '},b.successIconMarkup=function(){var a=e+"--success";return'\n    <span class="'+a+"__line "+a+'__line--long"></span>\n    <span class="'+a+"__line "+a+'__line--tip"></span>\n\n    <div class="'+a+'__ring"></div>\n    <div class="'+a+'__hide-corners"></div>\n  '}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=d.default.CONTENT;b.contentMarkup='\n  <div class="'+e+'">\n\n  </div>\n'},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(0),e=d.default.BUTTON_CONTAINER,f=d.default.BUTTON,g=d.default.BUTTON_LOADER;b.buttonMarkup='\n  <div class="'+e+'">\n\n    <button\n      class="'+f+'"\n    ></button>\n\n    <div class="'+g+'">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  </div>\n'},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(4),e=c(2),f=c(0),g=f.default.ICON,h=f.default.ICON_CUSTOM,i=["error","warning","success","info"],j={error:e.errorIconMarkup(),warning:e.warningIconMarkup(),success:e.successIconMarkup()},k=function(a,b){var c=g+"--"+a;b.classList.add(c);var d=j[a];d&&(b.innerHTML=d)},l=function(a,b){b.classList.add(h);var c=document.createElement("img");c.src=a,b.appendChild(c)},m=function(a){if(a){var b=d.injectElIntoModal(e.iconMarkup);i.includes(a)?k(a,b):l(a,b)}};b.default=m},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(2),e=c(4),f=function(a){navigator.userAgent.includes("AppleWebKit")&&(a.style.display="none",a.offsetHeight,a.style.display="")};b.initTitle=function(a){if(a){var b=e.injectElIntoModal(d.titleMarkup);b.textContent=a,f(b)}},b.initText=function(a){if(a){var b=document.createDocumentFragment();a.split("\n").forEach(function(a,c,d){b.appendChild(document.createTextNode(a)),c<d.length-1&&b.appendChild(document.createElement("br"))});var c=e.injectElIntoModal(d.textMarkup);c.appendChild(b),f(c)}}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1),e=c(4),f=c(0),g=f.default.BUTTON,h=f.default.DANGER_BUTTON,i=c(3),j=c(2),k=c(6),l=c(5),m=function(a,b,c){var e=b.text,f=b.value,m=b.className,n=b.closeModal,o=d.stringToNode(j.buttonMarkup),p=o.querySelector("."+g),q=g+"--"+a;p.classList.add(q),m&&(Array.isArray(m)?m:m.split(" ")).filter(function(a){return a.length>0}).forEach(function(a){p.classList.add(a)}),c&&a===i.CONFIRM_KEY&&p.classList.add(h),p.textContent=e;var r={};return r[a]=f,l.setActionValue(r),l.setActionOptionsFor(a,{closeModal:n}),p.addEventListener("click",function(){return k.onAction(a)}),o},n=function(a,b){var c=e.injectElIntoModal(j.footerMarkup);for(var d in a){var f=a[d],g=m(d,f,b);f.visible&&c.appendChild(g)}0===c.children.length&&c.remove()};b.default=n},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(3),e=c(4),f=c(2),g=c(5),h=c(6),i=c(0),j=i.default.CONTENT,k=function(a){a.addEventListener("input",function(a){var b=a.target,c=b.value;g.setActionValue(c)}),a.addEventListener("keyup",function(a){if("Enter"===a.key)return h.onAction(d.CONFIRM_KEY)}),setTimeout(function(){a.focus(),g.setActionValue("")},0)},l=function(a,b,c){var d=document.createElement(b),e=j+"__"+b;d.classList.add(e);for(var f in c){var g=c[f];d[f]=g}"input"===b&&k(d),a.appendChild(d)},m=function(a){if(a){var b=e.injectElIntoModal(f.contentMarkup),c=a.element,d=a.attributes;"string"==typeof c?l(b,c,d):b.appendChild(c)}};b.default=m},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1),e=c(2),f=function(){var a=d.stringToNode(e.overlayMarkup);document.body.appendChild(a)};b.default=f},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(5),e=c(6),f=c(1),g=c(3),h=c(0),i=h.default.MODAL,j=h.default.BUTTON,k=h.default.OVERLAY,l=function(a){a.preventDefault(),q()},m=function(a){a.preventDefault(),r()},n=function(a){if(d.default.isOpen)switch(a.key){case"Escape":return e.onAction(g.CANCEL_KEY)}},o=function(a){if(d.default.isOpen)switch(a.key){case"Tab":return l(a)}},p=function(a){if(d.default.isOpen)return"Tab"===a.key&&a.shiftKey?m(a):void 0},q=function(){var a=f.getNode(j);a&&(a.tabIndex=0,a.focus())},r=function(){var a=f.getNode(i),b=a.querySelectorAll("."+j),c=b.length-1,d=b[c];d&&d.focus()},s=function(a){a[a.length-1].addEventListener("keydown",o)},t=function(a){a[0].addEventListener("keydown",p)},u=function(){var a=f.getNode(i),b=a.querySelectorAll("."+j);b.length&&(s(b),t(b))},v=function(a){if(f.getNode(k)===a.target)return e.onAction(g.CANCEL_KEY)},w=function(a){var b=f.getNode(k);b.removeEventListener("click",v),a&&b.addEventListener("click",v)},x=function(a){d.default.timer&&clearTimeout(d.default.timer),a&&(d.default.timer=window.setTimeout(function(){return e.onAction(g.CANCEL_KEY)},a))},y=function(a){a.closeOnEsc?document.addEventListener("keyup",n):document.removeEventListener("keyup",n),a.dangerMode?q():r(),u(),w(a.closeOnClickOutside),x(a.timer)};b.default=y},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1),e=c(3),f=c(37),g=c(38),h={title:null,text:null,icon:null,buttons:e.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},i=Object.assign({},h);b.setDefaults=function(a){i=Object.assign({},h,a)};var j=function(a){var b=a&&a.button,c=a&&a.buttons;return void 0!==b&&void 0!==c&&d.throwErr("Cannot set both 'button' and 'buttons' options!"),void 0!==b?{confirm:b}:c},k=function(a){return d.ordinalSuffixOf(a+1)},l=function(a,b){d.throwErr(k(b)+" argument ('"+a+"') is invalid")},m=function(a,b){var c=a+1,e=b[c];d.isPlainObject(e)||void 0===e||d.throwErr("Expected "+k(c)+" argument ('"+e+"') to be a plain object")},n=function(a,b){var c=a+1,e=b[c];void 0!==e&&d.throwErr("Unexpected "+k(c)+" argument ("+e+")")},o=function(a,b,c,e){var f=typeof b,g="string"===f,h=b instanceof Element;if(g){if(0===c)return{text:b};if(1===c)return{text:b,title:e[0]};if(2===c)return m(c,e),{icon:b};l(b,c)}else{if(h&&0===c)return m(c,e),{content:b};if(d.isPlainObject(b))return n(c,e),b;l(b,c)}};b.getOpts=function(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];var c={};a.forEach(function(b,d){var e=o(0,b,d,a);Object.assign(c,e)});var d=j(c);c.buttons=e.getButtonListOpts(d),delete c.button,c.content=f.getContentOpts(c.content);var k=Object.assign({},h,i,c);return Object.keys(k).forEach(function(a){g.DEPRECATED_OPTS[a]&&g.logDeprecation(a)}),k}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var d=c(1),e={element:"input",attributes:{placeholder:""}};b.getContentOpts=function(a){var b={};return d.isPlainObject(a)?Object.assign(b,a):a instanceof Element?{element:a}:"input"===a?e:null}},function(a,b,c){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.logDeprecation=function(a){var c=b.DEPRECATED_OPTS[a],d=c.onlyRename,e=c.replacement,f=c.subOption,g=c.link,h=d?"renamed":"deprecated",i='SweetAlert warning: "'+a+'" option has been '+h+".";e&&(i+=" Please use"+(f?' "'+f+'" in ':" ")+'"'+e+'" instead.');var j="https://sweetalert.js.org";i+=g?" More details: "+j+g:" More details: "+j+"/guides/#upgrading-from-1x",console.warn(i)},b.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])})}).call(this)}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{timers:67}],67:[function(a,b,c){(function(b,d){(function(){function e(a,b){this._id=a,this._clearFn=b}var f=a("process/browser.js").nextTick,g=Function.prototype.apply,h=Array.prototype.slice,i={},j=0;c.setTimeout=function(){return new e(g.call(setTimeout,window,arguments),clearTimeout)},c.setInterval=function(){return new e(g.call(setInterval,window,arguments),clearInterval)},c.clearTimeout=c.clearInterval=function(a){a.close()},e.prototype.unref=e.prototype.ref=function(){},e.prototype.close=function(){this._clearFn.call(window,this._id)},c.enroll=function(a,b){clearTimeout(a._idleTimeoutId),a._idleTimeout=b},c.unenroll=function(a){clearTimeout(a._idleTimeoutId),a._idleTimeout=-1},c._unrefActive=c.active=function(a){clearTimeout(a._idleTimeoutId);var b=a._idleTimeout;b>=0&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},b))},c.setImmediate="function"==typeof b?b:function(a){var b=j++,d=!(arguments.length<2)&&h.call(arguments,1);return i[b]=!0,f(function(){i[b]&&(d?a.apply(null,d):a.call(null),c.clearImmediate(b))}),b},c.clearImmediate="function"==typeof d?d:function(a){delete i[a]}}).call(this)}).call(this,a("timers").setImmediate,a("timers").clearImmediate)},{"process/browser.js":65,timers:67}],68:[function(a,b,c){"use strict";var d=a("../../context.js"),e=function(a){var b=a,c=function(a,c){var e=b,f=d.getConf();a.get(f.i18nDomainVarName)&&(e+=f.inDefineDelimiter+f.i18nDomainVarName),"["!==e[0]&&(e="["+e+"]"),c.put(f.i18nDomainVarName,e)},f=function(){return[]},g=function(){},h=function(){return b};return{putToAutoDefineHelper:c,dependsOn:f,update:g,toString:h,type:e.id}};e.id="i18n:domain",e.build=function(a){return a?new e(a.trim()):null},b.exports=e},{"../../context.js":87}],69:[function(a,b,c){"use strict";var d=a("../../context.js"),e=function(a){var b=a,c=function(a){a.put(d.getConf().i18nLanguageVarName,b)},f=function(){return[]},g=function(){},h=function(){return"I18NLanguage: "+b};return{putToAutoDefineHelper:c,dependsOn:f,update:g,toString:h,type:e.id}};e.id="i18n:language",e.build=function(a){return a?new e(a.trim()):null},b.exports=e},{"../../context.js":87}],70:[function(a,b,c){"use strict";var d=function(a){var b=a,c=function(a,b){return b.style.display="none",!1},e=function(){return[]},f=function(){return"METALDefineMacro: "+b};return{process:c,dependsOn:e,toString:f,type:d.id}};d.id="metal:define-macro",d.build=function(a){return new d(a.trim())},b.exports=d},{}],71:[function(a,b,c){"use strict";var d=a("../../expressions/expressionsUtils.js"),e=function(a,b,c){var f=a,g=b,h=c,i=function(){},j=function(a){return d.buildDependsOnList(void 0,a,g)},k=function(a){a.updateNode(h)},l=function(){return"METALFillSlot: "+f};return{process:i,dependsOn:j,update:k,toString:l,type:e.id}};e.id="metal:fill-slot",e.build=function(b,c){var d=a("../../expressions/expressionBuilder.js");return new e(b,d.build(b),c)},b.exports=e},{"../../expressions/expressionBuilder.js":106,"../../expressions/expressionsUtils.js":108}],72:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../../expressions/expressionBuilder.js"),f=a("../../expressions/expressionsUtils.js"),g=a("../attributeIndex.js"),h=a("../../cache/attributeCache.js"),i=a("../TAL/talDefine.js"),j=a("./metalFillSlot.js"),k=a("../../resolver.js"),l=function(a,b,c){var m=a,n=b,o=c,p=function(a,b,c,e){var f=k.getMacroKey(n,a),g=d.getTags(),h=k.getNode(f,a);return b.style.display="none",h.removeAttribute("style"),q(f,h,c,g,b,e),r(a,b,g,h,e),b.parentNode.insertBefore(h,b.nextSibling),h},q=function(a,b,c,e,f,g){i.updateAttribute(b,o);var h=k.getMacroData(a);h.url&&(c.put(d.getConf().externalMacroUrlVarName,"'"+h.url+"'"),c.updateNode(b)),g&&b.setAttribute(e.relatedId,f.getAttribute(e.id))},r=function(a,b,c,f,i){for(var l,m=b.querySelectorAll("["+k.filterSelector(c.metalFillSlot)+"]"),n=0;l=m[n++];){var o=l.getAttribute(c.metalFillSlot),p=e.build(o),q=p.evaluate(a);if(i){var r=h.getByAttributeClass(j,o,l,i,a,function(){return j.build(o,b)});g.add(l,r,a)}if(!q)return;var s=l.cloneNode(!0),t=f.querySelector("["+k.filterSelector(c.metalDefineSlot)+"='"+q+"']");if(!t)throw'Slot "'+q+'" in expression "'+o+'" not found!';t.parentNode.insertBefore(s,t.nextSibling),s.removeAttribute(c.metalFillSlot),s.setAttribute(c.id,d.nextExpressionCounter()),t.remove()}},s=function(a){return f.buildDependsOnList(void 0,a,n)},t=function(a,b){a.updateNode(b)},u=function(){return"METALUseMacro: "+m};return{process:p,dependsOn:s,update:t,toString:u,type:l.id}};l.id="metal:use-macro",l.build=function(b,c){var d=a("../../expressions/expressionBuilder.js");return new l(b,d.build(b.trim()),c?c.trim():void 0)},b.exports=l},{"../../cache/attributeCache.js":84,"../../context.js":87,"../../expressions/expressionBuilder.js":106,"../../expressions/expressionsUtils.js":108,"../../resolver.js":157,"../TAL/talDefine.js":78,"../attributeIndex.js":83,"./metalFillSlot.js":71}],73:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../../expressions/expressionBuilder.js"),f=a("../../expressions/evaluateHelper.js");b.exports=function(){var a={BUTTON:1,LABEL:1,LEGEND:1,FIELDSET:1,OPTION:1};return{build:function(a,b,c){var f=b.trim(),g=0===f.indexOf(d.getConf().htmlStructureExpressionPrefix+" "),h=g?f.substr(1+d.getConf().htmlStructureExpressionPrefix.length):f;if(!h)throw a+" expression void.";return c(b,e.build(h),g,h)},updateNode:function(b,c,d){return!!f.isDefault(d)||(f.isNothing(d)&&(d=""),b.innerHTML=d,c||(b["form"in b&&!a[b.tagName]?"value":"innerText"]=d),!0)}}}()},{"../../context.js":87,"../../expressions/evaluateHelper.js":104,"../../expressions/expressionBuilder.js":106}],74:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../../expressions/expressionTokenizer.js"),f=a("../../expressions/expressionsUtils.js"),g=a("../../utils.js"),h=function(a,b){var c=a,e=b,i=function(a,b,c){for(var d=0;d<e.length;d++){var f=e[d],g=f.name;if(!c||g===c){var h=f.expression.evaluate(a);g?k(b,g,h):j(b,h)}}},j=function(a,b){if(b){if(!g.isPlainObject(b))throw'Invalid attribute value: "'+b+'". Object expected.';for(var c in b){var d=b[c];k(a,c,d)}}},k=function(a,b,c){if(d.isBooleanAttribute(b))return void(c?a.setAttribute(b,""):a.removeAttribute(b));if(void 0!=c)if(d.isAltAttribute(b))switch(b){case"innerHTML":throw a;case"style":a.style.cssText=c;break;case"class":b="className";default:a[b]=c}else a.setAttribute(b,c)},l=function(a){for(var b=[],c={},d=0;d<e.length;d++){var g=e[d],h=f.buildDependsOnList(void 0,a,g.expression);h&&h.length>0&&(c[g.name]=h)}return Object.keys(c).length>0&&b.push(c),b},m=function(a,b,c,d){i(c,b,d.groupId)},n=function(){return"TALAttributes: "+c};return{process:i,dependsOn:l,update:m,toString:n,type:h.id}};h.id="tal:attributes",h.build=function(b){for(var c=a("../../expressions/expressionBuilder.js"),f=[],g=b.trim(),i=new e(g,d.getConf().attributeDelimiter,!0);i.hasMoreTokens();){var j=i.nextToken().trim(),k=j.indexOf(d.getConf().inAttributeDelimiter);-1===k&&f.push({name:void 0,expression:c.build(j)});var l=j.substring(0,k),m=j.substring(k+1).trim();f.push({name:l,expression:c.build(m)})}return new h(b,f)},b.exports=h},{"../../context.js":87,"../../expressions/expressionBuilder.js":106,"../../expressions/expressionTokenizer.js":107,"../../expressions/expressionsUtils.js":108,"../../utils.js":161}],75:[function(a,b,c){"use strict";var d=a("../../expressions/evaluateHelper.js"),e=a("../../expressions/expressionsUtils.js"),f=a("../../context.js"),g=function(a,b){var c=a,h=b,i=function(a,b){var c=d.evaluateBoolean(a,h);return b.setAttribute(f.getTags().conditionResult,c),b.style.display=c?"":"none",c},j=function(a){return e.buildDependsOnList(void 0,a,h)},k=function(a,b){a.updateNode(b,!0)},l=function(a,b){var c=a.getNodeScope(b);return d.evaluateBoolean(c,h)!==("true"===b.getAttribute(f.getTags().conditionResult))},m=function(){return"TALCondition: "+c};return{process:i,dependsOn:j,update:k,updatableFromAction:l,toString:m,type:g.id}};g.id="tal:condition",g.build=function(b){var c=a("../../expressions/expressionBuilder.js");return new g(b,c.build(b))},b.exports=g},{"../../context.js":87,"../../expressions/evaluateHelper.js":104,"../../expressions/expressionBuilder.js":106,"../../expressions/expressionsUtils.js":108}],76:[function(a,b,c){"use strict";var d=a("../../expressions/evaluateHelper.js"),e=a("./contentHelper.js"),f=a("../../expressions/expressionsUtils.js"),g=function(a,b,c){var h=a,i=b,j=c,k=function(a,b){return e.updateNode(b,j,d.evaluateToNotNull(a,i))},l=function(a){return f.buildDependsOnList(void 0,a,i)},m=function(a,b,c){k(c,b)},n=function(){return"TALContent: "+h};return{process:k,dependsOn:l,update:m,toString:n,type:g.id}};g.id="tal:content",g.build=function(a){return e.build("TALContent",a,function(a,b,c){return new g(a,b,c)})},b.exports=g},{"../../expressions/evaluateHelper.js":104,"../../expressions/expressionsUtils.js":108,"./contentHelper.js":73}],77:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../../expressions/expressionTokenizer.js"),f=a("../../expressions/expressionsUtils.js"),g=function(a,b){var c=a,e=b,h=function(a,b){return i(a,b),j(a)},i=function(a,b){var c=d.getConf().strictModeVarName;!0!==a.get(c)&&b.put(c,"true");for(var g=d.getConf().declaredVarsVarName,h=a.get(g)||[],i=0;i<e.length;i++){var j=e[i];h.push(j.name)}b.put(g,f.buildList(h,!0))},j=function(a){for(var b=[],c=0;c<e.length;c++){var d=e[c],f=k(a,d.name,d.type,d.required,d.defaultValueString,d.defaultValueExpression);b=b.concat(f)}return p(b),0===b.length},k=function(a,b,c,d,e,f){var g=[],h=a.get(b);if(void 0===h&&void 0!==f){var i=o(a,b,c,e,f);if(i)return g.push(i),g;h=a.get(b)}var j=l(b,c,h);j&&g.push(j);var k=n(b,d,h);return k&&g.push(k),g},l=function(a,b,c){if(b){var d=m(c);return d!==b.toLowerCase()&&"Expected value type ("+b.toLowerCase()+") of "+a+" property does not match type ("+d+'), value is "'+c+'".'}},m=function(a){var b={}.toString.call(a).split(" ")[1].slice(0,-1).toLowerCase();return"object"===b?a.constructor.name.toLowerCase():b},n=function(a,b,c){return!0===b&&void 0===c&&"Required value must not be undefined: "+a},o=function(a,b,c,d,e){try{var f=e.evaluate(a);return a.set(b,f),!1}catch(a){return"Error trying to evaluate default value of field "+b+", expression ["+d+"]: "+a}},p=function(a){if(0!==a.length)throw a},q=function(){return[]},r=function(){},s=function(){return"TALDeclare: "+c};return{process:h,dependsOn:q,update:r,toString:s,type:g.id}};g.id="tal:declare",g.build=function(b){for(var c=a("../../expressions/expressionBuilder.js"),f=[],h=["undefined","null"],i=new e(b.trim(),d.getConf().declareDelimiter,!0);i.hasMoreTokens();){for(var j=new e(i.nextToken().trim(),d.getConf().inDeclareDelimiter,!0),k=void 0,l=void 0,m=void 0,n=!1,o=1;j.hasMoreTokens();){var p=j.nextToken();if(g.tokenIsRequired(p))n=!0;else{switch(o){case 1:k=p;break;case 2:-1===h.indexOf(p.toLowerCase())&&(l=p);break;case 3:m=p;break;default:throw"Too many arguments in talDeclare item: "+b.trim()}++o}}k&&f.push({name:k,type:l,required:n,defaultValueString:m,defaultValueExpression:void 0==m?void 0:c.build(m)})}return new g(b,f)},g.tokenIsRequired=function(a){return"required"===a.toLowerCase()},b.exports=g},{"../../context.js":87,"../../expressions/expressionBuilder.js":106,"../../expressions/expressionTokenizer.js":107,"../../expressions/expressionsUtils.js":108}],78:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../../expressions/expressionTokenizer.js"),f=function(a,b){var c=a,d=b,e=function(a,b){for(var c=0;c<d.length;c++){var e=d[c];a.set(e.name,e.nocall?e.expression:e.expression.evaluate(a),b||e.global,e.nocall,e.expression)}},g=function(){return[]},h=function(){},i=function(){return"TALDefine: "+c};return{process:e,dependsOn:g,update:h,toString:i,type:f.id}};f.id="tal:define",f.build=function(b){for(var c=a("../../expressions/expressionBuilder.js"),g=[],h=b.trim(),i=new e(h,d.getConf().defineDelimiter,!0);i.hasMoreTokens();){var j=i.nextToken().trim(),k=j.indexOf(d.getConf().inDefineDelimiter);if(-1===k)throw"Bad variable definition: "+j;var l=!1,m=!1,n=j.substring(0,k),o=j.substring(k+1).trim(),p=!1;do{var q=!1;d.getConf().globalVariableExpressionPrefix===n?(m=!0,q=!0):d.getConf().nocallVariableExpressionPrefix===n&&(l=!0,q=!0),q?(k=o.indexOf(d.getConf().inDefineDelimiter),n=o.substring(0,k),o=o.substring(k+1).trim()):(g.push({name:n,expression:c.build(o),global:m,nocall:l}),p=!0)}while(!p&&-1!==k)}return new f(b,g)},f.appendStrings=function(){for(var a=arguments[0],b=1;b<arguments.length;++b){var c=arguments[b];c&&(a=a?a+d.getConf().defineDelimiter+c:c)}return a},f.updateAttribute=function(a,b){var c=d.getTags(),e=a.getAttribute(c.talDefine),g=f.appendStrings(b,e);g&&a.setAttribute(c.talDefine,g)},b.exports=f},{"../../context.js":87,"../../expressions/expressionBuilder.js":106,"../../expressions/expressionTokenizer.js":107}],79:[function(a,b,c){"use strict";var d=a("../../expressions/path/literals/booleanLiteral.js"),e=a("../../expressions/expressionsUtils.js"),f=a("../../context.js"),g=function(a,b){var c=a,d=b,h=function(a,b,c){if(!d.evaluate(a))return!1;c.defaultContent(b);for(var e=f.getTags(),g=b.parentNode;b.firstChild;)1===b.firstChild.nodeType&&b.firstChild.setAttribute(e.qdup,1),g.appendChild(b.firstChild);return g.removeChild(b),!0},i=function(a){return e.buildDependsOnList(void 0,a,d)},j=function(){},k=function(){return"TALOmitTag: "+c};return{process:h,dependsOn:i,update:j,toString:k,type:g.id}};g.id="tal:omit-tag",g.build=function(b){var c=a("../../expressions/expressionBuilder.js"),e=b.trim(),f=""==e?new d(!0):c.build(e);return new g(b,f)},b.exports=g},{"../../context.js":87,"../../expressions/expressionBuilder.js":106,"../../expressions/expressionsUtils.js":108,"../../expressions/path/literals/booleanLiteral.js":119}],80:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("./contentHelper.js"),f=function(a,b){var c=a,e=b,g=function(a){a.put(d.getConf().onErrorVarName,c,!0),a.put(d.getConf().onErrorStructureVarName,e,!1)},h=function(){return[]},i=function(){},j=function(){return"TALOnError: "+c};return{putToAutoDefineHelper:g,dependsOn:h,update:i,toString:j,type:f.id}};f.id="tal:on-error",f.build=function(a){return e.build("TALOnError",a,function(a,b,c,d){return new f(d,c)})},b.exports=f},{"../../context.js":87,"./contentHelper.js":73}],81:[function(a,b,c){"use strict";var d=a("../../expressions/expressionsUtils.js"),e=a("../../expressions/expressionBuilder.js"),f=a("../../parsers/loop.js"),g=function(a,b,c){var h,i=a,j=b,k=c,l=e.build(k),m=function(a){return h=new f(j,k,a)},n=function(a){return d.buildDependsOnList(void 0,a,l)},o=function(a,b){a.updateNode(b)},p=function(){return"TALRepeat: "+i},q=function(){return k},r=function(){return j};return{process:m,dependsOn:n,update:o,toString:p,type:g.id,getExpressionString:q,getVarName:r}};g.id="tal:repeat",g.build=function(a){var b=a.trim(),c=b.indexOf(" ");if(-1===c)throw"Bad repeat expression: "+b;var d=b.substring(0,c),e=b.substring(c+1);return new g(a,d,e)},b.exports=g},{"../../expressions/expressionBuilder.js":106,"../../expressions/expressionsUtils.js":108,"../../parsers/loop.js":148}],82:[function(a,b,c){"use strict";var d=a("../../expressions/evaluateHelper.js"),e=a("./contentHelper.js"),f=a("../../expressions/expressionsUtils.js"),g=function(a,b,c){var e=a,h=b,i=c,j=function(a,b){var c=d.evaluateToNotNull(a,h);if(d.isDefault(c))return!0;if(d.isNothing(c)&&(c=""),i)b.outerHTML=c;else{var e=b.ownerDocument.createTextNode(c);b.parentNode.replaceChild(e,b)}return!0},k=function(a){return f.buildDependsOnList(void 0,a,h)},l=function(){},m=function(){return"TALReplace: "+e};return{process:j,dependsOn:k,update:l,toString:m,type:g.id}};g.id="tal:replace",g.build=function(a){return e.build("TALReplace",a,function(a,b,c){return new g(a,b,c)})},b.exports=g},{"../../expressions/evaluateHelper.js":104,"../../expressions/expressionsUtils.js":108,"./contentHelper.js":73}],83:[function(a,b,c){"use strict";var d=a("../utils.js"),e=a("../context.js");b.exports=function(){var a,b=function(){a={}};b();var c=function(a,b,c){f(a,b,b.dependsOn(c))},f=function(a,b,c,d){for(var e=0;e<c.length;e++)h(a,b,c[e],d)},g=function(a,b,c){for(var d in c)h(a,b,c[d],d)},h=function(a,b,c,e){d.isPlainObject(c)?g(a,b,c):Array.isArray(c)?f(a,b,c,e):i(a,b,c,e)},i=function(b,c,f,g){var h=a[f];h||(h=[],a[f]=h);var i={attributeInstance:c,nodeId:b.getAttribute(e.getTags().id),groupId:g},j=h.findIndex(function(a){return d.deepEqual(a,i)});-1===j?h.push(i):h[j]=i},j=function(a){return window.document.querySelector("["+e.getTags().id+'="'+a+'"]')},k=function(a){for(var b=[],c=0;c<a.length;++c){var d=a[c];j(d.nodeId)||b.push(c)}for(var e=b.length-1;e>=0;--e){var f=b[e];a.splice(f,1)}};return{add:c,getVarsList:function(b){var c=a[b];if(void 0===c)return[];k(c);var d=[];return d=d.concat(c)},reset:b}}()},{"../context.js":87,"../utils.js":161}],84:[function(a,b,c){"use strict";var d=a("./cacheHelper.js"),e=a("../context.js"),f=a("../logHelper.js"),g=a("../attributes/attributeIndex.js");b.exports=function(){var a,b=function(){a={}};b();var c=function(b,c){var e=a[b];return e?e[d.hashCode(c)]:null},h=function(b,c,e){var f=a[b];f||(f={},a[b]=f),f[d.hashCode(c)]=e},i=function(a,b,c){return a?(f.debug("Must index!"),g.add(a,b,c)):f.debug("Not indexed!"),b},j=function(a,b,d,g,j,k){if(f.debug('Request building of ZPT attribute "'+b+'", force "'+g+'"'),g||!e.getConf().attributeCacheOn)f.debug("Cache OFF!");else{f.debug("Cache ON!");var l=c(a,b);if(l)return f.debug("Found in cache!"),i(j,l,k);f.debug("NOT found in cache!")}f.debug("Must build!");var m=d();return h(a,b,m),i(j,m,k)};return{getByAttributeClass:function(a,b,c,d,e,f){return j(a.id,b,f||function(){return a.build(b)},!1,d?c:void 0,e)},reset:b}}()},{"../attributes/attributeIndex.js":83,"../context.js":87,"../logHelper.js":134,"./cacheHelper.js":85}],85:[function(a,b,c){b.exports=function(){"use strict";return{hashCode:function(a){if(Array.prototype.reduce)return a.split("").reduce(function(a,b){return(a=(a<<5)-a+b.charCodeAt(0))&a},0);var b=0;if(0===a.length)return b;for(var c=0,d=a.length;c<d;c++){b=(b<<5)-b+a.charCodeAt(c),b|=0}return b}}}()},{}],86:[function(a,b,c){b.exports=function(){"use strict";var b=a("./cacheHelper.js"),c=a("../context.js"),d=a("../logHelper.js"),e={},f=function(a){return e[b.hashCode(a)]},g=function(a,c){e[b.hashCode(a)]=c};return{get:function(a,b,e){if(d.debug('Request building of expression "'+a+'", force "'+e+'"'),!e&&c.getConf().expressionCacheOn){d.debug("Cache ON!");var h=f(a);if(h)return d.debug("Found in cache!"),h;d.debug("NOT found in cache!")}else d.debug("Cache OFF!");d.debug("Must build!");var i=b();return g(a,i),i},clean:function(){e={}}}}()},{"../context.js":87,"../logHelper.js":134,"./cacheHelper.js":85}],87:[function(a,b,c){var d=a("log4javascript"),e=a("./utils.js"),f=a("./parsers/loopItem.js"),g=a("./parsers/dictionaryActions/cssAnimationManager.js");b.exports=function(){"use strict";var a={talCondition:"data-condition",talRepeat:"data-repeat",talAttributes:"data-attributes",talContent:"data-content",talDefine:"data-define",talAutoDefine:"data-tauto-define",talOmitTag:"data-omit-tag",talReplace:"data-replace",talOnError:"data-on-error",talDeclare:"data-declare",metalDefineMacro:"data-define-macro",metalUseMacro:"data-use-macro",metalDefineSlot:"data-define-slot",metalFillSlot:"data-fill-slot",metalMacro:"data-mmacro",i18nDomain:"data-domain",i18nLanguage:"data-language",rootKey:"data-root-key",qdup:"data-qdup",id:"data-id",relatedId:"data-related-id",conditionResult:"data-condition-result"},b={talCondition:"tal:condition",talRepeat:"tal:repeat",talAttributes:"tal:attributes",talContent:"tal:content",talDefine:"tal:define",talAutoDefine:"tal:auto-define",talOmitTag:"tal:omit-tag",talReplace:"tal:replace",talOnError:"tal:on-error",talDeclare:"tal:declare",metalDefineMacro:"metal:define-macro",metalUseMacro:"metal:use-macro",metalDefineSlot:"metal:define-slot",metalFillSlot:"metal:fill-slot",metalMacro:"data-mmacro",i18nDomain:"i18n:domain",i18nLanguage:"i18n:language",rootKey:"data-root-key",qdup:"data-qdup",id:"data-id",relatedId:"data-related-id",conditionResult:"data-condition-result"},c=a,h="",i=function(){return c},j=function(a){c=a,h=""},k=function(){if(""===h){var a=0,b=c.qdup;for(var d in c)b!==c[d]&&(a++>0&&(h+=","),h+="*["+c[d]+"]")}return h},l=function(){j(b)},m={};m.lowerCase=function(a){return a.toLocaleLowerCase()},m.upperCase=function(a){return a.toLocaleUpperCase()},m.localeDate=function(a){return a.toLocaleDateString},m.localeTime=function(a){return a.toLocaleTimeString},m.localeString=function(a,b){return b?a.toLocaleString(a,b):a.toLocaleString(a)},m.fix=function(a,b){return a.toFixed(b)};var n,o=function(a){return m[a]},p=function(a,b){m[a]=b},q=function(a){delete m[a]},r=":",s="_",t={pathDelimiter:"|",pathSegmentDelimiter:"/",expressionDelimiter:" ",intervalDelimiter:":",propertyDelimiter:"/",defineDelimiter:";",inDefineDelimiter:" ",attributeDelimiter:";",inAttributeDelimiter:" ",domainDelimiter:" ",i18nOptionsDelimiter:";",inI18nOptionsDelimiter:" ",argumentsDelimiter:",",macroDelimiter:"@",declareDelimiter:";",inDeclareDelimiter:" ",i18nConfResourceId:"/CONF/",htmlStructureExpressionPrefix:"structure",globalVariableExpressionPrefix:"global",nocallVariableExpressionPrefix:"nocall",templateErrorVarName:"error",onErrorVarName:s+"on-error",onErrorStructureVarName:s+"on-error-structure",i18nDomainVarName:s+"i18nDomain",i18nLanguageVarName:s+"i18nLanguage",externalMacroUrlVarName:s+"externalMacroUrl",strictModeVarName:s+"strictMode",declaredVarsVarName:s+"declaredVars",repeatVarName:s+"repeat",windowVarName:"window",contextVarName:"context",nothingVarName:"nothing",defaultVarName:"default",nothingVarValue:"___nothing___",defaultVarValue:"___default___",loggingOn:!1,loggingLevel:d.Level.ERROR,externalMacroPrefixURL:"",variableNameRE:/^[A-Za-z0-9_/-]+$/,expressionCacheOn:!0,attributeCacheOn:!0,expressionSuffix:r,stringExpression:"string"+r,existsExpression:"exists"+r,notExpression:"not"+r,javaScriptExpression:"js"+r,equalsExpression:"eq"+r,greaterExpression:"gt"+r,lowerExpression:"lt"+r,addExpression:"+"+r,subExpression:"-"+r,mulExpression:"*"+r,divExpression:"/"+r,modExpression:"%"+r,orExpression:"or"+r,andExpression:"and"+r,condExpression:"cond"+r,formatExpression:"format"+r,trExpression:"tr"+r,trNumberExpression:"trNumber"+r,trCurrencyExpression:"trCurrency"+r,trDateTimeExpression:"trDate"+r,inExpression:"in"+r,queryExpression:"query"+r,pathExpression:"",firstIndexIdentifier:"_first_",lastIndexIdentifier:"_last_"},u=t,v=function(){return u},w=function(a){u=a},x=function(){var a=d.getDefaultLogger();return a.setLevel(v().loggingLevel),a},y=function(){return!n&&v().loggingOn&&(n=x()),n},z=function(a){n=a},A={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1},B=function(){return A},C=function(a){A=a},D=function(a){return 1===A[a]},E={className:1,class:1,href:1,htmlFor:1,id:1,innerHTML:1,label:1,style:1,src:1,text:1,title:1,value:1};e.extend(E,A);var F=function(){return E},G=function(a){E=a},H=function(a){return 1===E[a]},I=function(a){var b=Array.isArray(a)?a.join("\n"):a;throw window.alert(b),b},J=I,K=function(a){aa.errorFunction=a},L=function(a,b,c){var d="Error trying to get "+a+": "+b;c?c(d):J(d)},M=function(a,b,c){return new f(a,b,c)},N=[],O=function(a){N=a},P=function(){return N},Q=!1,R=function(a){Q=a},S=function(){return Q},T=0,U=function(){return++T},V=function(a){T=a},W=0,X=function(){return++W},Y=g,Z=Y,$=function(){return Z},_=function(a){Z=a},aa={getTags:i,setTags:j,getTal:k,getFormatter:o,registerFormatter:p,unregisterFormatter:q,getConf:v,setConf:w,getLogger:y,setLogger:z,useOriginalTags:l,getBooleanAttributes:B,setBooleanAttributes:C,isBooleanAttribute:D,getAltAttributes:F,setAltAttributes:G,isAltAttribute:H,errorFunction:J,setErrorFunction:K,asyncError:L,repeat:M,setFolderDictionaries:O,getFolderDictionaries:P,setStrictMode:R,isStrictMode:S,nextExpressionCounter:U,setExpressionCounter:V,nextRunCounter:X,getAnimationManager:$,setAnimationManager:_};return aa}()},{"./parsers/dictionaryActions/cssAnimationManager.js":144,"./parsers/loopItem.js":149,"./utils.js":161,log4javascript:63}],88:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("./arithmethicHelper.js"),f=a("../expressionsUtils.js"),g=function(a,b){var c=a,d=b,h=function(a){return e.evaluate(c,a,d,g.mathOperation,function(a,b){return a+b})},i=function(a,b){return f.buildDependsOnList(a,b,d)},j=function(){return c};return{evaluate:h,dependsOn:i,toString:j}};g.removePrefix=!0,g.getPrefix=function(){return d.getConf().addExpression},g.mathOperation="add",g.getId=g.mathOperation,g.build=function(a){var b=e.build(a,g.mathOperation);return new g(a,b)},b.exports=g},{"../../context.js":87,"../expressionsUtils.js":108,"./arithmethicHelper.js":89}],89:[function(a,b,c){b.exports=function(){"use strict";var b=a("../../context.js"),c=a("../expressionTokenizer.js"),d=a("../evaluateHelper.js"),e=function(d,e){var f=a("../expressionBuilder.js");if(0===d.length)throw e+" expression void.";var g=new c(d,b.getConf().expressionDelimiter,!1);return f.buildList(g)},f=function(a,b,c,d,e){for(var f=0,h=0,i=0;i<c.length;i++){var j=c[i],k=j.evaluate(b);if(Array.isArray(k))for(var l=0;l<k.length;l++)f=g(h++,k[l],f,e,d,j);else f=g(h++,k,f,e,d,j)}if(h<2)throw'Error in expression "'+a+'". Only one element in evaluation of "'+d+'" expression, please add at least one more.';return f},g=function(a,b,c,e,f,g){if(!d.isNumber(b))throw"Error trying doing math operation, value '"+b+"' is not a valid number in expression '"+f+" "+g+"'";return 0==a?Number(b):e(c,Number(b))};return{build:e,evaluate:f}}()},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionBuilder.js":106,"../expressionTokenizer.js":107}],90:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("./arithmethicHelper.js"),f=a("../expressionsUtils.js"),g=function(a,b){var c=a,d=b,h=function(a){return e.evaluate(c,a,d,g.mathOperation,function(a,b){return a/b})},i=function(a,b){return f.buildDependsOnList(a,b,d)},j=function(){return c};return{evaluate:h,dependsOn:i,toString:j}};g.removePrefix=!0,g.getPrefix=function(){return d.getConf().divExpression},g.mathOperation="divide",g.getId=g.mathOperation,g.build=function(a){var b=e.build(a,g.mathOperation);return new g(a,b)},b.exports=g},{"../../context.js":87,"../expressionsUtils.js":108,"./arithmethicHelper.js":89}],91:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("./arithmethicHelper.js"),f=a("../expressionsUtils.js"),g=function(a,b){var c=a,d=b,h=function(a){return e.evaluate(c,a,d,g.mathOperation,function(a,b){return a%b})},i=function(a,b){return f.buildDependsOnList(a,b,d)},j=function(){return c};return{evaluate:h,dependsOn:i,toString:j}};g.removePrefix=!0,g.getPrefix=function(){return d.getConf().modExpression},g.mathOperation="mod",g.getId=g.mathOperation,g.build=function(a){var b=e.build(a,g.mathOperation);return new g(a,b)},b.exports=g},{"../../context.js":87,"../expressionsUtils.js":108,"./arithmethicHelper.js":89}],92:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("./arithmethicHelper.js"),f=a("../expressionsUtils.js"),g=function(a,b){var c=a,d=b,h=function(a){return e.evaluate(c,a,d,g.mathOperation,function(a,b){return a*b})},i=function(a,b){return f.buildDependsOnList(a,b,d)},j=function(){return c};return{evaluate:h,dependsOn:i,toString:j}};g.removePrefix=!0,g.getPrefix=function(){return d.getConf().mulExpression},g.mathOperation="multiply",g.getId=g.mathOperation,g.build=function(a){var b=e.build(a,g.mathOperation);return new g(a,b)},b.exports=g},{"../../context.js":87,"../expressionsUtils.js":108,"./arithmethicHelper.js":89}],93:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("./arithmethicHelper.js"),f=a("../expressionsUtils.js"),g=function(a,b){var c=a,d=b,h=function(a){return e.evaluate(c,a,d,g.mathOperation,function(a,b){return a-b})},i=function(a,b){return f.buildDependsOnList(a,b,d)},j=function(){return c};return{evaluate:h,dependsOn:i,toString:j}};g.removePrefix=!0,g.getPrefix=function(){return d.getConf().subExpression},g.mathOperation="substract",g.getId=g.mathOperation,g.build=function(a){var b=e.build(a,g.mathOperation);return new g(a,b)},b.exports=g},{"../../context.js":87,"../expressionsUtils.js":108,"./arithmethicHelper.js":89}],94:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../evaluateHelper.js"),f=a("../expressionsUtils.js"),g=function(a,b){var c=a,d=b,g=function(a){for(var b=0;b<d.length;b++){var c=d[b];if(!e.evaluateBoolean(a,c))return!1}return!0},h=function(a,b){return f.buildDependsOnList(a,b,d)},i=function(){return c};return{evaluate:g,dependsOn:h,toString:i}};g.removePrefix=!0,g.getPrefix=function(){return d.getConf().andExpression},g.getId=g.getPrefix,g.build=function(b){var c=a("./boolHelper.js"),d=c.build(b,"And");return new g(b,d)},b.exports=g},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionsUtils.js":108,"./boolHelper.js":95}],95:[function(a,b,c){"use strict";b.exports=function(){var b=a("../../context.js"),c=a("../expressionTokenizer.js"),d=a("../expressionBuilder.js");return{build:function(a,e){var f=a.trim();if(0===f.length)throw e+" expression void.";var g=new c(f,b.getConf().expressionDelimiter,!1);if(1===g.countTokens())throw'Syntax error in expression "'+f+'". Only one element in '+e+" expression, please add at least one more.";return d.buildList(g)}}}()},{"../../context.js":87,"../expressionBuilder.js":106,"../expressionTokenizer.js":107}],96:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../expressionTokenizer.js"),f=a("../expressionsUtils.js"),g=a("../evaluateHelper.js"),h=function(a,b,c,d){var e=a,h=b,i=c,j=d,k=function(a){return g.evaluateBoolean(a,h)?i.evaluate(a):j.evaluate(a)},l=function(a,b){return f.buildDependsOnList(a,b,h,i,j)},m=function(){return e};return{evaluate:k,dependsOn:l,toString:m}};h.removePrefix=!0,h.getPrefix=function(){return d.getConf().condExpression},h.getId=h.getPrefix,h.build=function(b){var c=a("../expressionBuilder.js"),f=b.trim();if(0===f.length)throw"Cond expression void.";var g=new e(f,d.getConf().expressionDelimiter,!1);if(3!==g.countTokens())throw'Syntax error in cond expression "'+f+'". 3 element are needed.';return new h(f,c.build(g.nextToken()),c.build(g.nextToken()),c.build(g.nextToken()))},b.exports=h},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108}],97:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../evaluateHelper.js"),f=a("../expressionsUtils.js"),g=function(a,b){var c=a,d=b,g=function(a){return!e.evaluateBoolean(a,d)},h=function(a,b){return f.buildDependsOnList(a,b,d)},i=function(){return c};return{evaluate:g,dependsOn:h,toString:i}};g.removePrefix=!0,g.getPrefix=function(){return d.getConf().notExpression},g.getId=g.getPrefix,g.build=function(b){var c=a("../expressionBuilder.js"),d=c.build(b);return new g(b,d)},b.exports=g},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionBuilder.js":106,"../expressionsUtils.js":108}],98:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../evaluateHelper.js"),f=a("../expressionsUtils.js"),g=function(a,b){var c=a,d=b,g=function(a){for(var b=0;b<d.length;b++){var c=d[b];if(e.evaluateBoolean(a,c))return!0}return!1},h=function(a,b){return f.buildDependsOnList(a,b,d)},i=function(){return c};return{evaluate:g,dependsOn:h,toString:i}};g.removePrefix=!0,g.getPrefix=function(){return d.getConf().orExpression},g.getId=g.getPrefix,g.build=function(b){var c=a("./boolHelper.js"),d=c.build(b,"Or");return new g(b,d)},b.exports=g},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionsUtils.js":108,"./boolHelper.js":95}],99:[function(a,b,c){"use strict";b.exports=function(){var b=a("../../context.js"),c=a("../expressionTokenizer.js"),d=a("../evaluateHelper.js");return{build:function(d,e){var f=a("../expressionBuilder.js"),g=d.trim();if(0===g.length)throw e+" expression void.";var h=new c(g,b.getConf().expressionDelimiter,!1);if(2!==h.countTokens())throw'Wrong number of elements in expression "'+g+'", '+e+" expressions only support two.";return{expression1:f.build(h.nextToken()),expression2:f.build(h.nextToken())}},evaluate:function(a,b,c){return{number1:d.evaluateNumber(a,b),number2:d.evaluateNumber(a,c)}}}}()},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionBuilder.js":106,"../expressionTokenizer.js":107}],100:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../expressionTokenizer.js"),f=a("../expressionsUtils.js"),g=function(a,b){var c=a,d=b,e=function(a){for(var b=d[0],c=b.evaluate(a),e=1;e<d.length;e++){if(c!=d[e].evaluate(a))return!1}return!0},g=function(a,b){return f.buildDependsOnList(a,b,d)},h=function(){return c};return{evaluate:e,dependsOn:g,toString:h}};g.removePrefix=!0,g.getPrefix=function(){return d.getConf().equalsExpression},g.getId=g.getPrefix,g.build=function(b){var c=a("../expressionBuilder.js"),f=b.trim();if(0===f.length)throw"Equals expression void.";var h=new e(f,d.getConf().expressionDelimiter,!1);if(1===h.countTokens())throw'Only one element in equals expression "'+f+'", please add at least one more.';return new g(f,c.buildList(h))},b.exports=g},{"../../context.js":87,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108}],101:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("./comparisonHelper.js"),f=a("../expressionsUtils.js"),g=function(a,b,c){var d=a,g=b,h=c,i=function(a){var b=e.evaluate(a,g,h);return b.number1>b.number2},j=function(a,b){return f.buildDependsOnList(a,b,g,h)},k=function(){return d};return{evaluate:i,dependsOn:j,toString:k}};g.removePrefix=!0,g.getPrefix=function(){return d.getConf().greaterExpression},g.getId=g.getPrefix,g.build=function(a){var b=e.build(a,"greater");return new g(a,b.expression1,b.expression2)},b.exports=g},{"../../context.js":87,"../expressionsUtils.js":108,"./comparisonHelper.js":99}],102:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../expressionTokenizer.js"),f=a("../expressionsUtils.js"),g=function(a,b){var c=a,d=b,e=function(a){for(var b=d[0],c=b.evaluate(a),e=1;e<d.length;e++){var f=d[e],g=f.evaluate(a);if(Array.isArray(g)){for(var h=0;h<g.length;h++)if(c==g[h])return!0}else if(c==g)return!0}return!1},g=function(a,b){return f.buildDependsOnList(a,b,d)},h=function(){return c};return{evaluate:e,dependsOn:g,toString:h}};g.removePrefix=!0,g.getPrefix=function(){return d.getConf().inExpression},g.getId=g.getPrefix,g.build=function(b){var c=a("../expressionBuilder.js"),f=b.trim();if(0===f.length)throw"In expression void.";var h=new e(f,d.getConf().expressionDelimiter,!1);if(1===h.countTokens())throw'Only one element in in expression "'+f+'", please add at least one more.';return new g(f,c.buildList(h))},b.exports=g},{"../../context.js":87,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108}],103:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("./comparisonHelper.js"),f=a("../expressionsUtils.js"),g=function(a,b,c){var d=a,g=b,h=c,i=function(a){var b=e.evaluate(a,g,h);return b.number1<b.number2},j=function(a,b){return f.buildDependsOnList(a,b,g,h)},k=function(){return d};return{evaluate:i,dependsOn:j,toString:k}};g.removePrefix=!0,g.getPrefix=function(){return d.getConf().lowerExpression},g.getId=g.getPrefix,g.build=function(a){var b=e.build(a,"lower");return new g(a,b.expression1,b.expression2)},b.exports=g},{"../../context.js":87,"../expressionsUtils.js":108,"./comparisonHelper.js":99}],104:[function(a,b,c){"use strict";var d=a("../context.js");b.exports=function(){var a=function(a,b){var c=b.evaluate(a);return void 0==c?"undefined":c},b=function(a,b){var c=b.evaluate(a);return void 0!==c&&null!=c&&"false"!=c&&0!=c&&0!=c},c=function(a,b,c){var d=b.evaluate(a);if(!e(d)){throw c||'Expression "'+b+'" is not a valid number.'}return d},e=function(a){return!isNaN(parseFloat(a))||!isFinite(a)};return{evaluateToNotNull:a,evaluateBoolean:b,evaluateNumber:c,isNumber:e,evaluateExpressionList:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=a[d];c.push(e.evaluate(b))}return c},isDefault:function(a){return a===d.getConf().defaultVarValue},isNothing:function(a){return a===d.getConf().nothingVarValue}}}()},{"../context.js":87}],105:[function(a,b,c){"use strict";var d=a("../context.js"),e=a("./expressionsUtils.js"),f=function(a,b){var c=a,d=b,f=function(a){try{return void 0!==d.evaluate(a)}catch(a){return!1}},g=function(a,b){return e.buildDependsOnList(a,b,d)},h=function(){return c};return{evaluate:f,dependsOn:g,toString:h}};f.removePrefix=!0,f.getPrefix=function(){return d.getConf().existsExpression},f.getId=f.getPrefix,f.build=function(b){var c=a("./expressionBuilder.js"),d=c.build(b);return new f(b,d)},b.exports=f},{"../context.js":87,"./expressionBuilder.js":106,"./expressionsUtils.js":108}],106:[function(a,b,c){b.exports=function(){"use strict";var b=a("../context.js"),c=a("./expressionTokenizer.js"),d=a("./path/pathExpression.js"),e=a("../cache/expressionCache.js"),f={},g={},h=d.getId(),i=function(a,b){f[b||a.getPrefix()||a.getId()]=a,!a.removePrefix&&a.getPrefix()&&(g[a.getPrefix()]=a)},j=function(a,b){delete f[b||a.getPrefix()||a.getId()]},k=function(){i(a("./existsExpression.js")),i(a("./formatExpression.js")),i(a("./stringExpression.js")),i(a("./path/pathExpression.js"))},l=function(){i(a("./comparison/equalsExpression.js")),i(a("./comparison/greaterExpression.js")),i(a("./comparison/lowerExpression.js")),i(a("./comparison/inExpression.js"))},m=function(){i(a("./arithmethic/addExpression.js")),i(a("./arithmethic/substractExpression.js")),i(a("./arithmethic/multiplyExpression.js")),i(a("./arithmethic/divideExpression.js")),i(a("./arithmethic/modExpression.js"))},n=function(){i(a("./bool/andExpression.js")),i(a("./bool/condExpression.js")),i(a("./bool/notExpression.js")),i(a("./bool/orExpression.js"))},o=function(){i(a("./i18n/trCurrencyExpression.js")),i(a("./i18n/trDateTimeExpression.js")),i(a("./i18n/trNumberExpression.js")),i(a("./i18n/trStringExpression.js"))},p=function(){i(a("./scripting/javascriptExpression.js")),i(a("./scripting/queryExpression.js"))},q=function(){k(),l(),m(),n(),o(),p()}(),r=function(a,b){return e.get(a,function(){return s(a)},b)},s=function(a){var c=x(a.trim()),d=c.indexOf(b.getConf().expressionSuffix),e=void 0,g=!1;-1!==d?(e=c.substring(0,d)+":",g=!f.hasOwnProperty(e)):g=!0;var h=!1,i=void 0;g?i=t(c):h=!0,i=i||f[e];var j=void 0;return j=h&&i.removePrefix?c.substr(e.length):c,i.build(j)},t=function(a){for(var b in g)if(0===a.indexOf(b))return g[b];return f[h]},u=function(a){for(var b=[];a.hasMoreTokens();)b.push(r(a.nextToken().trim()));return b},v=function(a,b){return a.substr(b.length)},w=function(a,b){return r(a.substr(b.length))},x=function(a){var b=a.trim();return""==b?b:"("===b.charAt(0)?x(b.substring(1,b.lastIndexOf(")")).trim()):b};return{register:i,unregister:j,registerAll:q,build:r,buildList:u,removePrefix:v,removePrefixAndBuild:w,removeParenthesisIfAny:x,endsWith:function(a,b){return-1!==a.indexOf(b,a.length-b.length)},getArgumentsFromString:function(a){for(var d=new c(a,b.getConf().argumentsDelimiter,!0),e=[];d.hasMoreTokens();){var f=d.nextToken().trim();e.push(r(f))}return e}}}()},{"../cache/expressionCache.js":86,"../context.js":87,"./arithmethic/addExpression.js":88,"./arithmethic/divideExpression.js":90,"./arithmethic/modExpression.js":91,"./arithmethic/multiplyExpression.js":92,"./arithmethic/substractExpression.js":93,"./bool/andExpression.js":94,"./bool/condExpression.js":96,"./bool/notExpression.js":97,"./bool/orExpression.js":98,"./comparison/equalsExpression.js":100,"./comparison/greaterExpression.js":101,"./comparison/inExpression.js":102,"./comparison/lowerExpression.js":103,"./existsExpression.js":105,"./expressionTokenizer.js":107,"./formatExpression.js":109,"./i18n/trCurrencyExpression.js":110,"./i18n/trDateTimeExpression.js":111,"./i18n/trNumberExpression.js":113,"./i18n/trStringExpression.js":114,"./path/pathExpression.js":123,"./scripting/javascriptExpression.js":128,"./scripting/queryExpression.js":129,"./stringExpression.js":130}],107:[function(a,b,c){b.exports=function(b,c,d){"use strict";var e,f=a("./expressionBuilder.js"),g=f.removeParenthesisIfAny,h=b.trim(),i=0,j=0,k=[],l=function(a){var b=0;return{next:function(){return b<a.length?a[b++]:void 0},hasNext:function(){return b<a.length}}},m=(function(){for(var a=" "===c,b=0,f=!1,g="",i=h.length,m=0;m<i;m++){var n=h.charAt(m);if(n===c){if(0===b&&!f){if(a&&(g===c||"\n"===g))continue;var o=m+1<i?h.charAt(m+1):"";d&&o===c?(h=h.substring(0,m+1)+h.substring(m+2),i--):(j++,k.push(m))}}else if("("===n||"["===n)b++;else if(")"===n||"]"===n){if(--b<0)throw"Syntax error. Unmatched right parenthesis: "+h}else"'"===n&&(f=!f);g=n}if(b>0)throw"Syntax error: unmatched left parenthesis: "+h;if(f)throw"Syntax error: runaway quotation: "+h;e=l(k)}(),function(){return i<h.length}),n=function(){var a;if(e.hasNext()){var b=e.next(),c=parseInt(b);return a=h.substring(i,c).trim(),i=c+1,j--,g(a)}return a=h.substring(i).trim(),i=h.length,g(a)};return{hasMoreTokens:m,nextToken:n,countTokens:function(){return m()?j+1:0},nextTokenIfAny:function(a){return m()?n():a}}}},{"./expressionBuilder.js":106}],108:[function(a,b,c){"use strict";var d=a("./evaluateHelper.js"),e=a("../utils.js"),f=a("../parsers/depsDataItem.js");b.exports=function(){var a=function(a){return d.isNumber(a)?""+a:"'"+a+"'"},b=function(a,b){for(var c="[",d=b?"'":"",e=0;e<a.length;e++)c+=d+a[e]+d+" ";return c+="]"},c=function(){var a=[],b=arguments[0];b||(b=new f);for(var c=arguments[1],d=2;d<arguments.length;d++){var e=arguments[d];a=a.concat(g(b,c,e))}return a},g=function(a,b,c){var d=[];if(!c)return d;if(!Array.isArray(c))return h(a,b,c);for(var e=c,f=0;f<e.length;f++){var i=e[f];d=d.concat(Array.isArray(i)?g(b,i):h(a,b,i))}return d},h=function(a,b,c){return!e.isFunction(c.dependsOn)||e.isFunction(c.getVarName)&&a===c.getVarName()?[]:c.dependsOn(a,b)};return{buildLiteral:a,buildList:b,buildDependsOnList:c}}()},{"../parsers/depsDataItem.js":137,"../utils.js":161,"./evaluateHelper.js":104}],109:[function(a,b,c){"use strict";var d=a("../utils.js"),e=a("../context.js"),f=a("./expressionTokenizer.js"),g=a("./expressionsUtils.js"),h=a("./evaluateHelper.js"),i=function(b,c,f){var i=b,j=c,k=f,l=function(a){var b=m(a,j),c=h.evaluateExpressionList(k,a);return b.apply(b,c)},m=function(b,c){var d=e.getFormatter(c);if(n(d)||(d=b.get(c)),!n(d))try{var f=a("./expressionBuilder.js"),g=f.build(c),h=g.evaluate(b);return m(b,h)}catch(a){}if(n(d))return d;throw"No valid formatter found: "+i},n=function(a){return a&&d.isFunction(a)},o=function(a,b){return g.buildDependsOnList(a,b,j,k)},p=function(){return i};return{evaluate:l,dependsOn:o,toString:p}};i.removePrefix=!0,i.getPrefix=function(){return e.getConf().formatExpression},i.getId=i.getPrefix,i.build=function(b){var c=a("./expressionBuilder.js"),d=b.trim();if(0===d.length)throw"Format expression void.";var g=new f(d,e.getConf().expressionDelimiter,!1);if(1===g.countTokens())throw'Only one element in format expression: "'+d+'". Please add at least one more.';for(var h=g.nextToken().trim(),j=[];g.hasMoreTokens();){var k=c.build(g.nextToken());j.push(k)}return new i(d,h,j)},b.exports=i},{"../context.js":87,"../utils.js":161,"./evaluateHelper.js":104,"./expressionBuilder.js":106,"./expressionTokenizer.js":107,"./expressionsUtils.js":108}],110:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("./trHelper.js"),f=function(a,b,c,d){var f=a,g=b,h=c,i=d,j=function(a){return e.evaluate(a,g,h,"currency",i)},k=function(a,b){return e.dependsOn(a,b,g,h)},l=function(){return f};return{evaluate:j,dependsOn:k,toString:l}};f.removePrefix=!0,f.getPrefix=function(){return d.getConf().trCurrencyExpression},f.getId=f.getPrefix,f.build=function(a){var b=e.build(a,f.getPrefix(),2,3,!0);return new f(a,b.expression,b.argsExpressions,b.subformat)},b.exports=f},{"../../context.js":87,"./trHelper.js":112}],111:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("./trHelper.js"),f=function(a,b,c){var d=a,f=b,g=c,h=function(a){return e.evaluate(a,f,g,"datetime",null)},i=function(a,b){return e.dependsOn(a,b,f,g)},j=function(){return d};return{evaluate:h,dependsOn:i,toString:j}};f.removePrefix=!0,f.getPrefix=function(){return d.getConf().trDateTimeExpression},f.getId=f.getPrefix,f.build=function(a){var b=e.build(a,f.getPrefix(),1,2,!1);return new f(a,b.expression,b.argsExpressions)},b.exports=f},{"../../context.js":87,"./trHelper.js":112}],112:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../expressionTokenizer.js"),f=a("../../i18n/i18nHelper.js"),g=a("../evaluateHelper.js"),h=a("../expressionsUtils.js"),i=a("../path/variableExpression.js");b.exports=function(){var b=function(b){var c=a("../expressionBuilder.js"),f={};if(!b)return f;for(var g=new e(b,d.getConf().i18nOptionsDelimiter,!0);g.hasMoreTokens();){var h=g.nextToken().trim(),i=new e(h,d.getConf().inI18nOptionsDelimiter,!0);if(2!==i.countTokens())throw"2 elements are needed in i18n expression.";var j=i.nextToken().trim(),k=c.build(i.nextToken().trim());f[j]=k}return f},c=function(a,b){var c={};for(var d in b){var e=b[d],f=g.evaluateToNotNull(a,e);c[d]=f}return c},j=function(a,b,c,e,g){var h=a.get(d.getConf().i18nDomainVarName),i=a.get(d.getConf().i18nLanguageVarName);return f.tr(h,b,c,e,g,i)};return{build:function(c,f,g,h,i){var j=a("../expressionBuilder.js");if(0===c.length)throw f+" expression void.";var k=new e(c.trim(),d.getConf().expressionDelimiter,!1),l=k.countTokens();if(l<g)throw"Too few elements in "+f+" expression (minimum is "+g+", "+l+" present): "+c.trim();if(l>h)throw"Too many elements in "+f+" expression (maximum is "+h+", "+l+" present):"+c.trim();var m=i?j.build(k.nextToken()):void 0,n=j.build(k.nextToken().trim()),o=k.hasMoreTokens()?k.nextToken().trim():void 0;return{expression:n,argsExpressions:b(o),subformat:m}},evaluate:function(a,b,d,e,f){var h=c(a,d),i=f?g.evaluateToNotNull(a,f):void 0,k=g.evaluateToNotNull(a,b);return j(a,k,h,e,i)},dependsOn:function(a,b,c,e){return h.buildDependsOnList(a,b,new i(d.getConf().i18nDomainVarName),new i(d.getConf().i18nLanguageVarName),c,e)}}}()},{"../../context.js":87,"../../i18n/i18nHelper.js":133,"../evaluateHelper.js":104,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108,"../path/variableExpression.js":127}],113:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("./trHelper.js"),f=function(a,b,c){var d=a,f=b,g=c,h=function(a){return e.evaluate(a,f,g,"number",null)},i=function(a,b){return e.dependsOn(a,b,f,g)},j=function(){return d};return{evaluate:h,dependsOn:i,toString:j}};f.removePrefix=!0,f.getPrefix=function(){return d.getConf().trNumberExpression},f.getId=f.getPrefix,f.build=function(a){var b=e.build(a,f.getPrefix(),1,2,!1);return new f(a,b.expression,b.argsExpressions)},b.exports=f},{"../../context.js":87,"./trHelper.js":112}],114:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("./trHelper.js"),f=function(a,b,c){var d=a,f=b,g=c,h=function(a){return e.evaluate(a,f,g,"string",null)},i=function(a,b){return e.dependsOn(a,b,f,g)},j=function(){return d};return{evaluate:h,dependsOn:i,toString:j}};f.removePrefix=!0,f.getPrefix=function(){return d.getConf().trExpression},f.getId=f.getPrefix,f.build=function(a){var b=e.build(a,f.getPrefix(),1,2,!1);return new f(a,b.expression,b.argsExpressions)},b.exports=f},{"../../context.js":87,"./trHelper.js":112}],115:[function(a,b,c){"use strict";var d=a("../expressionsUtils.js"),e=function(a,b){var c=a,e=b,f=function(a){for(var b=c.evaluate(a),d=b,f=0;f<e.length;f++){d=d[e[f].evaluate(a)]}return d},g=function(a,b){var f=d.buildDependsOnList(a,b,c);if(0===f.length)return[];if(f.length>1)return d.buildDependsOnList(a,b,c,e);for(var g=f[0],h=0;h<e.length;++h){g+="["+e[h].evaluate(b)+"]"}return[g]},h=function(){return c+"["+e+"]"};return{evaluate:f,dependsOn:g,toString:h}};e.build=function(b,c){for(var d=a("../expressionBuilder.js"),f=[],g=!1;!g;){var h=c.indexOf("]");if("["!==c.charAt(0)||-1===h)throw"Bad array accessor: "+c;var i=d.build(c.substring(1,h));f.push(i),h++,c.length>h?c=c.substring(h):g=!0}return new e(b,f)},e.buildArrayData=function(a){var b=e.findArrayAccessor(a);if(!(b<=0))return{arrayAccessor:a.substring(b).trim(),token:a.substring(0,b).trim()}},e.findArrayAccessor=function(a){for(var b=0,c=1,d=2,e=a.length,f=b,g=0,h=0;h<e;h++){var i=a.charAt(h);switch(f){case c:")"===i?0===--g&&(f=b):"("===i&&g++;break;case d:"'"===i&&(f=b);break;case b:if("'"===i)f=d;else if("("===i)g++,f=c;else if("["===i)return h}}return-1},b.exports=e},{"../expressionBuilder.js":106,"../expressionsUtils.js":108}],116:[function(a,b,c){"use strict";var d=a("../evaluateHelper.js"),e=function(a,b,c){var e=a,f=b,g=c,h=function(a){var b=d.evaluateExpressionList(g,a),c=a.get(f);return c?c.apply(c,b):void 0},i=function(){return[]},j=function(){return e};return{evaluate:h,dependsOn:i,toString:j}};e.build=function(b){var c=a("../expressionBuilder.js"),d=b.indexOf("(");if(-1!==d){if(!c.endsWith(b,")"))throw"Syntax error. Bad function call: "+b;var f=b.substring(0,d).trim(),g=b.substring(d+1,b.length-1),h=c.getArgumentsFromString(g);return new e(b,f,h)}},b.exports=e},{"../evaluateHelper.js":104,"../expressionBuilder.js":106}],117:[function(a,b,c){"use strict";var d=function(a){var b=a,c=function(a,c){return c[a.get(b)]},d=function(){return[]},e=function(){return"?"+b};return{evaluate:c,dependsOn:d,toString:e}};d.build=function(a){if("?"===a.charAt(0))return new d(a.substring(1))},b.exports=d},{}],118:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../expressionTokenizer.js"),f=a("../expressionsUtils.js"),g=a("./rangeExpression.js"),h=function(a,b){var c=a,d=b,e=function(a){for(var b=[],c=0;c<d.length;c++){var e=d[c],f=e.evaluate(a);Array.isArray(f)?b=b.concat(f):b.push(f)}return b},g=function(a,b){return f.buildDependsOnList(a,b,d)},h=function(){return c};return{evaluate:e,dependsOn:g,toString:h}};h.build=function(b){var c=a("../expressionBuilder.js");if("["===b.charAt(0)&&"]"===b.charAt(b.length-1)){for(var f=b.substring(1,b.length-1),i=[],j=new e(f,d.getConf().expressionDelimiter,!0);j.hasMoreTokens();){var k=j.nextToken().trim(),l=g.build(k);i.push(l||c.build(k))}return new h(f,i)}},b.exports=h},{"../../context.js":87,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108,"./rangeExpression.js":126}],119:[function(a,b,c){"use strict";var d=function(a){var b=a,c=function(a){return b},d=function(){return""+b};return{evaluate:c,dependsOn:function(){return[]},toString:d}};d.build=function(a){return"true"===a?new d(!0):"false"===a?new d(!1):void 0},b.exports=d},{}],120:[function(a,b,c){"use strict";var d=function(a){var b=a,c=function(a){return b},d=function(){return[]},e=function(){return b};return{evaluate:c,dependsOn:d,toString:e}};d.build=function(a){if(isFinite(a)){var b=parseInt(a);if(b==a)return new d(b);var c=parseFloat(a);if(c==a)return new d(c)}},b.exports=d},{}],121:[function(a,b,c){"use strict";var d=function(a){var b=a,c=function(a){return b},d=function(){return[]},e=function(){return b};return{evaluate:c,dependsOn:d,toString:e}};d.build=function(a){if("'"===a.charAt(0)&&"'"===a.charAt(a.length-1))return new d(a.substring(1,a.length-1))},b.exports=d},{}],122:[function(a,b,c){"use strict";var d=a("../evaluateHelper.js"),e=function(a,b,c){var e=a,f=b,g=c,h=function(a,b){var c=d.evaluateExpressionList(g,a);return b[f].apply(b,c)},i=function(){},j=function(){return e};return{evaluate:h,dependsOn:i,toString:j}};e.build=function(b){var c=a("../expressionBuilder.js"),d=b.indexOf("(");if(-1!==d){if(!c.endsWith(b,")"))throw"Syntax error. Bad method call: "+b;var f=b.substring(0,d).trim(),g=b.substring(d+1,b.length-1),h=c.getArgumentsFromString(g);return new e(b,f,h)}},b.exports=e},{"../evaluateHelper.js":104,"../expressionBuilder.js":106}],123:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../expressionTokenizer.js"),f=a("./literals/stringLiteral.js"),g=a("./pathSegmentExpression.js"),h=a("../expressionsUtils.js"),i=function(a,b){var c=a,d=b,e=function(a){for(var b=void 0,c=0;c<d.length;c++)try{var e=d[c],f=e.evaluate(a);if(null!=f)return f}catch(a){b=a}if(b)throw b;return null},f=function(a,b){return h.buildDependsOnList(a,b,d)},g=function(){return c};return{evaluate:e,dependsOn:f,toString:g}};i.removePrefix=!1,i.getPrefix=function(){return d.getConf().pathExpression},i.getId=function(){return"path"},i.build=function(b){var c=a("../expressionBuilder.js"),h=b.trim();if(0===h.length)return f.build("");var j=new e(h,d.getConf().pathDelimiter,!1);if(1===j.countTokens())return g.build(h);for(var k=[];j.hasMoreTokens();){var l=j.nextToken();if(!l)throw"Null token inside path expression: "+h;k.push(c.build(l))}return new i(h,k)},b.exports=i},{"../../context.js":87,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108,"./literals/stringLiteral.js":121,"./pathSegmentExpression.js":124}],124:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../expressionTokenizer.js"),f=a("../expressionsUtils.js"),g=a("./arrayExpression.js"),h=a("./literals/stringLiteral.js"),i=a("./literals/numericLiteral.js"),j=a("./literals/booleanLiteral.js"),k=a("./listExpression.js"),l=a("./functionExpression.js"),m=a("./variableExpression.js"),n=a("./indirectionExpression.js"),o=a("./methodExpression.js"),p=a("./propertyExpression.js"),q=function(a,b){var c=a,d=b,e=function(a){for(var b=d[0],e=b.evaluate(a),f=1;f<d.length;f++){if(null==e)throw'Error evaluating "'+c+'": "'+b+'" is null';b=d[f],e=b.evaluate(a,e)}return e},g=function(a,b){var c=f.buildDependsOnList(a,b,d[0]);if(0===c.length)return[];if(c.length>1)return c;for(var e=c[0],g=[e],h=1;h<d.length;h++){var i=d[h],j=i.dependsOn(e);if(!j)break;e+=j,g.push(e)}return g},h=function(){return c};return{evaluate:e,dependsOn:g,toString:h}};q.build=function(a){var b=[];if(0===a.length)return b.push(h.build("")),b;var c=new e(a,d.getConf().pathSegmentDelimiter,!1),f=c.nextToken().trim();for(b.push(q.buildFirstPathToken(f));c.hasMoreTokens();)f=c.nextToken().trim(),b.push(q.buildNextPathToken(f));return new q(a,b)},q.buildFirstPathToken=function(a){var b=g.buildArrayData(a),c=b?b.arrayAccessor:void 0,d=b?b.token:a,e=h.build(d);if(void 0===e&&void 0===(e=i.build(d))&&void 0===(e=j.build(d))&&void 0===(e=k.build(d))&&void 0===(e=l.build(d))&&void 0===(e=m.build(d)))throw"Unknown expression: "+d;return void 0!==c&&(e=g.build(e,c)),e},q.buildNextPathToken=function(a){var b=g.buildArrayData(a),c=b?b.arrayAccessor:void 0,d=b?b.token:a,e=n.build(d);return void 0===e&&void 0===(e=o.build(d))&&(e=p.build(d)),void 0!==c&&(e=g.build(e,c)),e},b.exports=q},{"../../context.js":87,"../expressionTokenizer.js":107,"../expressionsUtils.js":108,"./arrayExpression.js":115,"./functionExpression.js":116,"./indirectionExpression.js":117,"./listExpression.js":118,"./literals/booleanLiteral.js":119,"./literals/numericLiteral.js":120,"./literals/stringLiteral.js":121,"./methodExpression.js":122,"./propertyExpression.js":125,"./variableExpression.js":127}],125:[function(a,b,c){"use strict";var d=function(a){var b=a,c=function(a,c){return c[b]},d=function(a){return"."+b},e=function(){return b};return{evaluate:c,dependsOn:d,toString:e}};d.build=function(a){return new d(a)},b.exports=d},{}],126:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../expressionTokenizer.js"),f=a("../expressionsUtils.js"),g=a("../evaluateHelper.js"),h=a("./literals/numericLiteral.js"),i=function(a,b,c,d){var e=a,h=b,i=c,j=d,k=function(a){for(var b=g.evaluateNumber(a,h),c=g.evaluateNumber(a,i),d=g.evaluateNumber(a,j),e=[],f=d>0,k=b;f?k<=c:k>=c;)e.push(k),k+=d;return e},l=function(a,b){return f.buildDependsOnList(a,b,h,i,j)},m=function(){return e};return{evaluate:k,dependsOn:l,toString:m}};i.build=function(b){var c=a("../expressionBuilder.js");if(b){var f=b.trim();if(-1===f.indexOf(" ")){var g=new e(f,d.getConf().intervalDelimiter,!1),j=g.countTokens();if(2===j||3===j){var k=0,l=1,m=g.nextToken().trim(),n=""==m?h.build(k):c.build(m),o=c.build(g.nextToken()),p=3===j?c.build(g.nextToken()):h.build(l);return new i(f,n,o,p)}}}},b.exports=i},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108,"./literals/numericLiteral.js":120}],127:[function(a,b,c){"use strict";var d=a("../../context.js"),e=function(a){var b=a,c=function(a){if(!a.isValidVariable(b))throw"Not declared variable found using strict mode:"+b;return a.get(b)},d=function(a,c){if(!a.mustAddVar(b))return[];var d=c.getVarExpression(b);if(!d)return a.add1NonExpressionVar(b),[b];a.add1ExpressionVar(b);var e=d.dependsOn(a,c);return a.addAllVars(e,c),e},e=function(){return b},f=function(){return b};return{evaluate:c,dependsOn:d,getVarName:e,toString:f}};e.build=function(a){return d.getConf().variableNameRE.test(a)?new e(a):void 0},b.exports=e},{"../../context.js":87}],128:[function(_dereq_,module,exports){"use strict";var context=_dereq_("../../context.js"),expressionsUtils=_dereq_("../expressionsUtils.js"),StringExpression=_dereq_("../stringExpression.js"),JavascriptExpression=function(expressionToApply){var stringExpression=expressionToApply,evaluate=function(scope){var evaluatedString=stringExpression.evaluate(scope);return eval(evaluatedString)},dependsOn=function(a,b){return expressionsUtils.buildDependsOnList(a,b,stringExpression)},toString=function(){return stringExpression};return{evaluate:evaluate,dependsOn:dependsOn,toString:toString}};JavascriptExpression.removePrefix=!0,JavascriptExpression.getPrefix=function(){return void 0===JavascriptExpression.prefix&&(JavascriptExpression.prefix=context.getConf().javaScriptExpression),JavascriptExpression.prefix},JavascriptExpression.getId=JavascriptExpression.getPrefix,JavascriptExpression.build=function(a){return new JavascriptExpression(StringExpression.build(a))},module.exports=JavascriptExpression},{"../../context.js":87,"../expressionsUtils.js":108,"../stringExpression.js":130}],129:[function(a,b,c){"use strict";var d=a("../../context.js"),e=a("../expressionsUtils.js"),f=function(a,b){var c=a,d=b,f=function(a){try{var b=d.evaluate(a),e=window.document.querySelectorAll(b);if(1===e.length)return e[0].innerText;for(var f=[],g=0;g<e.length;++g)f.push(e[g].innerText);return f}catch(a){return'Query expression error in "'+c+'": '+a}},g=function(a,b){return e.buildDependsOnList(a,b,d)},h=function(){return c};return{evaluate:f,dependsOn:g,toString:h}};f.removePrefix=!0,f.getPrefix=function(){return d.getConf().queryExpression},f.getId=f.getPrefix,f.build=function(b){var c=a("../expressionBuilder.js"),d=c.build(b);return new f(b,d)},b.exports=f},{"../../context.js":87,"../expressionBuilder.js":106,"../expressionsUtils.js":108}],130:[function(a,b,c){"use strict";var d=a("../context.js"),e=a("./path/literals/stringLiteral.js"),f=a("./path/pathExpression.js"),g=a("./expressionsUtils.js"),h=function(a,b){var c=a,d=b,e=function(a){for(var b="",c=0;c<d.length;c++){b+=d[c].evaluate(a)}return b},f=function(a,b){return g.buildDependsOnList(a,b,d)},h=function(){return c};return{evaluate:e,dependsOn:f,toString:h}};h.removePrefix=!0,h.getPrefix=function(){return d.getConf().stringExpression},h.getId=h.getPrefix,h.build=function(a){for(var b=0,c=1,d=2,g=3,i=[],j="",k="",l=b,m=0;m<a.length;m++){var n=a.charAt(m);switch(l){case b:"$"===n?l=c:j+=n;break;case c:"$"===n?(j+="$",l=b):"{"===n?(k="",l=g,j&&(i.push(new e(j)),j="")):(k+=n,l=d,j&&(i.push(new e(j)),j=""));break;case g:case d:l===g&&"}"===n||l===d&&" "==n?(i.push(f.build(k)),l===d&&(j+=n),l=b):k+=n}}if(l===g)throw"Unclosed left curly brace: "+a;return l==d&&i.push(f.build(k)),j&&i.push(new e(j)),new h(a,i)},b.exports=h},{"../context.js":87,"./expressionsUtils.js":108,"./path/literals/stringLiteral.js":121,"./path/pathExpression.js":123}],131:[function(a,b,c){b.exports=function(b,c){"use strict";var d=a("messageformat"),e=a("../context.js"),f=a("../utils.js"),g=c,h=new d(b),i={},j={},k={},l=e.getConf().i18nConfResourceId,m=function(){return g[l].language},n=function(){return g[l].locale},o=function(a){return void 0!==g[a]},p=function(a,b,c,d){switch(c){case"string":return q(a,b);case"number":return s(a,b);case"currency":return t(a,b,d);case"datetime":return u(a,b)}throw"I18n format type not supported: "+c},q=function(a,b){var c=i[a];return c||(c=h.compile(g[a]),i[a]=c),c(b)},r=function(a){return a&&f.isFunction(a.toSource)?a.toSource():""},s=function(a,b){var c=r(b),d=j[c];return d||(d=new Intl.NumberFormat(n(),b),j[c]=d),d.format(a)},t=function(a,b,c){return b.style="currency",b.currency=c,s(a,b)},u=function(a,b){var c=r(b),d=k[c];return d||(d=new Intl.DateTimeFormat(n(),b),k[c]=d),d.format(a)};return{getLanguage:m,getLocale:n,exists:o,tr:p}}},{"../context.js":87,"../utils.js":161,messageformat:64}],132:[function(a,b,c){b.exports=function(){"use strict";for(var a={},b=void 0,c=function(c){a[c.getLanguage()]=c,b||(b=c)},d=function(a){return b.exists(a)},e=function(b,c,d,e,f){if(!f)throw"Language not defined! Please, use data-iLanguage to define it before trying to translate anything!";var g=a[f];if(!g)throw'Language "'+f+'" not found in I18nBundle!';return g.tr(b,c,d,e)},f=0;f<arguments.length;f++)c(arguments[f]);return{add:c,exists:d,tr:e}}},{}],133:[function(a,b,c){var d=a("../utils.js"),e=a("./i18n.js"),f=a("../context.js");b.exports=function(){"use strict";var a=function(a,b,c,d,e,f){if(!a)return"No I18n instance defined!";var g=a.length;if(!g)return"Void I18n list!";for(var h=0;h<g;h++){var i=a[h];if("string"!==d||i.exists(b))return i.tr(b,c,d,e,f)}return'I18n resource "'+b+'" not found!'},b=function(a,b,d){c({},b,d,a,a.length-1)},c=function(a,b,e,g,h){var i=g[h];d.getJSON({url:i,done:function(d){a[i]=d,h>0?c(a,b,e,g,--h):b(a)},fail:function(a,b,c){f.asyncError(i,c,e)}})},g=function(a){return"i18n"+a.toUpperCase()+"Array"},h=function(a){return"i18n"+a.substr(0,a.lastIndexOf(".")).toUpperCase()};return{tr:a,loadAsync:b,loadAsyncAuto:function(a,c,d,f){if(!c||!c.files||!Object.keys(c.files).length)return void d();var i=Object.keys(c.files).length,j=[],k=c.urlPrefix||"";for(var l in c.files){var m=c.files[l];for(var n in m){var o=m[n],p=k+o;j.push(p)}}b(j,function(b){for(var f in c.files){var j=c.files[f],l=[];a[g(f)]=l,1===i&&(a.i18nArray=l);for(var m in j){var n=j[m],o=k+n,p=new e(f,b[o]);a[h(n)]=p,l.unshift(p)}}d()},f)}}}()},{"../context.js":87,"../utils.js":161,"./i18n.js":131}],134:[function(a,b,c){b.exports=function(){"use strict";var b=a("./context.js");return{trace:function(){var a=b.getLogger();a&&a.trace.apply(a,arguments)},debug:function(){var a=b.getLogger();a&&a.debug.apply(a,arguments)},info:function(){var a=b.getLogger();a&&a.info.apply(a,arguments)},warn:function(){var a=b.getLogger();a&&a.warn.apply(a,arguments)},error:function(){var a=b.getLogger();a&&a.error.apply(a,arguments)},fatal:function(){var a=b.getLogger();a&&a.fatal.apply(a,arguments)}}}()},{"./context.js":87}],135:[function(a,b,c){c.run=function(b){return a("./parsers/parser.js").run(b)},c.I18n=a("./i18n/i18n.js"),c.I18nBundle=a("./i18n/i18nBundle.js"),c.i18nHelper=a("./i18n/i18nHelper.js"),c.context=a("./context.js"),c.logHelper=a("./logHelper.js"),c.expressionBuilder=a("./expressions/expressionBuilder.js"),c.evaluateHelper=a("./expressions/evaluateHelper.js"),c.ExpressionTokenizer=a("./expressions/expressionTokenizer.js"),c.ReactiveDictionary=a("./scopes/reactiveDictionary.js"),c.version=a("./version.js"),"function"==typeof define&&define.amd&&(define("zpt.run",c.run),define("zpt.I18n",c.I18n),define("zpt.I18nBundle",c.I18nBundle),define("zpt.i18nHelper",c.i18nHelper),define("zpt.context",c.context),define("zpt.logHelper",c.logHelper),define("zpt.expressionBuilder",c.expressionBuilder),define("zpt.evaluateHelper",c.evaluateHelper),define("zpt.ExpressionTokenizer",c.ExpressionTokenizer),define("zpt.ReactiveDictionary",c.ReactiveDictionary),define("zpt.version",c.version))},{"./context.js":87,"./expressions/evaluateHelper.js":104,"./expressions/expressionBuilder.js":106,"./expressions/expressionTokenizer.js":107,"./i18n/i18n.js":131,"./i18n/i18nBundle.js":132,"./i18n/i18nHelper.js":133,"./logHelper.js":134,"./parsers/parser.js":152,"./scopes/reactiveDictionary.js":158,"./version.js":162}],136:[function(a,b,c){var d=a("../context.js");a("../attributes/TAL/talDefine.js");b.exports=function(a){"use strict";var b=d.getConf().defineDelimiter,c=d.getConf().inDefineDelimiter,e=d.getConf().nocallVariableExpressionPrefix,f=d.getTags().talAutoDefine,g="";return a&&a.getAttribute(f)&&(g=a.getAttribute(f)),{put:function(a,d,f){""!==g&&(g+=b),g+=(f?e+c:"")+a+c+d},updateNode:function(a){if(g)return a.setAttribute(f,g),g}}}},{"../attributes/TAL/talDefine.js":78,"../context.js":87}],137:[function(a,b,c){"use strict";var d=function(){this.nonExpressionVars={},this.expressionVars={}};d.prototype.mustAddVar=function(a){return void 0===this.nonExpressionVars[a]&&void 0===this.expressionVars[a]},d.prototype.addAllVars=function(a,b){for(var c in a)this.add1Var(a[c],b)},d.prototype.add1ExpressionVar=function(a){this.expressionVars[a]=!0},d.prototype.add1NonExpressionVar=function(a){this.nonExpressionVars[a]=!0},d.prototype.add1Var=function(a,b){return(b.isLocalVar(a)?this.expressionVars:this.nonExpressionVars)[a]=!0,!0},b.exports=d},{}],138:[function(a,b,c){"use strict";var d=a("../../utils.js"),e=a("../../context.js"),f=function(a,b){if(this.id=a.id,this.var=a.var,this.currentElement=a.currentElement,this.animation=a.animation,this.animationCallback=a.animationCallback,a.search){if(this.id||this.var)throw"Error in action: you can not set a search and then and id: if you set a search ZPT-JS will set the id for you!";this.initializeUsingSearch(a.search,b)}};f.prototype.initializeUsingSearch=function(a,b){this.id="",this.var=b;for(var c=0;c<a.length;++c){var f=a[c];if(d.isPlainObject(f)?f=this.search(this.var,f):f===e.getConf().firstIndexIdentifier?f=0:f===e.getConf().lastIndexIdentifier&&(f=this.var.length-1),Number.isInteger(f))this.id+="["+f+"]";else{var g=0===c?"":".";this.id+=g+f}this.var=this.var[f]}},f.prototype.search=function(a,b){for(var c=0;c<a.length;++c){var d=a[c];if(f.elementMaches(d,b))return c}throw"No record found matching your criteria!"},f.elementMaches=function(a,b){if(void 0==b)throw"Expression to match must not be null!";if(Array.isArray(b))throw"Expression "+d.genericToString(b)+" to match must not be an array!";if(d.isPlainObject(b)){for(var c in b)if(b[c]!==a[c])return!1;return!0}return a===b},f.prototype.getValue=function(a){return void 0===this.var?a[this.id]:this.var},f.prototype.resolveThisNode=function(a,b){var c=b.findNodeById(a.nodeId);return c?(b.addUpdatedToStatistics(),c):(b.addRemovedToStatistics(),!1)},f.prototype.attributeInstanceIsRelated=function(a){throw"Error: attributeInstanceIsRelated must be implemented!"},f.prototype.updateDictionary=function(){throw"Error: updateDictionary must be implemented!"},f.prototype.updateHTML=function(){throw"Error: updateHTML must be implemented!"},b.exports=f},{"../../context.js":87,"../../utils.js":161}],139:[function(a,b,c){"use strict";var d=a("./abstractAction.js"),e=a("../../utils.js"),f=a("../../context.js"),g=function(a,b){d.call(this,a,b),this.index=a.index};g.prototype=Object.create(d.prototype),g.getIndexNumericValue=function(a){if(void 0!==a)return a===f.getConf().firstIndexIdentifier?0:a===f.getConf().lastIndexIdentifier?-1:a},g.prototype.getIndexNumericValue=function(){return g.getIndexNumericValue(this.index)},g.prototype.getIndexToUse=function(a){if(void 0===this.index&&void 0===this.currentElement)throw"index or currentElement must be defined in "+this.id+" array action!";var b=this.getIndexNumericValue();if(void 0!==b)return b;for(var c=this.getValue(a),f=0;f<c.length;++f){var g=c[f];if(d.elementMaches(g,this.currentElement))return f}throw"currentElement "+e.genericToString(this.currentElement)+" not found in "+this.id+" array action!"},g.prototype.attributeInstanceIsRelated=function(a){return g.staticAttributeInstanceIsRelated(a)},g.staticAttributeInstanceIsRelated=function(a){return"tal:repeat"===a.type},g.prototype.updateDictionary=function(){throw"Error: updateDictionary must be implemented!"},g.prototype.updateHTML=function(){throw"Error: updateHTML must be implemented!"},g.prototype.resolveChildNode=function(a,b){var c=b.findNodeById(a.nodeId);return c?(b.addUpdatedToStatistics(),-1===this.indexToUse?null:this.getIndexOfLoop(c.parentNode,a.nodeId,this.indexToUse)):(b.addRemovedToStatistics(),!1)},g.prototype.getIndexOfLoop=function(a,b,c){for(var d=a.childElementCount,e=0;e<d;++e){if(a.children[e].getAttribute(f.getTags().id)===b)return a.children[1+e+c]}return null},b.exports=g},{"../../context.js":87,"../../utils.js":161,"./abstractAction.js":138}],140:[function(a,b,c){"use strict";var d=a("./abstractAction.js"),e=function(a,b){d.call(this,a,b),this.property=a.property,this.id+="."+a.property};e.prototype=Object.create(d.prototype),e.prototype.attributeInstanceIsRelated=function(a){return!0},e.prototype.updateHTML=function(a,b,c){var d=this.resolveThisNode(a,b);if(!d)throw"No node found to update";return b.updateNode(d),b.runAnimation(c,d),!0},b.exports=e},{"./abstractAction.js":138}],141:[function(a,b,c){"use strict";var d=a("./abstractArrayAction.js"),e=a("../../context.js"),f=a("../../parsers/parserNodeRenderer.js"),g=a("../../utils.js"),h=function(a,b){d.call(this,a,b),this.newElement=a.newElement};h.prototype=Object.create(d.prototype),h.prototype.updateDictionary=function(a){this.indexToUse=this.getIndexToUse(a);var b=this.getValue(a);-1===this.indexToUse?(this.resolvedIndex=b.length,b.push(this.newElement)):(this.resolvedIndex=this.indexToUse,b.splice(this.indexToUse,0,this.newElement))},h.prototype.updateHTML=function(a,b,c){var d=this.resolveThisNode(a,b);if(!d)throw"No node found to clone";var g=e.getTags(),h=d.parentNode,i=f.cloneAndConfigureNode(d,!0,g,d.getAttribute(g.id));f.configureNodeForNewItem(i,g,h,a,this.resolvedIndex);var j=-1===this.indexToUse?null:h.children[1+this.indexToUse];return h.insertBefore(i,j),b.updateNode(i),b.runAnimation(c,i),!0},h.buildMultiple=function(a,b){var c=[],d=g.copyArray(a.newElement);a.newElement=d[0];var e=new h(a,b);c.push(e);for(var f=e.getIndexNumericValue(),i=-1===f,j=1;j<d.length;++j){var k=d[j],l=g.deepExtend(a);l.newElement=k,l.index=i?-1:f+j;var m=new h(l,b);c.push(m)}return c},b.exports=h},{"../../context.js":87,"../../parsers/parserNodeRenderer.js":153,"../../utils.js":161,"./abstractArrayAction.js":139}],142:[function(a,b,c){"use strict";var d=a("./abstractArrayAction.js"),e=a("../../utils.js"),f=(a("../../attributes/attributeIndex.js"),a("../nodeRemover.js")),g=function(a,b){d.call(this,a,b)};g.prototype=Object.create(d.prototype),g.prototype.updateDictionary=function(a){this.indexToUse=this.getIndexToUse(a),this.getValue(a).splice(this.indexToUse,1)},g.prototype.updateHTML=function(a,b,c,d){var e=this.resolveChildNode(a,b);if(!e)throw"No node found to be deleted at this index: "+this.indexToUse;return b.runAnimation(c,e,function(){f.removeNode(e),b.continueUpdateHTML(d)}),!1},g.buildMultiple=function(a,b){for(var c=[],d=a.index?"index":"currentElement",f=e.copyArray(a[d]),h=0;h<f.length;++h){var i=f[h],j=e.deepExtend(a);j[d]=i;var k=new g(j,b);k.index=k.getIndexToUse(b),c.push(k)}return c.sort(function(a,b){return b.index-a.index}),c},b.exports=g},{"../../attributes/attributeIndex.js":83,"../../utils.js":161,"../nodeRemover.js":151,"./abstractArrayAction.js":139}],143:[function(a,b,c){"use strict";var d=a("./abstractArrayAction.js"),e=function(a,b){d.call(this,a,b),this.newElement=a.newElement};e.prototype=Object.create(d.prototype),e.prototype.updateDictionary=function(a){this.indexToUse=this.getIndexToUse(a),this.getValue(a)[this.indexToUse]=this.newElement},e.prototype.updateHTML=function(a,b,c){var d=this.resolveChildNode(a,b);if(!d)throw"No node found to be updated at this index: "+this.indexToUse;return b.updateNode(d,!0),b.runAnimation(c,d),!0},b.exports=e},{"./abstractArrayAction.js":139}],144:[function(a,b,c){"use strict";b.exports=function(){return{animate:function(a,b,c){if(!a.animation)return void(c&&c());b.style.animation="none",setTimeout(function(){var d=function(a){c&&c()};b.addEventListener("animationend",d),b.style.animation=a.animation},10)},reset:function(a){a.style.animation="none"}}}()},{}],145:[function(a,b,c){"use strict";var d=a("./arrayUpdate.js"),e=a("./arrayDelete.js"),f=a("./arrayCreate.js"),g=a("./objectUpdate.js"),h=a("./objectDelete.js");b.exports=function(){return{build:function(a,b){switch(a.action){case"updateArray":return new d(a,b);case"deleteArray":return Array.isArray(a.index)||Array.isArray(a.currentElement)?e.buildMultiple(a,b):new e(a,b);case"createArray":return Array.isArray(a.newElement)?f.buildMultiple(a,b):new f(a,b);case"updateObject":return a.editedProperties||a.deletedProperties?g.buildMultiple(a,b):new g(a,b);case"deleteObject":return new h(a,b);default:throw"Unknown dictionary action: "+a.action}}}}()},{"./arrayCreate.js":141,"./arrayDelete.js":142,"./arrayUpdate.js":143,"./objectDelete.js":146,"./objectUpdate.js":147}],146:[function(a,b,c){"use strict";var d=a("./abstractObjectAction.js"),e=function(a,b){d.call(this,a,b)};e.prototype=Object.create(d.prototype),e.prototype.updateDictionary=function(a){delete this.getValue(a)[this.property]},b.exports=e},{"./abstractObjectAction.js":140}],147:[function(a,b,c){"use strict";var d=a("./abstractObjectAction.js"),e=a("./objectDelete.js"),f=a("../../utils.js"),g=function(a,b){d.call(this,a,b),this.newElement=a.newElement};g.prototype=Object.create(d.prototype),g.prototype.updateDictionary=function(a){this.getValue(a)[this.property]=this.newElement},g.buildMultiple=function(a,b){var c=[],d=f.deepExtend(a),h=d.editedProperties,i=d.deletedProperties;if(delete d.editedProperties,delete d.deletedProperties,h){d.action="updateObject";for(var j in h){var k=h[j],l=f.deepExtend(d);l.property=j,l.newElement=k;var m=new g(l,b);c.push(m)}}if(i){d.action="deleteObject";for(var n=0;n<i.length;++n){var o=i[n];l=f.deepExtend(d),l.property=o,m=new e(l,b),c.push(m)}}return c},b.exports=g},{"../../utils.js":161,"./abstractObjectAction.js":140,"./objectDelete.js":146}],148:[function(a,b,c){"use strict";var d=a("./autoDefineHelper.js"),e=a("../expressions/expressionBuilder.js"),f=a("../context.js"),g=function(a,b,c){var d=a,f=b,h=e.build(f),i=function(){return h},j=h.evaluate(c),k=function(){return j},l=-1,m=j?j.length-1:-1,n=0;return{setOffset:function(a){n=a},repeat:function(){return l++<m?g.buildAutoDefineHelper(d,l,f,j.length,n):null},getItems:k,getExpression:i}};g.buildAutoDefineHelper=function(a,b,c,e,f){var g=new d;return g.put(a+"-index",b),g.put(a+"-all",c),g.put(a,a+"-all["+a+"-index]"),g.put(a+"-repeat","context/repeat("+a+"-index,"+e+","+f+")"),g},g.setAutoDefineAttribute=function(a,b,c,d,e,g){a.setAttribute(f.getTags().talAutoDefine,b+"-index "+c+";"+b+"-all "+d+";"+b+" "+b+"-all["+b+"-index];"+b+"-repeat context/repeat("+b+"-index,"+e+","+g+")")},b.exports=g},{"../context.js":87,"../expressions/expressionBuilder.js":106,"./autoDefineHelper.js":136}],149:[function(a,b,c){"use strict";var d=function(a,b,c){this.currentIndex=a,this.itemsLength=b,this.offset=c};d.prototype.index=function(){return this.offset+this.currentIndex},d.prototype.number=function(){return this.index()+1},d.prototype.even=function(){return this.index()%2==0},d.prototype.odd=function(){return this.index()%2==1},d.prototype.start=function(){return 0===this.index()},d.prototype.end=function(){return this.currentIndex===this.itemsLength-1},d.prototype.length=function(){return this.offset+this.itemsLength},d.prototype.letter=function(){return this.formatLetter(this.index(),"a")},d.prototype.Letter=function(){return this.formatLetter(this.index(),"A")},d.prototype.formatLetter=function(a,b){var c=a,d="",e=b.charCodeAt(0),f=c%26;for(d+=String.fromCharCode(e+f);c>25;)c/=26,f=(c-1)%26,d+=String.fromCharCode(e+f);return d.split("").reverse().join("")},d.prototype.roman=function(){return this.formatRoman(this.index()+1,0)},d.prototype.Roman=function(){return this.formatRoman(this.index()+1,1)},d.prototype.formatRoman=function(a,b){var c=a;if(c>=4e3)return"Overflow formatting roman!";for(var d="",e=0;0!==c;e++){var f=c%10;f>0&&(f--,d+=this.romanArray[e][f][b]),c=c/10>>0}return d.split("").reverse().join("")},d.prototype.romanArray=[[["i","I"],["ii","II"],["iii","III"],["vi","VI"],["v","V"],["iv","IV"],["iiv","IIV"],["iiiv","IIIV"],["xi","XI"]],[["x","X"],["xx","XX"],["xxx","XXX"],["lx","LX"],["l","L"],["xl","XL"],["xxl","XXL"],["xxxl","XXXL"],["cx","CX"]],[["c","C"],["cc","CC"],["ccc","CCC"],["dc","DC"],["d","D"],["cd","CD"],["ccd","CCD"],["cccd","CCCD"],["mc","MC"]],[["m","M"],["mm","MM"],["mmm","MMM"]]],b.exports=d},{}],150:[function(a,b,c){"use strict";var d=a("../context.js"),e=function(a,b){var c=d.getTags();this.talDefine=a.getAttribute(c.talDefine),this.talCondition=a.getAttribute(c.talCondition),this.talRepeat=a.getAttribute(c.talRepeat),this.talContent=a.getAttribute(c.talContent),this.talAttributes=a.getAttribute(c.talAttributes),this.talOmitTag=a.getAttribute(c.talOmitTag),this.talReplace=a.getAttribute(c.talReplace),this.talOnError=a.getAttribute(c.talOnError),this.talDeclare=a.getAttribute(c.talDeclare),this.metalDefineMacro=a.getAttribute(c.metalDefineMacro),this.metalUseMacro=a.getAttribute(c.metalUseMacro),this.metalDefineSlot=a.getAttribute(c.metalDefineSlot),this.metalFillSlot=a.getAttribute(c.metalFillSlot),this.i18nDomain=a.getAttribute(c.i18nDomain),this.i18nLanguage=a.getAttribute(c.i18nLanguage),this.qdup=a.getAttribute(c.qdup),b&&this.isDynamicContentOn()&&(this.id=a.getAttribute(c.id),this.id||(this.id=d.nextExpressionCounter(),a.setAttribute(c.id,this.id)))};e.prototype.isDynamicContentOn=function(){return this.talDefine||this.talCondition||this.talRepeat||this.talContent||this.talAttributes||this.talOmitTag||this.talReplace||this.talOnError||this.talDeclare||this.metalUseMacro||this.metalFillSlot||this.i18nDomain||this.i18nLanguage},b.exports=e},{"../context.js":87}],151:[function(a,b,c){"use strict";var d=a("../context.js");b.exports=function(){var a=d.getTags(),b=function(a){if(Array.isArray(a)){for(var b=[],d=0;d<a.length;d++)b=b.concat(c(a[d]));return b}return c(a)},c=function(b){var c=[];return c=c.concat(e(b,a.qdup)),c=c.concat(e(b,a.metalMacro))},e=function(a,b){var c=a.querySelectorAll("*["+b+"]");return g(c)},f=function(a){var b=a.parentNode.querySelectorAll("["+d.getTags().relatedId+'="'+a.getAttribute(d.getTags().id)+'"]');return g(b)},g=function(a){for(var b,c=[],d=0;b=a[d++];){var e=i(b);void 0!==e&&c.push(e),h(b,c),b.parentNode.removeChild(b)}return c},h=function(a,b){for(var c,e=d.getTags().id,f=a.querySelectorAll("["+e+"]"),g=0;c=f[g++];)b.push(c.getAttribute(e))},i=function(a){var b=d.getTags().id;return a.hasAttribute(b)?a.getAttribute(b):void 0};return{removeGeneratedNodes:b,removeNode:function(a){var b=i(a),c=a.parentNode;return c&&c.removeChild(a),b},removeMultipleNodes:function(a,c){var d=f(a);return c&&(d=d.concat(b(a))),d}}}()},{"../context.js":87}],152:[function(a,b,c){"use strict";var d=a("../context.js"),e=a("./parserRenderer.js"),f=a("./parserUpdater.js"),g=a("./parserPreloader.js"),h=a("../scopes/reactiveDictionary.js");b.exports=function(){var a={command:void 0,root:void 0,dictionary:{},indexExpressions:!0},b=function(b){a.command=b.command||"fullRender",a.root=void 0===b.root?a.root:b.root,a.dictionary=(b.dictionary instanceof h?b.dictionary._getNonReactiveDictionary():b.dictionary)||a.dictionary,a.indexExpressions=void 0===b.indexExpressions?a.indexExpressions:b.indexExpressions},c=function(b,c,d,e,f,h){var i=new g(a,b,c,d,e,f,h);return i.run(),i},i=function(b,c,d,f,g){var h=new e(a,b,c,d,f,g);return h.run(),h},j=function(b,c){var d=new f(b,c,a);return d.run(),d};return{run:function(e){var f=e||{};b(f);var g=f.command||"fullRender";switch(g){case"preload":return c(f.callback,f.failCallback,f.declaredRemotePageUrls||[],f.i18n,f.notRemoveGeneratedTags,f.maxFolderDictionaries);case"fullRender":case"partialRender":return i("partialRender"===g?f.target:a.root,f.dictionaryExtension,f.notRemoveGeneratedTags,a.indexExpressions&&"fullRender"===g,void 0===f.goToURLHash&&1===d.nextRunCounter());case"update":return j(f.dictionaryChanges,f.dictionaryActions);default:throw"Unknown command: "+g}},getOptions:function(){return a}}}()},{"../context.js":87,"../scopes/reactiveDictionary.js":158,"./parserPreloader.js":154,"./parserRenderer.js":155,"./parserUpdater.js":156}],153:[function(a,b,c){(function(c){(function(){"use strict";var c=a("../context.js"),d=a("../logHelper.js"),e=a("./nodeAttributes.js"),f=a("../cache/attributeCache.js"),g=a("../attributes/attributeIndex.js"),h=a("./autoDefineHelper.js"),i=a("../expressions/evaluateHelper.js"),j=a("./loop.js"),k=a("../attributes/I18N/i18nDomain.js"),l=a("../attributes/I18N/i18nLanguage.js"),m=a("../attributes/METAL/metalDefineMacro.js"),n=a("../attributes/METAL/metalUseMacro.js"),o=a("../attributes/TAL/talAttributes.js"),p=a("../attributes/TAL/talCondition.js"),q=a("../attributes/TAL/talContent.js"),r=a("../attributes/TAL/talDefine.js"),s=a("../attributes/TAL/talOmitTag.js"),t=a("../attributes/TAL/talOnError.js"),u=a("../attributes/TAL/talRepeat.js"),v=a("../attributes/TAL/talReplace.js"),w=a("../attributes/TAL/talDeclare.js"),x=a("../attributes/TAL/contentHelper.js"),y=function(a,b,j){var z=a,A=b,B=j,C=c.getTags(),D=function(){E(z)},E=function(a){try{var b=new e(a,B);A.startElement(),null!=b.talRepeat?G(a,b):I(a,b),A.endElement()}catch(b){if(!H(a,b))throw b}},F=function(a){var b=-1,c=a;do{if(++b,!(c=c.nextElementSibling))return{nextSibling:null,counter:b}}while(c.hasAttribute(C.qdup));return{nextSibling:c,counter:b}},G=function(a,b){var c=f.getByAttributeClass(u,b.talRepeat,a,B,A),d=c.process(A,a);if(i.isDefault(d.getItems()))return I(a,b),!0;a.removeAttribute(C.talRepeat),a.removeAttribute("style"),a.setAttribute(C.qdup,1);var e=a.getAttribute("id");a.removeAttribute("id");var g=a.getAttribute(C.id);a.removeAttribute(C.id);var h=F(a),j=h.nextSibling;d.setOffset(h.counter);for(var k;k=d.repeat();){A.startElement();var l=y.cloneAndConfigureNode(a,B,C,g);if(a.parentNode.insertBefore(l,j),!I(l,b,k))return A.endElement(),!1;A.endElement()}return a.style.display="none",a.setAttribute(C.talRepeat,b.talRepeat),""!==e&&null!=e&&a.setAttribute("id",e),""!==g&&null!=g&&a.setAttribute(C.id,g),a.removeAttribute(C.qdup),!0},H=function(a,b){try{var e={type:b.name,value:b.message,traceback:b.stack};A.set(c.getConf().templateErrorVarName,e);var f=A.get(c.getConf().onErrorVarName);return null==f?(d.fatal(b),A.endElement(),!1):(d.error(b),A.endElement(),x.updateNode(a,A.get(c.getConf().onErrorStructureVarName),f),f)}catch(a){throw d.fatal(a),A.endElement(),a}},I=function(a,b,c){if(b.metalFillSlot||!P(a,b.metalDefineMacro))return!1;var d=c||new h(a);if(!O(a,b.talDeclare,d))return!1;if(K(a,b.talOnError,d),N(a,b.i18nLanguage,d),M(a,b.i18nDomain,d),L(a,d),y.processDefine(a,b.talDefine,!1,A,B),!R(a,b.talCondition))return!1;var e=T(a,b.talOmitTag),f=S(a,b.talReplace);return e||f||(V(a,b.talAttributes),U(a,b.talContent)||J(a)),Q(a,b.metalUseMacro,b.talDefine,d),!0},J=function(a){var b=a.childNodes;if(b)for(var c=0;c<b.length;c++){var d=b[c];d&&1===d.nodeType&&!d.getAttribute(C.qdup)&&E(d)}},K=function(a,b,c){if(b){return f.getByAttributeClass(t,b,a,B,A).putToAutoDefineHelper(c)}},L=function(a,b){var c=b.updateNode(a);if(c){return f.getByAttributeClass(r,c,a,B,A).process(A,!1)}},M=function(a,b,c){if(b){return f.getByAttributeClass(k,b,a,B,A).putToAutoDefineHelper(A,c)}},N=function(a,b,c){if(b){return f.getByAttributeClass(l,b,a,B,A).putToAutoDefineHelper(c)}},O=function(a,b,c){return!b||f.getByAttributeClass(w,b,a,B,A).process(A,c)},P=function(a,b){return!b||m.build(b).process(A,a)},Q=function(a,b,c,d){if(b){var e=n.build(b,c,A),f=e.process(A,a,d,B);return f.setAttribute(C.qdup,1),B&&g.add(a,e,A),E(f)}},R=function(a,b){return!b||f.getByAttributeClass(p,b,a,B,A).process(A,a)},S=function(a,b){return!!b&&f.getByAttributeClass(v,b,a,B,A).process(A,a)},T=function(a,b){return null!=b&&f.getByAttributeClass(s,b,a,B,A).process(A,a,W)},U=function(a,b){return!!b&&f.getByAttributeClass(q,b,a,B,A).process(A,a)},V=function(a,b){if(b){return f.getByAttributeClass(o,b,a,B,A).process(A,a)}},W={run:D,defaultContent:J};return W};y.processDefine=function(a,b,c,d,e){if(b){return f.getByAttributeClass(r,b,a,e,d).process(d,c)}},y.cloneAndConfigureNode=function(a,b,d,e){var f=a.cloneNode(!0);return"form"in f&&(f.checked=!1),b&&(f.setAttribute(d.id,c.nextExpressionCounter()),f.setAttribute(d.relatedId,e)),f},y.configureNodeForNewItem=function(a,b,c,d,e){a.removeAttribute(b.talRepeat),a.removeAttribute("style"),a.setAttribute(b.qdup,1),j.setAutoDefineAttribute(a,d.attributeInstance.getVarName(),e,d.attributeInstance.getExpressionString(),c.childElementCount,0)},b.exports=y}).call(this)}).call(this,a("_process"))},{"../attributes/I18N/i18nDomain.js":68,"../attributes/I18N/i18nLanguage.js":69,"../attributes/METAL/metalDefineMacro.js":70,"../attributes/METAL/metalUseMacro.js":72,"../attributes/TAL/contentHelper.js":73,"../attributes/TAL/talAttributes.js":74,"../attributes/TAL/talCondition.js":75,"../attributes/TAL/talContent.js":76,"../attributes/TAL/talDeclare.js":77,"../attributes/TAL/talDefine.js":78,"../attributes/TAL/talOmitTag.js":79,"../attributes/TAL/talOnError.js":80,"../attributes/TAL/talRepeat.js":81,"../attributes/TAL/talReplace.js":82,"../attributes/attributeIndex.js":83,"../cache/attributeCache.js":84,"../context.js":87,"../expressions/evaluateHelper.js":104,"../logHelper.js":134,"./autoDefineHelper.js":136,"./loop.js":148,"./nodeAttributes.js":150,_process:65}],154:[function(a,b,c){"use strict";var d=a("../context.js"),e=a("../logHelper.js"),f=a("./nodeRemover.js"),g=a("../scopes/scope.js"),h=a("../i18n/i18nHelper.js"),i=a("../resolver.js"),j=(a("../attributes/attributeIndex.js"),function(a,b,c,j,k,l,m){var n=a,o=b,p=c,q=j,r=k,s=l,t=m;return{run:function(){try{s||f.removeGeneratedNodes(n.root);var a=new g(n.dictionary,n.dictionaryExtension,!0);a.loadFolderDictionariesAsync(t,window.location,function(){d.setFolderDictionaries(a.folderDictionaries),h.loadAsyncAuto(n.dictionary,r,function(){i.loadRemotePages(a,q,o,p)},p)})}catch(a){throw e.fatal("Exiting init method of ZPT with errors: "+a),a}}}});b.exports=j},{"../attributes/attributeIndex.js":83,"../context.js":87,"../i18n/i18nHelper.js":133,"../logHelper.js":134,"../resolver.js":157,"../scopes/scope.js":159,"./nodeRemover.js":151}],155:[function(a,b,c){(function(c){(function(){"use strict";var c=a("../context.js"),d=a("../logHelper.js"),e=a("../cache/attributeCache.js"),f=a("../attributes/attributeIndex.js"),g=a("./nodeRemover.js"),h=a("../scopes/scopeBuilder.js"),i=a("./parserNodeRenderer.js"),j=function(a,b,j,k,l,m){var n=a,o=b,p=j,q=k,r=l,s=m,t=function(){u()},u=function(){try{if(!o)throw"Unable to process null root or target!";q||g.removeGeneratedNodes(o),r&&(f.reset(),e.reset()),v(),s&&x()}catch(a){d.fatal("Exiting run method of ZPT with errors: "+a),c.errorFunction(a)}},v=function(){if(Array.isArray(o))for(var a=0;a<o.length;a++)w(o[a]);else w(o)},w=function(a){new i(a,h.build(n,a,p,"partialRender"===n.command),n.indexExpressions).run()},x=function(){var a=decodeURI(window.location.hash).substr(1);if(a){if(!window.document.getElementById(a))return void d.warn('Unable to go to URL hash. Element with id "'+a+'" not found!');window.location.href="#"+a}};return{run:t}};b.exports=j}).call(this)}).call(this,a("_process"))},{"../attributes/attributeIndex.js":83,"../cache/attributeCache.js":84,"../context.js":87,"../logHelper.js":134,"../scopes/scopeBuilder.js":160,"./nodeRemover.js":151,"./parserNodeRenderer.js":153,_process:65}],156:[function(a,b,c){"use strict";var d=a("../context.js"),e=a("../logHelper.js"),f=a("../attributes/attributeIndex.js"),g=a("../scopes/scopeBuilder.js"),h=a("./parserNodeRenderer.js"),i=a("./nodeRemover.js"),j=a("../utils.js"),k=a("./dictionaryActions/dictionaryActionBuilder.js"),l=a("./dictionaryActions/abstractArrayAction.js"),m=function(a,b,c){var m,n,o,p=a,q=b,r=c,s={};!function(){if(o=[],q)for(var a=0;a<q.length;++a){var b=q[a],c=k.build(b,r.dictionary);Array.isArray(c)?o=o.concat(c):o.push(c)}}();var t=function(){return n},u=function(){p&&j.extend(r.dictionary,p)},v=function(){++n.totalUpdates},w=function(){++n.removedNodeUpdates},x=function(){try{if(!r.indexExpressions)throw"Unable to update, no index built! Set indexExpressions to true!";m={},n={totalUpdates:0,removedNodeUpdates:0},y()}catch(a){e.fatal("Exiting run method of update command of ZPT with errors: "+a),d.errorFunction(a)}},y=function(){z(0)&&D()},z=function(a){for(var b=a;b<o.length;++b){var c=o[b];c.updateDictionary(r.dictionary);var d=f.getVarsList(c.id);if(d&&!A(c,b,0,d))return!1}return!0},A=function(a,b,c,d){for(var e=c;e<d.length;e++){var f=d[e];if(a.attributeInstanceIsRelated(f.attributeInstance)){if(!a.updateHTML(f,M,a,{actionInstance:a,i:b,initialJ:e,list:d}))return!1}else j.isFunction(f.attributeInstance.updatableFromAction)&&!f.attributeInstance.updatableFromAction(M,H(f.nodeId))||F(a.id)}return!0},B=function(a){A(a.actionInstance,a.i,a.initialJ+1,a.list),z(a.i+1)&&D()},C=function(a,b,c){var e=function(){c?c():d.getAnimationManager().reset(b),a.animationCallback&&a.animationCallback()};d.getAnimationManager().animate(a,b,e)},D=function(){u();for(var a in p)E(a);for(var b in m){var c=m[b];for(var d in c)J(c[d])}},E=function(a){var b=f.getVarsList(a);G(a,b)},F=function(a){var b=f.getVarsList(a),c=b.filter(function(a,b,c){return!l.staticAttributeInstanceIsRelated(a.attributeInstance)});G(a,c)},G=function(a,b){if(b)for(var c=b.length,d=0;d<c;d++)I(a,b[d])},H=function(a){return window.document.querySelector("["+d.getTags().id+'="'+a+'"]')},I=function(a,b){var c=b.attributeInstance;if(!H(b.nodeId))return++n.removedNodeUpdates,!1;var d=m[b.nodeId];return d||(d={},m[b.nodeId]=d),d[b.groupId?c.type+"/"+b.groupId:c.type]=b,!0},J=function(a){var b=a.attributeInstance,c=H(a.nodeId);if(!c)return++n.removedNodeUpdates,!1;++n.totalUpdates;var d=K(c,a.nodeId);return b.update(M,c,d,a),!0},K=function(a,b){b||(b=a.getAttribute(d.getTags().id));var c=s[b];return c||(c=g.build(r,a,void 0,!0),s[b]=c),c},L=function(a,b){i.removeMultipleNodes(a,b),new h(a,g.build(r,a,void 0,!0),!0).run()},M={run:x,updateNode:L,findNodeById:H,getNodeScope:K,getStatistics:t,addUpdatedToStatistics:v,addRemovedToStatistics:w,runAnimation:C,continueUpdateHTML:B};return M};b.exports=m},{"../attributes/attributeIndex.js":83,"../context.js":87,"../logHelper.js":134,"../scopes/scopeBuilder.js":160,"../utils.js":161,"./dictionaryActions/abstractArrayAction.js":139,"./dictionaryActions/dictionaryActionBuilder.js":145,"./nodeRemover.js":151,"./parserNodeRenderer.js":153}],157:[function(a,b,c){var d=a("./utils.js"),e=a("./context.js"),f=a("./expressions/expressionBuilder.js");b.exports=function(){"use strict";var a={},b={},c=function(b,c){var d=a[b];return d||(d=k(b,c)),d?d.cloneNode(!0):void 0},g=function(a,b){var c=a.evaluate(b);return c?i(c,b):{macroId:null,url:null}},h=function(a,b){var c=f.build(a);return g(c,b)},i=function(a,b){var c=a.indexOf(e.getConf().macroDelimiter);return-1===c?{macroId:a,url:null}:{macroId:a.substring(0,c),url:n(a.substring(1+c))}},j=function(a){return"["+r(e.getTags().metalDefineMacro)+"='"+a+"']"},k=function(a,b){var c=i(a,b);if(c.url)return l(a,c);var d=b.get(e.getConf().externalMacroUrlVarName);if(d){c.url=d;var f=l(a,c);if(f)return f}var g=c.macroId,h=j(g),k=window.document.querySelector(h);if(!k)throw"Node using selector '"+h+"' is null!";return p(k.cloneNode(!0),g,a)},l=function(a,c){var d=b[c.url];if(!d)throw"Macros in URL "+c.url+" not preloaded!";var e=j(c.macroId),f=d.querySelector(e);if(f)return p(f.cloneNode(!0),c.macroId,a)},m=function(a,b){for(var c,d=b.slice(),f=document.querySelectorAll("["+r(e.getTags().metalUseMacro)+"]"),g=0;c=f[g++];){var i=c.getAttribute(e.getTags().metalUseMacro);try{var j=h(i,a),k=j.url;k&&-1===d.indexOf(k)&&d.push(k)}catch(a){}}return d},n=function(a){return a.startsWith("/")?a:e.getConf().externalMacroPrefixURL+a},o=function(a,c,f,g){var h=m(a,c),i=h.length;if(b={},!i)return void(f&&d.isFunction(f)&&f());for(var j=0;j<h.length;j++){var k=n(h[j]);d.ajax({url:k,done:function(a){var c=document.createElement("div");c.innerHTML=a,b[this.url]=c,0==--i&&f&&d.isFunction(f)&&f()},fail:function(a,b,c){e.asyncError(k,c,g)}})}},p=function(b,c,d){return b.removeAttribute(e.getTags().metalDefineMacro),b.setAttribute(e.getTags().metalMacro,c),a[d]=b,b},q=function(a,b){var c=g(a,b);return c.url?c.macroId+e.getConf().macroDelimiter+c.url:c.macroId},r=function(a){return a.replace(/:/gi,"\\:")};return{getNode:c,loadRemotePages:o,getMacroData:i,getMacroKey:q,filterSelector:r}}()},{"./context.js":87,"./expressions/expressionBuilder.js":106,"./utils.js":161}],158:[function(a,b,c){"use strict";var d=a("../main.js"),e=function(a,b){var c=this;this._privateScope={nonReactiveDictionary:a,autoCommit:!0,dictionaryChanges:{},dictionaryActions:[],commit:function(){d.run({command:"update",dictionaryChanges:c._privateScope.dictionaryChanges,dictionaryActions:c._privateScope.dictionaryActions}),c._privateScope.dictionaryChanges={},c._privateScope.dictionaryActions=[]}},this._getNonReactiveDictionary=function(){return this._privateScope.nonReactiveDictionary},this._isAutoCommit=function(){return this._privateScope.autoCommit},this._setAutoCommit=function(a){this._privateScope.autoCommit=a},this._commit=function(){this._privateScope.commit()},this._addActions=function(a){c._privateScope.dictionaryActions=c._privateScope.dictionaryActions.concat(a),c._isAutoCommit()&&c._privateScope.commit()},this._addVariable=function(a,b){c._privateScope.nonReactiveDictionary[a]=b,this._defineProperty(this._privateScope.nonReactiveDictionary,a)},this._defineProperty=function(a,b){Object.defineProperty(c,b,{enumerable:!0,configurable:!0,get:function(){return a[b]},set:function(a){c._privateScope.dictionaryChanges[b]=a,c._isAutoCommit()&&c._privateScope.commit()}})},this._initialize=function(a){void 0!==b&&this._setAutoCommit(b);for(var d=Object.keys(a),e=0;e<d.length;e++){var f=d[e],g=Object.getOwnPropertyDescriptor(a,f);g&&!1===g.configurable||function(b){c._defineProperty(a,b)}(f)}},this._initialize(this._privateScope.nonReactiveDictionary)};b.exports=e},{"../main.js":135}],159:[function(a,b,c){"use strict";var d=a("../context.js"),e=a("../utils.js"),f=a("loadjs"),g=function(a,b,c,d){this.dictionary=a||{},this.dictionaryExtension=b||{},this.vars={},this.changesStack=[],this.nocallVars={},this.folderDictionaries=d||[],this.globalVarsExpressions={},c&&this.setCommonVars(),this.setMandatoryVars()};g.prototype.setMandatoryVars=function(){this.setVar(d.getConf().nothingVarName,d.getConf().nothingVarValue),this.setVar(d.getConf().defaultVarName,d.getConf().defaultVarValue)},g.prototype.setCommonVars=function(){window&&this.setVar(d.getConf().windowVarName,window),this.setVar(d.getConf().contextVarName,d)},g.prototype.startElement=function(){var a={varsToUnset:[],varsToSet:{},expressions:{},impliedDeclaredVars:[]};return this.changesStack.push(a),a},g.prototype.currentVars=function(){return this.changesStack[this.changesStack.length-1]},g.prototype.setVar=function(a,b){this.vars[a]=b},g.prototype.getWithoutEvaluating=function(a){var b;if(void 0!==(b=this.vars[a]))return b;if(void 0!==(b=this.dictionaryExtension[a]))return b;if(void 0!==(b=this.dictionary[a]))return b;for(var c=0;c<this.folderDictionaries.length;++c)if(void 0!==(b=this.folderDictionaries[c][a]))return b},g.prototype.get=function(a){var b=this.getWithoutEvaluating(a);return this.nocallVars[a]?b&&e.isFunction(b.evaluate)?b.evaluate(this):'Error evaluating property "'+a+'": '+b:b},g.prototype.unset=function(a){delete this.vars[a]},g.prototype.endElement=function(){for(var a=this.changesStack.pop(),b=a.varsToUnset,c=a.varsToSet,d=0;d<b.length;++d)this.unset(b[d]);for(var e in c){var f=c[e];this.setVar(e,f)}},g.prototype.set=function(a,b,c,d,e){var f=void 0===e?null:e;if(c)this.globalVarsExpressions[a]=f;else{var g=this.currentVars(),h=this.getWithoutEvaluating(a);null!=h?g.varsToSet[a]=h:g.varsToUnset.push(a),g.expressions[a]=f,this.isStrictMode()&&g.impliedDeclaredVars.push(a)}this.setVar(a,b),d&&(this.nocallVars[a]=!0)},g.prototype.loadFolderDictionariesAsync=function(a,b,c){if(!a)return void c();var d=this.buildUrlListOfFolderDictionaries(a,b);this.loadFolderDictionary(a,c,d,0)},g.prototype.loadFolderDictionary=function(a,b,c,d){var e=this,g=function(f,g){if(g&&window.folderDictionary&&e.folderDictionaries.push(window.folderDictionary),d===c.length)return void b();e.loadFolderDictionary(a,b,c,d)},h=c[d++];f(h,{success:function(){g(h,!0)},error:function(){g(h,!1)}})},g.prototype.buildUrlListOfFolderDictionaries=function(a,b){for(var c=[],d=0,e=b.pathname,f=e.lastIndexOf("/");-1!==f&&++d<=a;){var g=e.substr(0,f);c.push(b.origin+g+"/folderDictionary.js"),f=g.lastIndexOf("/")}return c},g.prototype.isStrictMode=function(){return d.isStrictMode()||this.get(d.getConf().strictModeVarName)},g.prototype.isValidVariable=function(a){if(!this.isStrictMode())return!0;var b=this.get(d.getConf().declaredVarsVarName);if(!(!b||!b.indexOf)&&-1!==b.indexOf(a))return!0;for(var c=this.changesStack.length-1;c>=0;--c){if(-1!==this.changesStack[c].impliedDeclaredVars.indexOf(a))return!0}return!1},g.prototype.getVarExpression=function(a){var b=this.getExpressionFromLocal(a);return void 0!==b?b:this.globalVarsExpressions[a]},g.prototype.getExpressionFromLocal=function(a){for(var b=this.changesStack.length-1;b>=0;--b){var c=this.changesStack[b],d=c.expressions[a];if(void 0!==d)return d}},g.prototype.isLocalVar=function(a){return void 0!==this.vars[a]},b.exports=g},{"../context.js":87,"../utils.js":161,loadjs:62}],160:[function(a,b,c){"use strict";var d=a("../context.js"),e=a("./scope.js"),f=a("../utils.js"),g=a("../parsers/parserNodeRenderer.js");b.exports=function(){var a=6,b=function(a,b,f,g){var h=new e(a.dictionary,f,!0,d.getFolderDictionaries());return g&&c(a,b,h),h},c=function(a,b,c){var e=j(a),f=m(),g=i(a,b,e),k=g.getAttribute(f),l=d.getTags().talDefine,n=d.getTags().talAutoDefine,o=b.parentNode,p=0,q=[];do{var r=o.getAttribute(l);r&&q.push(r);var s=o.getAttribute(n);s&&q.push(s);var t=o.getAttribute(f);if(t&&t===k)return h(c,q,o,a.indexExpressions);o=o.parentNode}while(9!==o.nodeType&&++p<100);throw"Error trying to update scope: root not found!"},h=function(a,b,c,d){for(var e=b.length-1;e>=0;e--){var f=b[e];g.processDefine(c,f,!0,a,d)}},i=function(a,b,c){if(!Array.isArray(a.root))return a.root;var d=m(),e=b,f=0;do{var g=e.getAttribute(d);if(g)return c[g];e=e.parentNode}while(9!==e.nodeType&&++f<100);throw"Error trying to get root: not found!"},j=function(a){var b={},c=a.root;if(Array.isArray(c))for(var d=0;d<c.length;d++)k(c[d],b);else k(c,b);return b},k=function(a,b){var c=l();b[c]=a,a.setAttribute(m(),c)},l=function(){return f.generateId(a)},m=function(){return d.getTags().rootKey};return{build:b}}()},{"../context.js":87,"../parsers/parserNodeRenderer.js":153,"../utils.js":161,"./scope.js":159}],161:[function(a,b,c){b.exports=function(){"use strict";var a=function(a,b){for(var c=b||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",d="",e=0;e<a;e++){var f=Math.floor(Math.random()*c.length);d+=c.substring(f,f+1)}return d},b=function(a){return"function"==typeof a&&"number"!=typeof a.nodeType},c=function(a){var b,c;return!(!a||"[object Object]"!==Object.prototype.toString.call(a))&&(!(b=d(a))||"function"==typeof(c=f.call(b,"constructor")&&b.constructor)&&g.call(c)===h)},d=Object.getPrototypeOf,e={},f=e.hasOwnProperty,g=f.toString,h=g.call(Object),i=function(a){a=a||{};for(var b=1;b<arguments.length;b++){var c=arguments[b];if(c)for(var d in c)c.hasOwnProperty(d)&&("object"==typeof c[d]?a[d]=i(a[d],c[d]):a[d]=c[d])}return a},j=function(a){a=a||{};for(var b=1;b<arguments.length;b++)if(arguments[b])for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a},k=function(a){if(!a)throw"Error trying to process ajax: no arguments!";if(!a.url)throw"Error trying to process ajax: no URL defined!";if(!a.done)throw"Error trying to process ajax: no done callback defined!";var b=new window.XMLHttpRequest;b.addEventListener("load",function(){this.status>=200&&this.status<400?a.done(a.parseJSON?JSON.parse(b.responseText):b.responseText):a.fail(void 0,void 0,this.statusText)}),a.fail&&b.addEventListener("error",a.fail),b.open("GET",a.url),b.send()},l=function(a){a.parseJSON=!0,k(a)},m=function(a,b){return a&&b&&"object"==typeof a&&"object"==typeof b?Object.keys(a).length===Object.keys(b).length&&Object.keys(a).reduce(function(c,d){return c&&m(a[d],b[d])},!0):a===b},n=function(a){for(var b=[],c=0;c<a.length;++c)b.push(a[c]);return b},o=function(a){if(void 0==a)return"undefined";if(Array.isArray(a)){for(var b="Array[ ",d=0;d<a.length;++d){b+=(0===d?"":", ")+o(a[d])}return b+=" ]"}return c(a)?JSON.stringify(a):a};return{generateId:a,isFunction:b,isPlainObject:c,deepExtend:i,extend:j,getJSON:l,ajax:k,deepEqual:m,copyArray:n,genericToString:o}}()},{}],162:[function(a,b,c){b.exports="0.40.3"},{}]},{},[56]);