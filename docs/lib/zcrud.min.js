!function r(o,i,s){function a(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=i[t]={exports:{}},o[t][0].call(n.exports,function(e){return a(o[t][1][e]||e)},n,n.exports,r,o,i,s)}return i[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t,n){function r(e,t){e&&s.extend(!0,this,e),this.parent=t,this.id="button-"+o.generateId()}var o=e("../pages/pageUtils.js"),i=e("../context.js"),s=e("../utils.js");r.prototype.type='"type" not set in button!',r.prototype.cssClass=void 0,r.prototype.getCssClass=function(){return this.cssClass||this.type},r.prototype.selector=void 0,r.prototype.getSelector=function(){return"button."+this.id},r.prototype.bindableIn={},r.prototype.notUseInPages=[],r.prototype.disabled=!1,r.prototype.textsBundle=void 0,r.prototype.getTextsBundle=function(){if(this.textsBundle)return this.textsBundle;throw'"textsBundle" property not set in '+this+"!"},r.doSuperClassOf=function(e){e.prototype=new r,e.prototype.constructor=e},r.prototype.isBindable=function(e){return!!this.bindableIn[e]},r.prototype.toString=function(){return this.type+" button ("+this.id+")"},r.prototype.checkComponents=function(){var e=this.parent.getPage(),t=e.componentsMap.validate();return!0===t||(i.showError(e.getOptions(),!1,t.message,t.translate),!1)},t.exports=r},{"../context.js":27,"../pages/pageUtils.js":54,"../utils.js":57}],2:[function(e,t,n){var a,u=e("../utils.js"),e=(a=function(e,t,n,r){r=r.buttons[e];if(r)return new r(t,n);throw"Unknown button type to build: "+e},{getButtonList:function(e,t,n,r){if(!e)throw'Undefined source in getButtonList method with type "'+t+'"!';for(var o=[],i=0;i<e.length;++i){var s=((e,t,n,r)=>{var o=void 0;if((o=u.isPlainObject(e)?a(e.type||"generic",e,n,r):a(e,{},n,r)).isBindable(t))return o;throw'Button "'+o+'" not bindable to type "'+t+'"!'})(e[i],t,n,r);-1==s.notUseInPages.indexOf(n.getType())&&o.push(s)}return o}});t.exports=e},{"../utils.js":57}],3:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="form_cancel",r.prototype.cssClass="zcrud-form-cancel-command-button",r.prototype.bindableIn={formToolbar:!0},r.prototype.getTextsBundle=function(){return{title:void 0,content:{translate:!0,text:"Cancel"}}},r.prototype.run=function(e,t,n){e.preventDefault(),e.stopPropagation(),t.cancelForm(e,n)},t.exports=r},{"../button.js":1}],4:[function(e,t,n){function r(e,t){i.call(this,e,t)}var o=e("../../context.js"),i=e("../button.js");i.doSuperClassOf(r),r.prototype.type="form_copySubformRows",r.prototype.cssClass="zcrud-copy-subform-rows-command-button",r.prototype.bindableIn={formToolbar:!0},r.prototype.getTextsBundle=function(){return{title:void 0,content:{translate:!0,text:this.title||"Copy rows"}}},r.prototype.run=function(e,t,n,r){e.preventDefault(),e.stopPropagation(),this.checkComponents()&&0==t.getField(this.target).addNewRowsFromSubform(this.source,this.onlySelected,this.removeFromSource,this.deselect).length&&o.showError(t.getOptions(),!1,"Please, select at least one item!")},t.exports=r},{"../../context.js":27,"../button.js":1}],5:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="form_submit",r.prototype.cssClass="zcrud-form-submit-command-button",r.prototype.bindableIn={formToolbar:!0},r.prototype.getTextsBundle=function(){return{title:void 0,content:{translate:!0,text:"delete"==this.parent.getType()?"Delete":"Save"}}},r.prototype.run=function(e,t,n){e.preventDefault(),e.stopPropagation(),t.getSubmitFunction().call(t,e,n)},t.exports=r},{"../button.js":1}],6:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("./button.js");o.doSuperClassOf(r),o.prototype.isBindable=function(){return!0},t.exports=r},{"./button.js":1}],7:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="list_addNewRow",r.prototype.cssClass="zcrud-new-row-command-button",r.prototype.bindableIn={listToolbar:!0},r.prototype.getTextsBundle=function(){return{title:{translate:!0,text:"Add new record"},content:{translate:!1,text:"+"}}},r.prototype.run=function(e,t){e.preventDefault(),e.stopPropagation(),t.getComponent("editing").addNewRow(e)},t.exports=r},{"../button.js":1}],8:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="list_deleteRow",r.prototype.cssClass="zcrud-delete-row-command-button",r.prototype.bindableIn={listRow:!0},r.prototype.getTextsBundle=function(){return{title:{translate:!1,text:"Delete record"},content:void 0}},r.prototype.run=function(e,t){e.preventDefault(),e.stopPropagation(),t.getComponent("editing").deleteRow(e)},t.exports=r},{"../button.js":1}],9:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="list_showCreateForm",r.prototype.cssClass="zcrud-new-command-button",r.prototype.bindableIn={listToolbar:!0},r.prototype.getTextsBundle=function(){return{title:{translate:!0,text:"Add new record"},content:{translate:!1,text:"+"}}},r.prototype.run=function(e,t){e.preventDefault(),e.stopPropagation(),t.showCreateForm(e)},t.exports=r},{"../button.js":1}],10:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="list_showDeleteForm",r.prototype.cssClass="zcrud-delete-command-button",r.prototype.bindableIn={listRow:!0},r.prototype.getTextsBundle=function(){return{title:{translate:!1,text:"Delete record"},content:void 0}},r.prototype.run=function(e,t){e.preventDefault(),e.stopPropagation(),t.showDeleteForm(e)},t.exports=r},{"../button.js":1}],11:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="list_showEditForm",r.prototype.cssClass="zcrud-edit-command-button",r.prototype.bindableIn={listRow:!0},r.prototype.getTextsBundle=function(){return{title:{translate:!1,text:"Edit record"},content:void 0}},r.prototype.run=function(e,t){e.preventDefault(),e.stopPropagation(),t.showEditForm(e)},t.exports=r},{"../button.js":1}],12:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="list_submit",r.prototype.cssClass="zcrud-save-command-button",r.prototype.bindableIn={listToolbar:!0},r.prototype.getTextsBundle=function(){return{title:void 0,content:{translate:!0,text:"Save"}}},r.prototype.run=function(e,t){e.preventDefault(),e.stopPropagation(),t.getComponent("editing").submit(e)},t.exports=r},{"../button.js":1}],13:[function(e,t,n){function r(e,t){i.call(this,e,t)}var o=e("../context.js"),i=e("./button.js");i.doSuperClassOf(r),r.prototype.type="redo",r.prototype.cssClass="zcrud-redo-command-button",r.prototype.bindableIn={formToolbar:!0,listToolbar:!0},r.prototype.disabled=!0,r.prototype.getTextsBundle=function(){return{title:void 0,content:{translate:!0,text:"Redo"}}},r.prototype.run=function(e,t){e.preventDefault(),e.stopPropagation(),o.getHistory().redo(t.getId())},t.exports=r},{"../context.js":27,"./button.js":1}],14:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="subform_addNewRow",r.prototype.cssClass="zcrud-new-row-command-button",r.prototype.bindableIn={subformToolbar:!0},r.prototype.notUseInPages=["delete"],r.prototype.getTextsBundle=function(){return{title:{translate:!0,text:"Add new record"},content:{translate:!1,text:"+"}}},r.prototype.run=function(e,t,n){e.preventDefault(),e.stopPropagation(),this.checkComponents()&&t.addNewRow(n)},t.exports=r},{"../button.js":1}],15:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="subform_deleteRow",r.prototype.cssClass="zcrud-delete-row-command-button",r.prototype.bindableIn={subformRow:!0},r.prototype.notUseInPages=["delete"],r.prototype.getTextsBundle=function(){return{title:{translate:!1,text:"Delete record"},content:void 0}},r.prototype.run=function(e,t){e.preventDefault(),e.stopPropagation(),t.deleteRow(e)},t.exports=r},{"../button.js":1}],16:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="subform_showCreateForm",r.prototype.cssClass="zcrud-new-command-button",r.prototype.bindableIn={subformToolbar:!0},r.prototype.notUseInPages=["delete"],r.prototype.getTextsBundle=function(){return{title:{translate:!0,text:"Add new record"},content:{translate:!1,text:"+"}}},r.prototype.run=function(e,t){e.preventDefault(),e.stopPropagation(),t.showCreateForm(e)},t.exports=r},{"../button.js":1}],17:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="subform_showDeleteForm",r.prototype.cssClass="zcrud-delete-command-button",r.prototype.bindableIn={subformRow:!0},r.prototype.notUseInPages=["delete"],r.prototype.getTextsBundle=function(){return{title:{translate:!1,text:"Delete record"},content:void 0}},r.prototype.run=function(e,t){e.preventDefault(),e.stopPropagation(),t.showNewFormUsingRecordFromServer("delete",e)},t.exports=r},{"../button.js":1}],18:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("../button.js");o.doSuperClassOf(r),r.prototype.type="subform_showEditForm",r.prototype.cssClass="zcrud-edit-command-button",r.prototype.bindableIn={subformRow:!0},r.prototype.notUseInPages=["delete"],r.prototype.getTextsBundle=function(){return{title:{translate:!1,text:"Edit record"},content:void 0}},r.prototype.run=function(e,t){e.preventDefault(),e.stopPropagation(),t.showNewFormUsingRecordFromServer("update",e)},t.exports=r},{"../button.js":1}],19:[function(e,t,n){function r(e,t){i.call(this,e,t)}var o=e("../context.js"),i=e("./button.js");i.doSuperClassOf(r),r.prototype.type="undo",r.prototype.cssClass="zcrud-undo-command-button",r.prototype.bindableIn={formToolbar:!0,listToolbar:!0},r.prototype.disabled=!0,r.prototype.getTextsBundle=function(){return{title:void 0,content:{translate:!0,text:"Undo"}}},r.prototype.run=function(e,t){e.preventDefault(),e.stopPropagation(),o.getHistory().undo(t.getId())},t.exports=r},{"../context.js":27,"./button.js":1}],20:[function(e,t,n){function r(e,t,n,r){this.options=e,this.thisOptions=t,this.parent=n,this.page=r}var o=e("../context.js");r.prototype.processDirty=function(t){var n;this.parent.isDirty()?o.confirm((n=this).options,{title:o.translate("dirtyPagingTitle"),text:o.translate("dirtyPagingText"),className:"wideConfirm",buttons:{cancel:o.translate("dirtyPagingCancel"),discard:{text:o.translate("dirtyPagingDiscard"),value:"discard"}}},function(e){"discard"==e&&(n.parent.removeChanges(),t())}):t()},r.prototype.getOptions=function(){return this.options},r.prototype.getThisOptions=function(){return this.thisOptions},r.prototype.getParent=function(){return this.parent},r.prototype.getPage=function(){return this.page},r.prototype.validate=function(){return!0},r.prototype.resetPage=function(){},r.prototype.addToDataToSend=function(){},r.prototype.dataFromServer=function(){},r.prototype.bindEvents=function(){},r.prototype.bindEventsIn1Row=function(){},r.doSuperClassOf=function(e){e.prototype=new r,e.prototype.constructor=e},t.exports=r},{"../context.js":27}],21:[function(e,t,n){var f=e("../utils.js");t.exports=function(e,t,n,r){function o(e){return c[e]}var i,s=e,a=t,u=n,l=r,c={},d=function(e,t){var n=t.constructorClass;c[e]=new n(s,t,u,l)},e={getComponent:o,getSecureComponent:function(e){var t=o(e);if(t)return t;throw"Error in componentsMap trying to get component: "+e},resetPage:function(){for(var e in c)c[e].resetPage()},addToDataToSend:function(e){for(var t in c)c[t].addToDataToSend(e);return e},dataFromServer:function(e){for(var t in c)c[t].dataFromServer(e)},bindEvents:function(){for(var e in c)c[e].bindEvents()},bindEventsIn1Row:function(e){for(var t in c)c[t].bindEventsIn1Row(e)},validate:function(){for(var e in c){e=c[e].validate();if(!0!==e)return!!f.isPlainObject(e)&&e}return!0}};for(i in a){var p=a[i];p.isOn&&d(i,p)}return e}},{"../utils.js":57}],22:[function(e,t,n){function r(e,t,n){o.call(this,e,t,n),this.listPage=n,this.autoSubmitMode=!1,s.setHistory(new u(this.options,this.thisOptions,this.listPage))}var i=e("../../../lib/zzDOM-closures-full.js").zz,s=e("../context.js"),o=e("./component.js"),a=e("../pages/pageUtils.js"),u=e("../history/history.js"),l=e("../crudManager.js"),c=e("../validationManager.js"),d=e("../fields/fieldUtils.js"),p=e("../utils.js");o.doSuperClassOf(r),r.prototype.bindEvents=function(){var e=i("#"+this.listPage.getId()),e=(this.bindEventsInRows(e),this.listPage.getThisOptions().formId);c.initFormValidation(e,i("#"+e),this.options)},r.prototype.bindEventsInRows=function(e,t){var o=this,n=(e.find(".zcrud-column-data input.historyField, .zcrud-column-data textarea.historyField, .zcrud-column-data select.historyField").on("change",function(e){var t,n,r;p.getParam(e.params,"disableHistory")||(t=i(this),n=o.listPage.getFieldByName(t.attr("name")),r=t.parents("tr").first(),s.getHistory().putChange(t,n.getValueForHistory(t),r.attr("data-record-index"),r.attr("data-record-id"),o.listPage.getId(),n),o.autoSubmitMode&&o.submit.call(o,e))}),this.listPage.bindButtonsEvent(this.listPage.getByRowButtons()),this.listPage.getInstanceDictionaryExtension()),r=this.listPage.getFields();t?this.bindEventsForFieldsAnd1Record(r,n,t,e):this.bindEventsForFieldsAndAllRecords(r,n,n.records)},r.prototype.bindEventsForFieldsAndAllRecords=function(e,t,n){for(var r=i("#"+this.listPage.getThisOptions().tbodyId).children().filter(".zcrud-data-row"),o=0;o<n.length;o++)this.bindEventsForFieldsAnd1Record(e,t,n[o],r.list[o])},r.prototype.bindEventsForFieldsAnd1Record=function(e,t,n,r){for(var o=0;o<e.length;o++){var i=e[o];i.afterProcessTemplateForField(this.buildProcessTemplateParams(i,n,t),r)}},r.prototype.buildProcessTemplateParams=function(e,t,n){return{field:e,value:t[e.id],options:this.options,record:t,source:"update",dictionary:n}},r.prototype.deleteRow=function(e){var t=i(e.target).parents("tr").first();s.getHistory().putDelete(this.listPage.getId(),t.attr("data-record-id"),t.attr("data-record-index"),t.attr("data-record-key"),t),this.autoSubmitMode&&this.submit(e)},r.prototype.addNewRow=function(e){var t=d.buildDefaultValuesRecord(this.listPage.getFields()),n=this.buildDictionaryForNewRow(t),n=s.getHistory().putCreate(this.listPage.getId(),n,i("#"+this.listPage.getThisOptions().tbodyId),t).get$Tr();this.bindEventsInRows(n,t),c.initFormValidation(this.listPage.getThisOptions().formId,n,this.options)},r.prototype.buildDictionaryForNewRow=function(e){var t=p.extend({},this.listPage.getInstanceDictionaryExtension());return t.records=[e],t.editable=!0,t},r.prototype.undo=function(e){s.getHistory().undo(this.listPage.getId())},r.prototype.redo=function(e){s.getHistory().redo(this.listPage.getId())},r.prototype.submit=function(e){var t=this;this.parent.processDirty(this.thisOptions.confirm.save,"EditableList",function(){t.doSubmit(e)})},r.prototype.doSubmit=function(e){var t,r=this,o=s.getJSONBuilder(this.options).buildJSONForAll(this.thisOptions.key||this.options.key,this.listPage.getInstanceDictionaryExtension().records,this.listPage.getFields(),void 0,s.getHistory());return o?(t={existingRecords:o.existingRecords,newRecords:o.newRecords,recordsToRemove:o.recordsToRemove,success:function(e){r.listPage.showStatusMessage({status:{message:"listUpdateSuccess",date:(new Date).toLocaleString()}});var t=r.updateRecords(o,e),n=r.listPage.getSecureComponent("paging");n&&n.dataFromClient(t),r.listPage.updateBottomPanel(),r.updateKeys(s.getHistory().getAllTr$FromCreateItems(),e.newRecords),s.getHistory().reset(r.listPage.getId())},error:function(e,t,n){a.ajaxError(e,t,n,r.options,s,void 0)},url:this.thisOptions.updateURL},l.batchUpdate(t,this.options,{$form:this.listPage.get$form(),formType:"list",dataToSend:t,options:this.options}),o):(s.showError(this.options,!1,s.translate("errorNoOpToDo")),!1)},r.prototype.updateRecords=function(e,t){var n,r=0,o=this.listPage.getRecords();for(l in e.existingRecords){var i=e.existingRecords[l],s=o[l],a=i[this.options.key],s=p.extend(!0,{},s,i),i=l;a&&l!==a&&(delete o[l],l=a),this.listPage.updateRecord(i,s),this.triggerEvent(this.options.events.recordUpdated,o[l],t)}for(n in t.newRecords){++r;var u=t.newRecords[n],l=u[this.options.key];this.listPage.addRecord(l,u),this.triggerEvent(this.options.events.recordAdded,u,t)}for(var c=0;c<e.recordsToRemove.length;c++){--r,l=e.recordsToRemove[c];var d=p.extend(!0,{},o[l]);this.listPage.deleteRecord(l),this.triggerEvent(this.options.events.recordDeleted,d,t)}return r},r.prototype.triggerEvent=function(e,t,n){e({record:t,serverResponse:n,options:this.options})},r.prototype.updateKeys=function(e,t){if(e.length!=t.length)s.showError(this.options,!0,"Error trying to update keys: $trArray and records length does not match!");else for(var n=this.listPage.getField(this.options.key),r=0;r<t.length;++r){var o=e[r],i=t[r][this.options.key];n&&o.find('[name="'+n.id+'"]').val(i),o.attr("data-record-key",i)}},r.prototype.removeChanges=function(){s.getHistory().reset(this.listPage.getId())},t.exports=r},{"../../../lib/zzDOM-closures-full.js":61,"../context.js":27,"../crudManager.js":28,"../fields/fieldUtils.js":36,"../history/history.js":45,"../pages/pageUtils.js":54,"../utils.js":57,"../validationManager.js":58,"./component.js":20}],23:[function(e,t,n){function r(e,t,n){o.call(this,e,t,n),this.cssClass="zcrud-filter-panel",this.filterRecord=void 0,this.fullFilter=void 0,this.fields=void 0}var o=e("./component.js"),i=e("../fields/fieldUtils.js"),s=e("../fields/fieldListBuilder.js"),a=e("../utils.js");o.doSuperClassOf(r),r.prototype.getClass=function(){return this.cssClass},r.prototype.getFilter=function(){return this.fullFilter},r.prototype.bindEvents=function(){var t=this;this.get$().find(".zcrud-filter-submit-button").off().on("click",function(e){e.preventDefault(),t.filter()})},r.prototype.filter=function(){var e=this;this.processDirty(function(){e.doFilter()})},r.prototype.doFilter=function(){this.filterRecord=i.buildRecord(this.getFields(),this.parent.get$()),this.parent.goToFirstPage(),this.updateParent()},r.prototype.addToDataToSend=function(e){this.fullFilter=a.extend(!0,{},this.filterRecord,e.filter),a.isEmptyObject(this.fullFilter)||(e.filter=this.fullFilter)},r.prototype.updateParent=function(){"subform"==this.parent.type?this.parent.update([this.parent.get$().find("thead")[0],this.parent.get$().find("tbody")[0],this.parent.getPagingComponent().get$()[0]]):this.parent.update()},r.prototype.get$=function(){return this.parent.get$().find("."+this.cssClass)},r.prototype.getFields=function(){return this.fields||(this.fields=this.buildFields()),this.fields},r.prototype.buildFields=function(){return s.getForList(this.thisOptions,this.options,this.parent.getFieldsSource()).fieldsArray},r.prototype.filterIsOn=function(){if(this.fullFilter)for(var e in this.fullFilter)if(null!=this.fullFilter[e])return!0;return!1},r.prototype.getInitialRecord=function(){return{}},r.prototype.getParent=function(){return this.parent},r.prototype.validate=function(){return!this.thisOptions.forceToFilter||!!this.filterIsOn()||{translate:!0,message:"forcedFilter"}},t.exports=r},{"../fields/fieldListBuilder.js":35,"../fields/fieldUtils.js":36,"../utils.js":57,"./component.js":20}],24:[function(e,t,n){function r(e,t,n){o.call(this,e,t,n),this.cssClass="zcrud-bottom-panel",null==this.thisOptions.goToPageFieldClass&&(this.thisOptions.goToPageFieldClass="zcrud-go-to-page-field"),null==this.thisOptions.pageSizeChangeFieldClass&&(this.thisOptions.pageSizeChangeFieldClass="zcrud-page-size-change-field"),this.pageNumber=1,this.totalNumberOfRecords=void 0,this.pageSize=parseInt(this.thisOptions.defaultPageSize),this.pageSizeLocalStorageId="page-size",this.thisPageSize=void 0,this.records=void 0,this.localStorage=localStorage,this.loadSettings()}var o=e("./component.js"),i=e("../pages/pageUtils.js"),s=e("../../../lib/zzDOM-closures-full.js").zz;o.doSuperClassOf(r),r.prototype.getClass=function(){return this.cssClass},r.prototype.getRecords=function(){return this.records},r.prototype.loadSettings=function(){var e;this.options.saveUserPreferences&&(e=this.localStorage.getItem(this.pageSizeLocalStorageId))&&(this.pageSize=i.normalizeNumber(e,1,1e6,this.thisOptions.defaultPageSize))},r.prototype.saveSettings=function(){this.options.saveUserPreferences&&this.localStorage.setItem(this.pageSizeLocalStorageId,this.pageSize)},r.prototype.bindEventsToPageSizeChangeCombobox=function(){var e;this.thisOptions.pageSizeChangeArea&&(e=this).get$().find("."+this.thisOptions.pageSizeChangeFieldClass).off().on("change",function(){e.changePageSize(parseInt(s(this).val()))})},r.prototype.updateParent=function(){"subform"==this.parent.type?this.parent.update():this.parent.show({root:[s("#"+this.parent.getThisOptions().tbodyId)[0],this.get$()[0]]})},r.prototype.changePage=function(e){var t=this;this.processDirty(function(){t.doChangePage(e)})},r.prototype.doChangePage=function(e){(e=i.normalizeNumber(parseInt(e),1,this.calculatePageCount(),1))!=this.pageNumber&&(this.pageNumber=e,this.updateParent())},r.prototype.changePageSize=function(e){var t;-1!=this.thisOptions.pageSizes.indexOf(e)&&e!=this.pageSize&&(t=this).processDirty(function(){t.doChangePageSize(e)})},r.prototype.doChangePageSize=function(e){this.pageSize=parseInt(e),this.pageNumber=1,this.saveSettings(),this.updateParent()},r.prototype.bindEventsToGoToPage=function(){var t=this;if(this.thisOptions.gotoPageFieldType&&"none"!=this.thisOptions.gotoPageFieldType)if("combobox"==this.thisOptions.gotoPageFieldType)this.get$().find("."+this.thisOptions.goToPageFieldClass).off().on("change",function(){t.changePage(parseInt(s(this).val()))});else{if("textbox"!=this.thisOptions.gotoPageFieldType)throw"Not valid paging component / gotoPageFieldType value:"+this.thisOptions.gotoPageFieldType;this.get$().find("."+this.thisOptions.goToPageFieldClass).off().on("keypress",function(e){13==e.which?(e.preventDefault(),t.changePage(parseInt(s(this).val()))):43==e.which?(e.preventDefault(),t.changePage(t.pageNumber+1),t.get$().find("."+t.thisOptions.goToPageFieldClass).trigger("focus")):45==e.which?(e.preventDefault(),t.changePage(t.pageNumber-1),t.get$().find("."+t.thisOptions.goToPageFieldClass).trigger("focus")):47<e.keyCode&&e.keyCode<58&&0==e.shiftKey&&0==e.altKey||8==e.keyCode||9==e.keyCode||e.preventDefault()})}},r.prototype.bindEventsToPageNumberButtons=function(){var t=this;this.get$().find(".zcrud-page-number,.zcrud-page-number-previous,.zcrud-page-number-next,.zcrud-page-number-first,.zcrud-page-number-last").off().on("click",function(e){e.preventDefault();e=s(this);e.hasClass(".zcrud-page-number-disabled")||t.changePage(e.attr("data-page"))})},r.prototype.bindEvents=function(){this.bindEventsToPageNumberButtons(),this.bindEventsToGoToPage(),this.bindEventsToPageSizeChangeCombobox()},r.prototype.getPageSizes=function(){return this.thisOptions.pageSizes},r.prototype.addToDataToSend=function(e){e.pageNumber=parseInt(this.pageNumber),e.pageSize=parseInt(this.pageSize)},r.prototype.builPageList=function(e,t,n){for(var r=[],o=0;o<e*t;o+=t)r.push(n+o);return r},r.prototype.buildPageListInfo=function(e){var t,n,r={block1OfPages:[],block2OfPages:[],block3OfPages:[]},o=i.normalizeNumber(this.thisOptions.maxNumberOfAllShownPages,4,100,4);return e<o?r.block1OfPages=this.builPageList(e,1,1):this.pageNumber<o?(t=i.normalizeNumber(this.thisOptions.block2NumberOfPages,2,100,5),r.block2OfPages=this.builPageList(t,1,1),n=i.normalizeNumber(this.thisOptions.block3NumberOfPages,0,100,2),r.block3OfPages=this.builPageList(n,1,e-n+1)):this.pageNumber>1+e-o?(r.block1OfPages=this.builPageList(i.normalizeNumber(this.thisOptions.block1NumberOfPages,0,100,2),1,1),t=i.normalizeNumber(this.thisOptions.block2NumberOfPages,2,100,3),r.block2OfPages=this.builPageList(t,1,e-t+1)):(r.block1OfPages=this.builPageList(i.normalizeNumber(this.thisOptions.block1NumberOfPages,0,100,2),1,1),t=i.normalizeNumber(this.thisOptions.block2NumberOfPages,3,100,3),r.block2OfPages=this.builPageList(t,1,Math.floor(this.pageNumber-t/2+1)),n=i.normalizeNumber(this.thisOptions.block3NumberOfPages,0,100,2),r.block3OfPages=this.builPageList(n,1,e-n+1)),this.mixBlocksOfPages(r),r},r.prototype.mixBlocksOfPages=function(e){var t=this.mix2BlocksOfPages(e.block2OfPages,e.block3OfPages);t&&(e.block2OfPages=t,e.block3OfPages=[]),(t=this.mix2BlocksOfPages(e.block1OfPages,e.block2OfPages))&&(e.block1OfPages=t,e.block2OfPages=[])},r.prototype.mix2BlocksOfPages=function(t,e){return 0==t.length?e:1+t[t.length-1]<e[0]?void 0:1+t[t.length-1]==e[0]?t.concat(e):t.concat(e.filter(function(e){return t.indexOf(e)<0}))},r.prototype.buildInfo=function(){var e=(this.pageNumber-1)*this.pageSize,t=this.calculatePageCount();return{pageNumber:this.pageNumber,pageSize:this.pageSize,first:1+e,last:1+e+this.thisPageSize-1,totalNumberOfRecords:this.totalNumberOfRecords,numberOfPages:t,goToPageList:this.buildGoToPageList(t),pageListInfo:this.buildPageListInfo(t),isFirstPage:1==this.pageNumber,isLastPage:this.pageNumber==t||0==t}},r.prototype.dataFromServer=function(e){this.totalNumberOfRecords=e.totalNumberOfRecords,this.records=e.records||[],this.thisPageSize=this.records.length},r.prototype.dataFromClient=function(e){this.totalNumberOfRecords+=e,this.thisPageSize+=e},r.prototype.buildGoToPageList=function(e){for(var t=1,n=(1e4<e?t=100:5e3<e?t=10:2e3<e?t=5:1e3<e&&(t=2),[]),r=t;r<=e;r+=t)n.push(r);return n},r.prototype.calculatePageCount=function(){var e=Math.floor(this.totalNumberOfRecords/this.pageSize);return this.totalNumberOfRecords%this.pageSize!=0&&++e,e},r.prototype.getPageSize=function(){return this.pageSize},r.prototype.setPageNumber=function(e){this.pageNumber=e},r.prototype.goToFirstPage=function(){this.setPageNumber(1)},r.prototype.getTotalNumberOfRecords=function(){return this.totalNumberOfRecords},r.prototype.get$=function(){return this.parent.get$().find("."+this.cssClass)},t.exports=r},{"../../../lib/zzDOM-closures-full.js":61,"../pages/pageUtils.js":54,"./component.js":20}],25:[function(e,t,n){function r(e,t,n,r){o.call(this,e,t,n,r),this.shiftKeyDown=!1,this.modeOnRowClickOn=-1!=this.thisOptions.mode.indexOf("onRowClick"),this.modeCheckBoxOn=-1!=this.thisOptions.mode.indexOf("checkbox")}var s=e("../../../lib/zzDOM-closures-full.js").zz,o=e("./component.js"),i=e("../pages/pageUtils.js");o.doSuperClassOf(r),r.prototype.bindKeyboardEvents=function(){var t=this;s(document.body).on("keydown",function(e){"Shift"===e.key&&(t.shiftKeyDown=!0)}).on("keyup",function(e){"Shift"===e.key&&(t.shiftKeyDown=!1)})},r.prototype.get$selectAllCheckbox=function(){return this.parent.get$().find(".zcrud-select-all-rows")},r.prototype.get$allTableRows=function(){return this.parent.get$().find("tr.zcrud-data-row")},r.prototype.bindSelectAllHeader=function(){var t=this;this.get$selectAllCheckbox().on("change",function(){var e=t.get$allTableRows();e.length<=0?t.get$selectAllCheckbox().attr("checked",!1):(s(this).checked()?t._selectRows(e):t._deselectRows(e),t.onSelectionChanged())})},r.prototype.bindRowsEvents=function(e){var t=this;this.modeOnRowClickOn&&e.on("click",function(){t.invertRowSelection(s(this))}),!this.modeOnRowClickOn&&this.modeCheckBoxOn&&e.find(".zcrud-select-row").on("click",function(){t.invertRowSelection(s(this).parents("tr"))})},r.prototype.bindEventsIn1Row=function(e){this.bindRowsEvents(e)},r.prototype.bindEvents=function(){this.bindKeyboardEvents(),this.bindSelectAllHeader(),this.bindRowsEvents(this.get$allTableRows())},r.prototype.invertRowSelection=function(e){var t,n,r;e.hasClass("zcrud-row-selected")?this._deselectRows(e):this.shiftKeyDown?(t=this.buildMappedArray(this.get$allTableRows()),n=this.findRowIndex(e,t),0<(r=this.findFirstSelectedRowIndexBeforeIndex(n,t)+1)&&r<n?this._selectRows(this.build$Wrapped(t.slice(r,n+1))):n<(r=this.findFirstSelectedRowIndexAfterIndex(n,t)-1)?this._selectRows(this.build$Wrapped(t.slice(n,1+r))):this._selectRows(e)):this._selectRows(e),this.onSelectionChanged()},r.prototype.findRowIndex=function(e,t){return i.findIndexInArray(e,t,function(e,t){return e.html()===t.html()})},r.prototype.buildMappedArray=function(e){return e.map(function(e,t){return s(this)}).get()},r.prototype.build$Wrapped=function(e){e=e.map(function(e){return e.el});return s(e)},r.prototype.findFirstSelectedRowIndexBeforeIndex=function(e,t){for(var n=e-1;0<=n;--n)if(t[n].hasClass("zcrud-row-selected"))return n;return-1},r.prototype.findFirstSelectedRowIndexAfterIndex=function(e,t){for(var n=e+1;n<t.length;++n)if(t[n].hasClass("zcrud-row-selected"))return n;return-1},r.prototype._selectRows=function(e){this.thisOptions.multiple||this._deselectRows(this.get$selectedRows()),e.addClass("zcrud-row-selected"),this.modeCheckBoxOn&&e.find(".zcrud-select-row").prop("checked",!0),this.refreshSelectAllCheckboxState()},r.prototype._deselectRows=function(e){e.removeClass("zcrud-row-selected"),this.modeCheckBoxOn&&e.find(".zcrud-select-row").prop("checked",!1),this.refreshSelectAllCheckboxState()},r.prototype.refreshSelectAllCheckboxState=function(){var e,t;this.modeCheckBoxOn&&this.thisOptions.multiple&&(e=this.get$allTableRows().length,0==(t=this.get$selectedRows().length)?(this.get$selectAllCheckbox().prop("indeterminate",!1),this.get$selectAllCheckbox().prop("checked",!1)):t==e?(this.get$selectAllCheckbox().prop("indeterminate",!1),this.get$selectAllCheckbox().prop("checked",!0)):(this.get$selectAllCheckbox().prop("indeterminate",!0),this.get$selectAllCheckbox().prop("checked",!1)))},r.prototype.deselectAll=function(){this.deselectRows(this.get$allTableRows())},r.prototype.selectRows=function(e){this._selectRows(e),this.onSelectionChanged()},r.prototype.deselectRows=function(e){this._deselectRows(e),this.onSelectionChanged()},r.prototype.selectRecords=function(e){this.selectionOperationOnRecords(e,this.selectRows)},r.prototype.deselectRecords=function(e){this.selectionOperationOnRecords(e,this.deselectRows)},r.prototype.selectionOperationOnRecords=function(e,t){if(e){for(var n="",r=0;r<e.length;++r){0<r&&(n+=", ");var o=e[r][this.options.key];n+='[data-record-key="'+o+'"]'}n&&t.call(this,this.get$allTableRows().filter(n))}},r.prototype.getSelectedRows=r.prototype.get$selectedRows=function(){return this.parent.get$().find(".zcrud-row-selected:not(.zcrud-hide-marker)")},r.prototype.getSelectedRecords=function(){var o=[],i=this;return this.get$selectedRows().each(function(e){var t,n=s(this),r=n.attr("data-record-key");if(null!=r)t=i.parent.getRecordByKey(r,n,!0);else{r=n.attr("data-record-id");if(null==r)throw"No selected row!";t=i.parent.getFromAddedRecords(r)}o.push(t)}),o},r.prototype.onSelectionChanged=function(){this.options.events.selectionChanged({$rows:this.get$selectedRows(),records:this.getSelectedRecords(),options:this.options})},r.prototype.resetPage=function(){this.get$selectAllCheckbox().prop("indeterminate",!1).attr("checked",!1)},t.exports=r},{"../../../lib/zzDOM-closures-full.js":61,"../pages/pageUtils.js":54,"./component.js":20}],26:[function(e,t,n){function r(e,t,n){o.call(this,e,t,n),this.localStorage=localStorage,this.sortFieldId=this.thisOptions.default.fieldId,this.sortType=this.thisOptions.default.type,this.sortFieldIdLocalStorageId="sort-field-id",this.sortTypeLocalStorageId="sort-type",this.loadSettings()}var o=e("./component.js"),i=e("../../../lib/zzDOM-closures-full.js").zz;o.doSuperClassOf(r),r.prototype.loadSettings=function(){var e;this.options.saveUserPreferences&&this.thisOptions.loadFromLocalStorage&&((e=this.localStorage.getItem(this.sortFieldIdLocalStorageId))&&(this.sortFieldId=e),e=this.localStorage.getItem(this.sortTypeLocalStorageId))&&(this.sortType=e)},r.prototype.saveSettings=function(){this.options.saveUserPreferences&&(this.localStorage.setItem(this.sortFieldIdLocalStorageId,this.sortFieldId),this.localStorage.setItem(this.sortTypeLocalStorageId,this.sortType))},r.prototype.bindEvents=function(){var t=this;this.parent.get$().find(".zcrud-column-header-sortable").off().on("click",function(e){e.preventDefault(),t.changeSort(i(this).attr("data-sort-field-id"),i(this).attr("data-sort-type"))})},r.prototype.changeSort=function(e,t){var n=this;this.processDirty(function(){n.doChangeSort(e,t)})},r.prototype.doChangeSort=function(e,t){this.sortFieldId=e,this.sortType=t&&"asc"==t?"desc":"asc",this.saveSettings(),this.updateParent()},r.prototype.updateParent=function(){"subform"==this.parent.type?this.parent.update([this.parent.get$().find("thead")[0],this.parent.get$().find("tbody")[0],this.parent.getPagingComponent().get$()[0]]):this.parent.show({root:[i("#"+this.parent.getThisOptions().tableId)[0]]})},r.prototype.addToDataToSend=function(e){this.sortFieldId&&(e.sortFieldId=this.sortFieldId),this.sortType&&(e.sortType=this.sortType)},r.prototype.getSortFieldId=function(){return this.sortFieldId},r.prototype.getSortType=function(){return this.sortType},r.prototype.getTypeForFieldId=function(e){return e!==this.sortFieldId?null:this.sortType},t.exports=r},{"../../../lib/zzDOM-closures-full.js":61,"./component.js":20}],27:[function(e,t,n){var r,o,i,s,a,u,l,c=e("zpt");function d(e,t){i[e]=t}function p(e){return i[e]}function f(e){return i["page_"+e]}function h(e){return void 0!==e.attr("id")||null!==e.attr("id")?"#"+e.attr("id"):"."+e.attr("class")}function g(e){var t=e.indexOf(o);return{subformName:-1===t?null:e.substring(0,t),name:-1===t?e:e.substring(1+t)}}t.exports=(i={},l=u=s=void 0,{put:d,get:p,setI18nArray:function(e){s=e},translate:a=function(e,t,n,r){return c.i18nHelper.tr(s,e,t,n||"string",r)},translateAlternatives:function(e,t,n,r){for(var o of e)if(i=o,a(i)!=='I18n resource "'+i+'" not found!')return c.i18nHelper.tr(s,o,t,n||"string",r);var i;return"No i18n resource found: "+e},showError:function(e,t,n,r,o,i,s){r=r?a(n,o,i,s):n;if(e.errorFunction(r),t)throw r},confirm:function(e,t,n){e.confirmFunction(t,n)},showMessage:function(e,t){e.showMessageFunction(t)},putOptions:function(e,t){d("options_"+h(e),t)},getOptions:function(e){return p("options_"+h(e))},putPage:function(e,t){d("page_"+e,t)},getPage:f,getSelectorString:h,getListPage:function(e){try{var t="object"==typeof e?e.pageConf.pages.list.id:e}catch(e){return alert("Exception trying to get options.pageConf.pages.list.id!"),!1}return f(t)},getFormPage:function(e){try{var t="object"==typeof e?e.formId:e}catch(e){return alert("Exception trying to get options.pageConf.pages.list.id!"),!1}return f(t)},declareRemotePageUrl:function(e,t){var n;e&&-1!=(n=e.indexOf("@"))&&(e=e.substring(1+n),-1==t.indexOf(e))&&t.push(e)},updateFormVisibleFields:function(e,t){e.pageConf.pages.create.fields=t,e.pageConf.pages.update.fields=t,e.pageConf.pages.delete.fields=t},updateListVisibleFields:function(e,t){e.pageConf.pages.list.fields=t},updateSubformFields:function(e,t){for(var n=e.fields,r={},o=0;o<t.length;++o){var i=t[o];r[i]=n[i]}e.fields=r},getField:function(e,t){t=g(t);return(t.subformName?e[t.subformName].fields:e)[t.name]},getFieldData:g,subformSeparator:o="-",getJSONBuilder:function(e){return e.jsonBuilder},setFieldBuilder:function(e){u=e},getFieldBuilder:function(){return u},setHistory:function(e){l=e},getHistory:function(){return l},buildSubformsRecordsIdFromFieldId:function(e,t){return t+e.subformsRecordsSuffix},buildFieldIdFromSubformsRecordsId:function(e,t){return e=e.subformsRecordsSuffix,t.replace(e,"")},setDictionary:function(e){r=e},getDictionary:function(){return r}})},{zpt:135}],28:[function(e,t,n){var u=e("./context.js"),l=e("./validationManager.js"),r=e("./pages/pageUtils.js");e("./utils.js");function c(e,t,n){try{"OK"!=n.result?r.serverSideError(n,t,u):(e.ajaxPostFilterOff||(n=t.ajax.ajaxPostFilter(n)),e.success&&e.success(n))}catch(e){u.showError(t,!1,"Error in crudManager: "+(e.message||e))}}function d(e,t,n){e.ajaxPostFilterOff||(n=t.ajax.ajaxPostFilter(n)),e.error&&e.error(n)}t.exports={listRecords:function(t,n){function e(e){c(t,n,e)}var r=t.search;r.command="listRecords";t.clientOnly?e(t.ajaxPreFilterOff?t.records:n.ajax.ajaxPreFilter(t.records)):(r={url:t.url,data:t.ajaxPreFilterOff?r:n.ajax.ajaxPreFilter(r),success:e,error:function(e){d(t,n,e)}},n.ajax.ajaxFunction(r))},batchUpdate:function(t,n,e){function r(e){c(t,n,e)}function o(e){d(t,n,e)}var i,s=t,a=(s.command="batchUpdate",a=n,e=e,!!t.formValidationOff||l.formIsValid(a,e));t.clientOnly?(!0===a?(s.result="OK",r):o)(t.ajaxPreFilterOff?s:n.ajax.ajaxPreFilter(s)):(e={url:t.url,data:t.ajaxPreFilterOff?s:n.ajax.ajaxPreFilter(s),success:r,error:o},!0===a?n.ajax.ajaxFunction(e):n.validation.showBrowserMessageBubbles||(s=a.message?(i=a.message,a.translate):(i="invalidFormData",!0),u.showError(n,!1,i,s)))},getRecord:function(t,n){var e;t.url?((e=t.search).command="getRecord",e={url:t.url,data:t.ajaxPreFilterOff?e:n.ajax.ajaxPreFilter(e),success:function(e){c(t,n,e)},error:function(e){d(t,n,e)}},n.ajax.ajaxFunction(e)):u.showError(n,!1,"Please, set URL to get record from server!")},getOptions:function(e,t,n,r){n.ajax.ajaxFunction({url:t,success:function(e){if("OK"!=(e=n.ajax.ajaxPostFilter(e)).result)throw"Error downloading options:"+e.message;r(e.options)},error:function(){throw"Can not load options for "+e}})}}},{"./context.js":27,"./pages/pageUtils.js":54,"./utils.js":57,"./validationManager.js":58}],29:[function(r,e,t){var o=r("./utils.js"),n=r("./requestHelper.js");let i=r("./context.js");e.exports={validation:{showBrowserMessageBubbles:!1,useBrowserMessages:!1},dictionary:{},saveUserPreferences:!0,entityId:"entity",defaultComponentsConfig:{paging:{isOn:!1,constructorClass:r("./components/pagingComponent.js"),defaultPageSize:10,pageSizes:[10,25,50,100,250,500],pageSizeChangeArea:!0,gotoPageFieldType:"combobox",gotoPageFieldAttributes:{},maxNumberOfAllShownPages:5,block1NumberOfPages:1,block2NumberOfPages:5,block3NumberOfPages:1},sorting:{isOn:!1,constructorClass:r("./components/sortingComponent.js"),loadFromLocalStorage:!0,default:{fieldId:void 0,type:void 0},allowUser:!1},filtering:{isOn:!1,constructorClass:r("./components/filteringComponent.js"),fieldsTemplate:"compact-editable@templates/fieldLists.html"},selecting:{isOn:!1,constructorClass:r("./components/selectingComponent.js"),multiple:!0,mode:["checkbox","onRowClick"]},editing:{isOn:!1,constructorClass:r("./components/editingComponent.js"),modifiedFieldsClass:"zcrud-modified-field",modifiedRowsClass:"zcrud-modified-row",hideTr:function(e){e.fadeOut()},showTr:function(e){e.fadeIn()},confirm:{save:!0}}},fields:{},fieldsConfig:{constructors:{default:r("./fields/field.js"),mapping:[{fieldTypes:["date","datetime","time"],constructor:r("./fields/datetime.js")},{fieldTypes:["datalist","select","radio","checkboxes"],constructor:r("./fields/optionsField.js")},{fieldTypes:["checkbox"],constructor:r("./fields/checkbox.js")},{fieldTypes:["subform"],constructor:r("./fields/subform.js")}]},defaultFieldOptions:{datetime:{inline:!1,minYear:1950,maxYear:2050,maxHour:23,minutesStep:5,timerDelay:100},date:{inline:!1,minYear:1950,maxYear:2050},time:{inline:!1,maxHour:99,minutesStep:5,timerDelay:100},subform:{buttons:{toolbar:["subform_addNewRow"],byRow:["subform_deleteRow"]},components:{}},textarea:{attributes:{field:{rows:6,cols:80}}},number:{templateMacro:"text"}},getDefaultFieldTemplate:function(e){return(e.templateMacro||e.type)+"@templates/fields/basic.html"}},containers:{types:{fieldSet:{template:"fieldSet@templates/containers/basic.html"},div:{template:"div@templates/containers/basic.html"},custom:{}}},events:{formClosed:function(e,t){},formCreated:function(e){},formSubmitting:function(e,t){},recordAdded:function(e,t){},recordDeleted:function(e,t){},recordUpdated:function(e,t){},formBatchUpdated:function(e,t){},selectionChanged:function(e){},listCreated:function(e){}},buttons:{generic:r("./buttons/genericButton.js"),undo:r("./buttons/undoButton.js"),redo:r("./buttons/redoButton.js"),form_cancel:r("./buttons/formPage/cancelButton.js"),form_copySubformRows:r("./buttons/formPage/copySubformRowsButton.js"),form_submit:r("./buttons/formPage/submitButton.js"),list_addNewRow:r("./buttons/listPage/addNewRowButton.js"),list_deleteRow:r("./buttons/listPage/deleteRowButton.js"),list_showCreateForm:r("./buttons/listPage/showCreateFormButton.js"),list_showDeleteForm:r("./buttons/listPage/showDeleteFormButton.js"),list_showEditForm:r("./buttons/listPage/showEditFormButton.js"),list_submit:r("./buttons/listPage/submitButton.js"),subform_addNewRow:r("./buttons/subform/addNewRowButton.js"),subform_deleteRow:r("./buttons/subform/deleteRowButton.js"),subform_showCreateForm:r("./buttons/subform/showCreateFormButton.js"),subform_showDeleteForm:r("./buttons/subform/showDeleteFormButton.js"),subform_showEditForm:r("./buttons/subform/showEditFormButton.js")},pageConf:{defaultPageConf:{showStatus:!1,modifiedFieldsClass:"zcrud-modified-field",modifiedRowsClass:"zcrud-modified-row",hideTr:function(e){e.fadeOut()},showTr:function(e){e.fadeIn()},buttons:{byRow:[]},confirm:{save:!0,cancel:!0}},pages:{list:{template:"listDefaultTemplate@templates/lists.html",showStatus:!0,components:{paging:{isOn:!0}},buttons:{toolbar:["list_showCreateForm"],byRow:["list_showEditForm","list_showDeleteForm"]}},create:{template:"formDefaultTemplate@templates/forms.html",components:{},buttons:{toolbar:["undo","redo","form_cancel","form_submit"]}},update:{template:"formDefaultTemplate@templates/forms.html",components:{},buttons:{toolbar:["undo","redo","form_cancel","form_submit"]}},delete:{template:"deleteDefaultTemplate@templates/forms.html",components:{},buttons:{toolbar:["form_cancel","form_submit"]}},customForm:{template:"formDefaultTemplate@templates/forms.html",showStatus:!0,components:{paging:{isOn:!0}},buttons:{toolbar:["list_showCreateForm"],byRow:["list_showEditForm","list_showDeleteForm"]}}}},filesPathPrefix:"",templates:{filesPath:"/",declaredRemotePageUrls:["templates/lists.html","templates/fieldLists.html"]},ajax:{ajaxFunction:n.fetch,ajaxPreFilter:function(e){return e},ajaxPostFilter:function(e){return e}},i18n:{language:"en",filesPath:"/i18n/",files:{en:["en-common.json"],es:["es-common.json"]}},logging:{isOn:!1,level:"error"},jsonBuilder:r("./jsonBuilders/onlyChangesJSONBuilder.js"),defaultErrorOptions:{icon:"error",closeOnClickOutside:!1,i18nTitle:"errorTitle"},errorFunction:function(e){var t=r("sweetalert"),n=o.extend(!0,{},this.defaultErrorOptions);n.title||(n.title=i.translate(this.defaultErrorOptions.i18nTitle)),n.text=e,t(n)},defaultConfirmOptions:{icon:"warning",dangerMode:!0,closeOnClickOutside:!1,className:"confirm"},confirmFunction:function(e,t){r("sweetalert")(o.extend(!0,{},this.defaultConfirmOptions,e)).then(t)},defaultShowMessageOptions:{icon:"info",closeOnClickOutside:!1,className:"showMessage"},showMessageFunction:function(e){r("sweetalert")(o.extend(!0,{},this.defaultShowMessageOptions,e))},subformsRecordsSuffix:"ZCrudRecords"}},{"./buttons/formPage/cancelButton.js":3,"./buttons/formPage/copySubformRowsButton.js":4,"./buttons/formPage/submitButton.js":5,"./buttons/genericButton.js":6,"./buttons/listPage/addNewRowButton.js":7,"./buttons/listPage/deleteRowButton.js":8,"./buttons/listPage/showCreateFormButton.js":9,"./buttons/listPage/showDeleteFormButton.js":10,"./buttons/listPage/showEditFormButton.js":11,"./buttons/listPage/submitButton.js":12,"./buttons/redoButton.js":13,"./buttons/subform/addNewRowButton.js":14,"./buttons/subform/deleteRowButton.js":15,"./buttons/subform/showCreateFormButton.js":16,"./buttons/subform/showDeleteFormButton.js":17,"./buttons/subform/showEditFormButton.js":18,"./buttons/undoButton.js":19,"./components/editingComponent.js":22,"./components/filteringComponent.js":23,"./components/pagingComponent.js":24,"./components/selectingComponent.js":25,"./components/sortingComponent.js":26,"./context.js":27,"./fields/checkbox.js":30,"./fields/datetime.js":32,"./fields/field.js":33,"./fields/optionsField.js":38,"./fields/subform.js":39,"./jsonBuilders/onlyChangesJSONBuilder.js":48,"./requestHelper.js":55,"./utils.js":57,sweetalert:66}],30:[function(e,t,n){function r(e){o.call(this,e)}var o=e("./field.js"),i=e("../context.js");((r.prototype=new o).constructor=r).prototype.getValue=function(e){return e.checked()},r.prototype.getValueFromForm=function(e){return e.find('[name="'+this.name+'"]').checked()},r.prototype.setValueToForm=function(e,t){t.prop("checked",void 0!==e&&e),this.throwEventsForSetValueToForm(t)},r.prototype.getValueFromRecord=function(e){e=e[this.id];return!1===e||!0===e?e:"true"==e},r.prototype.getViewValueFromRecord=function(e){return this.getValueFromRecord(e)?i.translate("true"):i.translate("false")},r.prototype.getValueFromSelection=function(e){return"true"==o.prototype.getValueFromSelection.call(this,e).toLowerCase()},t.exports=r},{"../context.js":27,"./field.js":33}],31:[function(e,t,n){function r(e){i.extend(this,e)}var o=e("../buttons/buttonUtils.js"),i=e("../utils.js");r.prototype.getToolbarButtons=function(){if(null==this.toolbarButtons&&this.buttons){this.toolbarButtons=o.getButtonList(this.buttons,"containerToolbar",this,this.options);for(var e=0;e<this.toolbarButtons.length;++e)this.toolbarButtons[e].setContainer(this)}return this.toolbarButtons},t.exports=r},{"../buttons/buttonUtils.js":2,"../utils.js":57}],32:[function(e,t,n){function r(e){o.call(this,e),this.dictionary=void 0,this.currentTimer=void 0}var o=e("./field.js"),l=e("../context.js"),i=e("../../../lib/zzDOM-closures-full.js").zz,s=e("zpt"),a=e("../../../lib/php-date-formatter.js"),u=e("../utils.js");((r.prototype=new o).constructor=r).prototype.selectedDateClass="current",r.prototype.pickerValueAttr="data-picker-value",r.prototype.weekDays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],r.prototype.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],r.prototype.weekInitDone=!1,r.prototype.dateFormatter=new a,r.prototype.filterValue=function(e){return this.getValueFromString(e[this.id])},r.prototype.setValueToForm=function(e,t){switch(this.type){case"datetime":var n=!0;case"date":return this.setValueToFormForDatetime(e,t,n),void this.throwEventsForSetValueToForm(t);case"time":return this.setValueToFormForTime(e,t),void this.throwEventsForSetValueToForm(t)}throw"Unknown type in Datetime: "+this.type},r.prototype.setValueToFormForTime=function(e,t){var e=void 0===e?null:e;t.val(e).attr(this.pickerValueAttr,e),this.inline&&(t=this.get$datetime(t.parents(".zcrud-data-entity").first()),e=this.buildTimeObjectFromString(e),this.updateTime(t,e))},r.prototype.setValueToFormForDatetime=function(e,t,n){var r=this.formatToClient(e);t.val(r||e).attr(this.pickerValueAttr,r),this.inline&&(r=this.get$datetime(t.parents(".zcrud-data-entity").first()),(this.dictionary.field=this).dictionary.value=e,this.goToDate(e,r,this.dictionary),n)&&(t=this.buildTimeObjectFromHoursAndMinutes(e?e.getHours():0,e?e.getMinutes():0),this.updateTime(r,t))},r.prototype.updateTime=function(e,t){e=this.get$timePicker(e);this.get$hoursByTimePicker(e).text(t.hoursToShow),this.get$minutesByTimePicker(e).text(t.minutesToShow)},r.prototype.parseDate=function(e){try{return this.dateFormatter.parseDate(e,this.getI18nFormat())}catch(e){return null}},r.prototype.getValueFromString=function(e){switch(this.type){case"date":case"datetime":return e?this.parseDate(e):void 0;case"time":return e}throw"Unknown type in Datetime: "+this.type},r.prototype.getValue=function(e){return this.getValueFromString(e.val())},r.prototype.getValueForHistory=function(e){var t=this.getValue(e);return t||e.val()},r.prototype.afterProcessTemplateForField=function(e,t){this.isReadOnly()||this.afterProcessTemplateForFieldInCreateOrUpdate(e,t)},r.prototype.afterProcessTemplateForFieldInCreateOrUpdate=function(e,t){var n=!1,r=!1;switch(this.type){case"date":n=!0;break;case"datetime":r=n=!0;break;case"time":r=!0;break;default:throw"Unknown type in Datetime: "+this.type}this.buildDictionaryFromParams(e),this.bindEvents(e,t,n,r)},r.prototype.getTemplate=function(){return this.type+"@templates/fields/datetime.html"},r.prototype.getI18nFormat=function(){var e=this.type+"Format";return l.translate(e)},r.prototype.getValueFromForm=function(e){return this.inline?this.getValueFromFormForInline(e):this.getValueFromFormForNotInline(e)},r.prototype.getValueFromFormForNotInline=function(e){e=e.find('[name="'+this.name+'"]').val();return e&&0!=e.length&&"time"!=this.type?this.parseDate(e):e},r.prototype.getValueFromFormForInline=function(e){return this.buildDatetimeInstance(this.get$datetime(e))},r.prototype.getValueFromRecord=function(e){var t=e[this.id];if(!t||0==t.length)return t;switch(this.type){case"date":case"datetime":return new Date(t);case"time":return t}throw"Unknown type in Datetime: "+this.type},r.prototype.getViewValueFromRecord=function(e){var t=e[this.id];if(!t||0==t.length)return t;switch(this.type){case"date":case"datetime":var n=new Date(t);return this.formatToClient(n);case"time":return t}throw"Unknown type in Datetime: "+this.type},r.prototype.getTimeInfo=function(e){return this.buildTimeObjectFromString(e)},r.prototype.buildTimeObjectFromString=function(e){var t=0,n=0,e=e?e.split(":"):void 0;return e&&2==e.length&&!isNaN(e[0])&&!isNaN(e[1])&&0<=e[0]&&0<=e[1]&&e[0]<=this.maxHour&&e[1]<=59&&(n=e[0],t=e[1]),this.buildTimeObjectFromHoursAndMinutes(n,t)},r.prototype.buildTimeObjectFromDateInstance=function(e){var t=e?e.getMinutes():0,e=e?e.getHours():0;return this.buildTimeObjectFromHoursAndMinutes(e,t)},r.prototype.buildTimeObjectFromHoursAndMinutes=function(e,t){return{minutes:t,minutesToShow:this.formatTimeNumber(t,59),hours:e,hoursToShow:this.formatTimeNumber(e,this.maxHour)}},r.prototype.formatTimeNumber=function(e,t){t=(""+t).length,e=""+e;return t<=e.length?e:new Array(t-e.length+1).join("0")+e},r.prototype.getDateInfo=function(e){var t=this.getReferenceDate(e);return this.getDateInfoFromObject(t,e)},r.prototype.getDateInfoFromObject=function(e,t){return{years:this.buildYears(e),months:this.buildMonths(e),weekDays:this.getWeekDays(),daysInWeeks:this.buildDaysInWeeks(e,t,l.translate("dayOfWeekStart"))}},r.prototype.getReferenceDate=function(e){var t=void 0;return e?t=e:((t=new Date).setHours(0),t.setMinutes(0)),t},r.prototype.getDateTimeInfo=function(e){var t=this.getReferenceDate(e),n=this.buildTimeStringFromDate(t);return{dateInfo:this.getDateInfoFromObject(t,e),timeInfo:this.getTimeInfo(n)}},r.prototype.buildTimeStringFromDate=function(e){return this.buildTimeString(e.getHours(),e.getMinutes())},r.prototype.getWeekDays=function(){var e;return this.weekInitDone||(0!=(e=l.translate("dayOfWeekStart"))&&(this.weekDays=this.weekDays.slice(e).concat(this.weekDays.slice(0,e))),this.weekInitDone=!0),this.weekDays},r.prototype.buildYears=function(e){for(var t=e.getFullYear(),e=this.minYear,n=this.maxYear,r=[],o=e;o<=n;++o)r.push({value:o,current:t==o});return r},r.prototype.buildMonths=function(e){for(var t=e.getMonth(),n=[],r=0;r<12;++r)n.push({value:r,name:this.monthNames[r],current:t==r});return n},r.prototype.buildDaysInWeeks=function(e,t,n){for(var r=e.countDaysInMonth(),o=new Date(e.getFullYear(),e.getMonth(),1,0,0,0);o.getDay()!=n;)o.setDate(o.getDate()-1),++r;for(var i=new Date,i=new Date(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0),s=[],a=[],u=0;++u<=r||o.getDay()!=n;){var l=o.getDay(),l={day:o.getDate(),month:o.getMonth(),year:o.getFullYear(),dayOfWeek:o.getDay(),current:o.dateEquals(t),today:i.dateEquals(o),otherMonth:e.getMonth()!==o.getMonth(),weekEnd:0==l||6==l};s.push(l),u%7==0&&(l=s.slice(),a.push(l),s=[]),o.setDate(o.getDate()+1)}return a},r.prototype.get$datePicker=function(e){return i(e.target).parents(".datepicker").first()},r.prototype.getSelectedDate=function(e,t,n){e=(n=n||this.get$datePicker(e)).find('[name="datepicker-year"]').val(),n=n.find('[name="datepicker-month"]').val();return new Date(e,n,1,0,0,0)},r.prototype.getSelectedYearAndMonthDate=function(e,t){return this.getSelectedDate(e,void 0,t)},r.prototype.goToPreviousMonth=function(e,t,n){e=this.getSelectedYearAndMonthDate(e);0==e.getMonth()?(e.setFullYear(e.getFullYear()-1),e.setMonth(11)):e.setMonth(e.getMonth()-1),this.goToDate(e,t,this.buildDictionaryFromParams(n))},r.prototype.goToNextMonth=function(e,t,n){e=this.getSelectedYearAndMonthDate(e);11==e.getMonth()?(e.setFullYear(e.getFullYear()+1),e.setMonth(0)):e.setMonth(e.getMonth()+1),this.goToDate(e,t,this.buildDictionaryFromParams(n))},r.prototype.goToPreviousYear=function(e,t,n){e=this.getSelectedYearAndMonthDate(e);e.setFullYear(e.getFullYear()-1),this.goToDate(e,t,this.buildDictionaryFromParams(n))},r.prototype.goToNextYear=function(e,t,n){e=this.getSelectedYearAndMonthDate(e);e.setFullYear(e.getFullYear()+1),this.goToDate(e,t,this.buildDictionaryFromParams(n))},r.prototype.update=function(e,t,n){e=this.getSelectedYearAndMonthDate(e);this.goToDate(e,t,this.buildDictionaryFromParams(n))},r.prototype.goToday=function(e,t,n){this.goToDate(new Date,t,this.buildDictionaryFromParams(n))},r.prototype.buildDictionaryFromParams=function(e){return this.dictionary={},(this.dictionary.field=this).dictionary},r.prototype.goToDate=function(e,t,n){n=n.value?new Date(n.value):void 0;this.updateDatePicker(e,n,t)},r.prototype.updateDatePicker=function(e,t,n){this.dictionary.dateInfo=this.getDateInfoFromObject(e||this.getSelectedYearAndMonthDate(void 0,n),t),s.run({root:n.find(".datepicker")[0],dictionaryExtension:this.dictionary}),this.bindDatePickerEvents(n)},r.prototype.get$datetime=function(e){return e.find(".zcrud-like-field-"+this.name)},r.prototype.bindEvents=function(e,t,n,r){var o=this.get$datetime(t);this.bindCommonEvents(e,t,o),n&&this.bindDateEvents(e,t,o),r&&this.bindTimeEvents(e,t,o)},r.prototype.bindCommonEvents=function(t,e,n){var r=this;n.find(".save-button").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.save(n,!0)}),n.find(".cancel-button").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.cancel(e,n,t)}),n.find(".toggle-picker").off("click").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.toggle(e,n,t)})},r.prototype.bindTimeEvents=function(e,t,n){function r(e){e.preventDefault(),e.stopPropagation(),clearInterval(o.currentTimer)}var o=this,i=this.timerDelay,s=this.minutesStep;n.find(".prev-hour").on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),o.addHoursInterval(e,n,-1,i)}).on("mouseup",r),n.find(".prev-minute").on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),o.addMinutesInterval(e,n,-s,i)}).on("mouseup",r),n.find(".next-hour").on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),o.addHoursInterval(e,n,1,i)}).on("mouseup",r),n.find(".next-minute").on("mousedown",function(e){e.preventDefault(),e.stopPropagation(),o.addMinutesInterval(e,n,s,i)}).on("mouseup",r)},r.prototype.bindDateEvents=function(t,e,n){var r=this;n.find(".today-button").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.goToday(e,n,t)}),n.find(".prev-month").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.goToPreviousMonth(e,n,t)}),n.find(".next-month").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.goToNextMonth(e,n,t)}),n.find(".prev-year").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.goToPreviousYear(e,n,t)}),n.find(".next-year").on("click",function(e){e.preventDefault(),e.stopPropagation(),r.goToNextYear(e,n,t)}),n.find('[name="datepicker-month"], [name="datepicker-year"]').on("change",function(e){e.preventDefault(),e.stopPropagation(),r.update(e,n,t)}),this.bindDatePickerEvents(n)},r.prototype.bindDatePickerEvents=function(t){var n=this;t.find(".date").on("click",function(e){e.preventDefault(),e.stopPropagation(),n.updateCalendarValue(t,i(this))})},r.prototype.addHours=function(e,t,n){var r=this.get$hours(t),o=parseInt(r.text()),i=1+this.maxHour;for(o+=n;o<0;)o+=i;i<=o&&(o-=i),r.text(this.formatTimeNumber(o,this.maxHour)),this.inline&&this.save(t,!1)},r.prototype.addHoursInterval=function(e,t,n,r){var o=this;clearInterval(this.currentTimer),this.addHours(e,t,n),this.currentTimer=setInterval(function(){o.addHours(e,t,n)},r)},r.prototype.addMinutesInterval=function(e,t,n,r){var o=this;clearInterval(this.currentTimer),this.addMinutes(e,t,n),this.currentTimer=setInterval(function(){o.addMinutes(e,t,n)},r)},r.prototype.addMinutes=function(e,t,n){var r=this.get$minutes(t),o=parseInt(r.text());(o+=n)<0&&(o+=60,this.addHours(e,t,-1)),60<=o&&(o-=60,this.addHours(e,t,1)),r.text(this.formatTimeNumber(o,59)),this.inline&&this.save(t,!1)},r.prototype.get$timePicker=function(e){return e.find(".timepicker")},r.prototype.get$hours=function(e){return this.get$hoursByTimePicker(this.get$timePicker(e))},r.prototype.get$hoursByTimePicker=function(e){return e.find(".hours")},r.prototype.get$minutes=function(e){return this.get$minutesByTimePicker(this.get$timePicker(e))},r.prototype.get$minutesByTimePicker=function(e){return e.find(".minutes")},r.prototype.updateCalendarValue=function(e,t){e.find("."+this.selectedDateClass).removeClass(this.selectedDateClass),t.addClass(this.selectedDateClass),this.inline&&this.save(e,!1)},r.prototype.get$selectedCell=function(e){return e.find("."+this.selectedDateClass)},r.prototype.buildDatetimeInstance=function(e){var t=!1,n=!1;switch(this.type){case"date":t=!0;break;case"datetime":n=t=!0;break;case"time":n=!0;break;default:throw"Unknown type in Datetime: "+this.type}var r=0,o=0,i=0,s=0,a=0;if(t){var u=this.get$selectedCell(e);if(!u.length)return void l.showError(this.page.getOptions(),!1,l.translate("noSelectedDate"));r=u.attr("data-date"),o=u.attr("data-month"),i=u.attr("data-year")}return n&&(s=parseInt(this.get$hours(e).text()),a=parseInt(this.get$minutes(e).text())),new Date(i,o,r,s,a)},r.prototype.formatToClient=function(e){try{return e?this.dateFormatter.formatDate(e,this.getI18nFormat()):""}catch(e){return""}},r.prototype.buildDatetimeValue=function(e){e=this.buildDatetimeInstance(e);return this.formatToClient(e)},r.prototype.get$picker=function(e){return e.find(".datetime")},r.prototype.get$input=function(e){return e.find('[name="'+this.name+'"]')},r.prototype.save=function(e,t){var n=void 0;switch(this.type){case"datetime":case"date":n=this.buildDatetimeValue(e);break;case"time":n=this.buildTimeValue(e);break;default:throw"Unknown type in Datetime: "+this.type}n&&(this.get$input(e).val(n).attr(this.pickerValueAttr,n).trigger("change"),t)&&this.get$picker(e).hide()},r.prototype.buildTimeValue=function(e){var e=this.get$timePicker(e),t=this.get$hoursByTimePicker(e),e=this.get$minutesByTimePicker(e);return this.buildTimeString(t.text(),e.text())},r.prototype.buildTimeString=function(e,t){return e+":"+t},r.prototype.cancel=function(e,t,n){this.get$picker(t).hide()},r.prototype.show=function(e,t,n){this.get$picker(t).show()},r.prototype.toggle=function(e,t,n){var r,o,i=this.get$picker(t);i.isVisible()||(o=(r=this.get$input(t)).val(),r.attr(this.pickerValueAttr)!==o&&(this.updateDatetime(o,t),r.attr(this.pickerValueAttr,o))),i.toggle()},r.prototype.updateDatetime=function(e,t){var n,r,o=!1,i=!1;switch(this.type){case"date":o=!0;break;case"datetime":i=o=!0;break;case"time":i=!0;break;default:throw"Unknown type in Datetime: "+this.type}o&&(n=e?this.parseDate(e):void 0,r=this.getReferenceDate(n),this.updateDatePicker(r,n,t)),i&&(r="time"==this.type?this.buildTimeObjectFromString(e):this.buildTimeObjectFromDateInstance(n),this.updateTime(t,r))},r.prototype.validate=function(e){switch(this.type){case"date":return this.validateDate(e);case"datetime":return this.validateDatetime(e);case"time":return this.validateTime(e);default:throw"Unknown type in Datetime: "+this.type}},r.prototype.validateDate=function(e){return u.stringDateIsValid(e)?this.validateDatePart(e):"typeMismatch"},r.prototype.validateDatePart=function(e){e=u.extractDateItems(e);return e.year>this.maxYear?"rangeOverflow":!(e.year<this.minYear)||"rangeUnderflow"},r.prototype.validateTimePart=function(e){e=e.split(":");return!(parseInt(e[0],10)>this.maxHour)||"rangeOverflow"},r.prototype.validateDatetime=function(e){var t;return!e||(u.stringDatetimeIsValid(e)?(t=(e=e.split(" "))[0],e=e[1],t=this.validateDatePart(t),u.isString(t)?t:(t=this.validateTimePart(e),!u.isString(t)||t)):"typeMismatch")},r.prototype.validateTime=function(e){return!e||this.validateTimePart(e)},Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},Date.prototype.dateEquals=function(e){return!!e&&this.getFullYear()===e.getFullYear()&&this.getMonth()===e.getMonth()&&this.getDate()===e.getDate()},t.exports=r},{"../../../lib/php-date-formatter.js":60,"../../../lib/zzDOM-closures-full.js":61,"../context.js":27,"../utils.js":57,"./field.js":33,zpt:135}],33:[function(e,t,n){function r(e){o.extend(!0,this,e)}var o=e("../utils.js");r.prototype.setPage=function(e){this.page=e},r.prototype.getPage=function(){return this.page},r.prototype.afterProcessTemplateForField=function(e,t){},r.prototype.throwEventsForSetValueToForm=function(e){e.trigger("keyup"),e.trigger("change",{disableHistory:!0})},r.prototype.setValueToForm=function(e,t){t.val(e),this.throwEventsForSetValueToForm(t)},r.prototype.getValue=function(e){return e.val()},r.prototype.getValueForHistory=function(e){return this.getValue(e)},r.prototype.getValueFromForm=function(e){return e.find('[name="'+this.name+'"]').val()},r.prototype.getValueFromRecord=function(e){return e[this.id]},r.prototype.getViewValueFromRecord=function(e){return e[this.id]},r.prototype.getValueFromSelection=function(e){return e.find(".zcrud-like-field-"+this.name).text().trim()},r.prototype.getTemplate=function(e){return e.fieldsConfig.getDefaultFieldTemplate(this)},r.prototype.getPostTemplate=function(){},r.prototype.getViewTemplate=function(){},r.prototype.mustHideLabel=function(){return!1},r.prototype.buildFields=function(){},r.prototype.filterValue=function(e){return e[this.id]},r.prototype.getThisOptions=function(){return this},r.prototype.get$=function(){return this.page.get$().find(".zcrud-field-"+this.id)},r.prototype.isReadOnly=function(){return this.page.isReadOnly()||this.parentField&&this.parentField.isReadOnly()||this.readOnly},r.prototype.setParentField=function(e){this.parentField=e},r.prototype.buildDataToSend=function(){},r.prototype.dataFromServer=function(){},r.prototype.getId=function(){return this.id},r.prototype.getFields=function(){},r.prototype.goToFirstPage=function(){},r.prototype.getAttributesFor=function(e){return this.attributes[e||"field"]},r.prototype.validate=function(e){return!0},t.exports=r},{"../utils.js":57}],34:[function(e,t,n){var s,a,u=e("../utils.js");t.exports=(s=void 0,a={},{createFieldInstance:function(e){return new(a[e.type]||s)(e)},registerAllConstructors:function(e){s=e.default;for(var t=0;t<e.mapping.length;++t){var n=e.mapping[t],r=(i=o=r=void 0,n.constructor),o=n.fieldTypes;if(o=o||r.types,u.isArray(o))for(var i=0;i<o.length;i++)a[o[i]]=r;else a[o]=r}},filterValues:function(e,t){var n,r={};for(n in t){var o=t[n],i=o.filterValue(e);null!=i&&(r[o.id]=i)}return r}})},{"../utils.js":57}],35:[function(e,t,n){var l,b,c,x,w,C,o,d,p=e("../normalizer.js"),r=e("./container.js"),f=e("../utils.js");function i(e,t){if(t)for(var n=0;n<e.fieldsArray.length;++n)e.fieldsArray[n].setPage(t)}function s(e,t,n,r,o){for(var i={fieldsArray:[],fieldsMap:{},view:[]},s=0;s<e.length;++s)b(i,o||t.fields,e[s],t,n,r);return i}t.exports=(b=function(e,t,n,r,o,i,s,a,u){f.isString(n)?w(d(t,n),e,r,i,s,a,u):"fieldsGroup"==n.type?c(e,t,n,r,o,i,s,a,u):(t=p.buildFullFieldInstance(n.id,n,r),w(t,e,r,i,s,a,u))},c=function(e,t,n,r,o,i,s,a){n.container&&"none"!=n.container.containerType&&(s=n.container.containerType,a=n.container.id,v=n.container);var u=n.start,l=n.end,c=n.except,d=C(n.source,r,o);if(d.length)for(var p=!u,f=!1,h=0;h<d.length;++h){var g=d[h],m=g.id;if(m===l&&(f=!0),(p=m===u?!0:p)&&(!c||-1===c.indexOf(m)))if("fieldContainer"==g.type)for(var v=g,y=0;y<v.fields.length;++y)w(v.fields[y],e,r,i,v.containerType,v.id,v,!0);else b(e,t,g,r,o,i,s,a,v);if(f)return}else n=x(v,r),e.view.push(n)},x=function(e,t){return f.extend(!0,e,{type:"fieldContainer",template:t.containers.types[e.containerType].template,fields:[]}),e.options=t,new r(e)},w=function(e,t,n,r,o,i,s,a){if(t.fieldsArray.push(e),t.fieldsMap[e.id]=e,i){var u=t.view[t.view.length-1];if(!u||u.id!=i){if(!(u=x(s,n)).template)throw'Container with containerId "'+i+'" has got no template!';t.view.push(u)}a||u.fields.push(e)}else t.view.push(e);r&&r(e)},C=function(e,t,n){var r=void 0;if(f.isArray(e))for(var r=[],o=0;o<e.length;++o){var i=e[o];f.isString(i)?r.push(t.fields[i]):(i=p.buildFullFieldInstance(i.id,i,t),r.push(i))}else if(e&&""!==e&&"default"!==e)if(e.startsWith("subform/")){var s=e.substring("subform/".length);for(a in r=[],t.fields[s].fields){u=t.fields[s].fields[a];r.push(u)}}else r=l(e,t,n).view;else for(var a in r=[],t.fields){var u=t.fields[a];r.push(u)}return r},o=function(e,t){if(e)return e;throw'Field with id "'+t+'" not found!'},d=function(e,t){var n=t.indexOf("/");if(-1===n)return o(e[t],t);var r=t.substring(0,n),n=t.substring(1+n),e=e[r];if(e)return o(e.fields[n],t);throw'Subform with id "'+r+'" not found!'},{getForPage:l=function(e,t,n,r){var o=t.pageConf.pages[e];if(!o)throw"Page id not found: "+e;if(o.fieldsCache)return i(o.fieldsCache,r),o.fieldsCache;if(n){if(-1!==n.indexOf(e))throw"Circular reference trying to build fields for "+e+" page!"}else n=[];n.push(e);e=s(o.fields,t,n,function(e){e.buildFields()});return o.fieldsCache=e,i(o.fieldsCache,r),e},getForList:function(e,t,n){return e.fieldsCache||(t=s(e.fields,t,void 0,function(e){e.buildFields()},n),e.fieldsCache=t)},build:s})},{"../normalizer.js":50,"../utils.js":57,"./container.js":31}],36:[function(e,t,n){t.exports={buildRecord:function(e,t){for(var n={},r=0;r<e.length;r++){var o=e[r],i=o.getValueFromForm(t);null!=i&&""!=i&&(n[o.id]=i)}return n},updateRecordFromFormSelection:function(e,t,n){for(var r=0;r<t.length;r++){var o=t[r],i=o.isReadOnly()?void 0:o.getValueFromForm(n);null!=i&&""!=i&&(e[o.id]=i)}},buildDefaultValuesRecord:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];void 0!==r.defaultValue&&(t[r.id]=r.defaultValue)}return t},buildRecordsMap:function(e,t){e=e||[];for(var n={},r=0;r<e.length;r++){var o=e[r];n[o[t]]=o}return n}}},{}],37:[function(e,t,n){var a,o,i,r,u,s,l,c=e("../context.js"),d=e("../crudManager.js"),p=e("../utils.js"),e=(a={},i=function(e,t){return{value:e,displayText:t||e}},r=function(e){for(var t=[],n=0;n<e.length;n++)p.isPlainObject(e[n])?t.push(e[n]):t.push(i(e[n]));return t},u=function(e,t){var n,r;e&&e.length&&t&&(n=void 0,n=0==t.indexOf("value")?function(e){return e.value}:function(e){return e.displayText},r=void 0,r=p.isString(n(e[0]))?function(e,t){return n(e).localeCompare(n(t))}:function(e,t){return n(e)-n(t)},0<t.indexOf("desc")?e.sort(function(e,t){return r(t,e)}):e.sort(function(e,t){return r(e,t)}))},s=function(e){var t,n=[];for(t in e){var r=e[t];n.push(i(t,r))}return n},l=function(e,t){var n=t.dependsOn;if(!n)return{};for(var r={},o=0;o<n.length;o++){var i=n[o],s=c.getFieldData(i).name;r[i]=e[s]}return r},{buildOptions:o=function(t,n){var r,e=t.field.options,o=t,i=!1,s=(p.isFunction(e)&&(e=e(h(o))),void 0);if("string"!=typeof e?s=m(e,t.field):(r="options_"+t.field.id+"_"+e,(s=a[r])||(i=!0,d.getOptions(t.field.id,e,t.options,function(e){s=m(e,t.field),a[r]=s,u(a[r],t.field.optionsSorting),t.field.addCurrentValueToOptions&&(s=g(s,t)),n&&n(s)}))),s||!i){if(t.field.addCurrentValueToOptions&&(s=g(s,t)),!n)return s;n(s)}},getOptionsFromBlank:function(e,t){return f([],e,t)},getOptionsFromRecord:f,asyncGetOptions:function(e,t,n,r){n={field:t,value:e[t.id],options:n,record:e};n.dependedValues=l(e,t),o(n,r)},createDependedValuesUsingForm:function(e,t,n,r){for(var o={},i=0;i<e.dependsOn.length;i++){var s=e.dependsOn[i],a=c.getField(r.options.fields,s);o[s]=n.find('[name="'+a.name+'"]').val()}return o},resetCache:function(){a={}}});function f(e,t,n){return(n={field:t,value:e[t.id],options:n,record:e}).dependedValues=l(e,t),o(n)}function h(e){var t,n={dependedValues:{}};for(t in e)n[t]="options"==t||"dictionary"==t||"formPage"==t?e[t]:p.extend(!0,{},e[t]);return n}function g(e,t){var n=[];(t=t.value)&&n.push(i(t));for(var r=0;r<e.length;r++)n.push(e[r]);return n}function m(e,t){var n=void 0,n=(p.isArray(e)?r:s)(e);return u(n,t.optionsSorting),n}t.exports=e},{"../context.js":27,"../crudManager.js":28,"../utils.js":57}],38:[function(e,t,n){function r(e){o.call(this,e)}var o=e("./field.js"),a=e("../context.js"),u=e("./optionProvider.js"),i=e("../../../lib/zzDOM-closures-full.js").zz,l=e("zpt"),s=e("../utils.js");((r.prototype=new o).constructor=r).prototype.afterProcessTemplateForFieldInCreateOrUpdate=function(t,e){if(this.dependsOn){var n,r=this.page,o=e.find('[name="'+this.name+'"]'),i={field:this};for(n in i.type=this.type,i.value=t.value,this.dependsOn){var s=this.dependsOn[n],s=a.getField(r.getOptions().fields,s);e.find('[name="'+s.name+'"]').on("change",function(){t.dependedValues=u.createDependedValuesUsingForm(t.field,r.getOptions(),e,t),u.buildOptions(t,function(e){e&&(i.optionsListFromForm=e,i.record=t.record,i.value=t.record[t.field.id],i.field=t.field,i.type=t.field.type,i.value=t.value,l.run({root:o[0],dictionaryExtension:i}),o.trigger("change",{disableHistory:!0}))})})}}},r.prototype.afterProcessTemplateForField=function(e,t){this.page.isReadOnly()||this.afterProcessTemplateForFieldInCreateOrUpdate(e,t)},r.prototype.getValueFromSelectionAndField=function(e){return e.parents(".zcrud-checkboxes-container").first().find('input[type="checkbox"]:checked').map(function(){return i(this).val()}).get()},r.prototype.getValueFromForm=function(e){switch(this.type){case"checkboxes":return this.getValueFromSelectionAndField(e);case"radio":var t=e.find('input[type="radio"][name="'+this.name+'[0]"]:checked');return 0<t.length?t.val():void 0;case"select":return e.find('select[name="'+this.name+'"]').val();case"datalist":return e.find('input[name="'+this.name+'"]').val()}throw"Unknown field type in optionsField: "+this.type},r.prototype.setValueToForm=function(e,t){switch(this.type){case"checkboxes":var n=t.parents(".zcrud-checkboxes-container").first().find('input[type="checkbox"].zcrud-active');if(n.prop("checked",!1),e)for(var r=0;r<e.length;++r)n.filter("[value="+e[r]+"]").prop("checked",!0);return void this.throwEventsForSetValueToForm(t);case"radio":var o=t.parents(".zcrud-radio-container").first().find('input[type="radio"].zcrud-active');return e?o.filter('[value="'+e+'"]').prop("checked",!0):o.prop("checked",!1),void this.throwEventsForSetValueToForm(t);case"select":case"datalist":return t.val(e),t.trigger("change",{disableHistory:!0}),void this.throwEventsForSetValueToForm(t)}throw"Unknown field type in optionsField: "+this.type},r.prototype.getValue=function(e){switch(this.type){case"checkboxes":return this.getValueFromSelectionAndField(e);case"radio":case"select":case"datalist":return e.val()}throw"Unknown field type in optionsField: "+this.type},r.prototype.getViewValueFromRecord=function(t){var e=this.getOptionsFromRecord(t,this.page.getOptions()),t=t[this.id];try{var n=this.getDisplayTextMapFromArrayOptions(e);return"checkboxes"==this.type?this.getMultipleValueFromRecord(n,t):n[t]||t}catch(e){return t}},r.prototype.getMultipleValueFromRecord=function(e,t){var n,r="";for(n in t)0<n&&(r+=", "),r+=e[t[n]];return r},r.prototype.getDisplayTextMapFromArrayOptions=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];t[r.value]=this.translateOptions?a.translate(r.displayText):r.displayText}return t},r.prototype.getTemplate=function(){return this.type+"@templates/fields/basic.html"},r.prototype.getPostTemplate=function(){switch(this.type){case"checkboxes":case"radio":case"select":return;case"datalist":return"datalist-definition@templates/fields/basic.html"}throw"Unknown field type in optionsField: "+this.type},r.prototype.mustHideLabel=function(){switch(this.type){case"checkboxes":case"radio":return!0;case"select":case"datalist":return!1}throw"Unknown field type in optionsField: "+this.type},r.prototype.getOptionsFromBlank=function(e){return u.getOptionsFromBlank(this,e)},r.prototype.getOptionsFromRecord=function(e,t){return u.getOptionsFromRecord(e,this,t)},r.prototype.getAsync=function(e,t){u.asyncGetOptions(e,this,this.page.getOptions(),t)},r.prototype.builNonDependentAsyncFieldList=function(){var e=this.options;return"string"==typeof e||s.isFunction(e)&&!this.dependsOn?[this]:[]},r.prototype.buildDependentAsyncFieldList=function(e){var t=this.options;return"string"==typeof t||s.isFunction(t)&&this.dependsOn?[{record:this.dependsOn?e:{},field:this}]:[]},t.exports=r},{"../../../lib/zzDOM-closures-full.js":61,"../context.js":27,"../utils.js":57,"./field.js":33,"./optionProvider.js":37,zpt:135}],39:[function(e,t,n){function r(e){o.call(this,e),this.fieldsArray=[],this.fieldsMap={},this.filter=void 0,this.currentFormPage=void 0,this.addedRecords={},this.toolbarButtons=void 0,this.byRowButtons=void 0}var o=e("./field.js"),s=e("../context.js"),i=e("../../../lib/zzDOM-closures-full.js").zz,a=e("zpt"),u=e("../validationManager.js"),l=e("../components/componentsMap.js"),c=e("./fieldUtils.js"),d=e("../history/create.js"),p=e("../history/delete.js"),f=e("../history/composition.js"),h=e("../crudManager.js"),g=e("../pages/pageUtils.js"),m=e("../pages/formPage.js"),v=e("../buttons/buttonUtils.js"),y=e("../utils.js");((r.prototype=new o).constructor=r).prototype.getFromAddedRecords=function(e){return this.addedRecords[e]},r.prototype.filterValue=function(e){for(var t=[],n=e[this.id],r=this.fields,o=0;o<n.length;o++){var i,s=n[o],a={};for(i in t.push(a),r){var u=r[i];null!=s[u.id]&&(a[u.id]=u.filterValue(s))}}return t},r.prototype.getValueFromRecord=function(e){for(var t=e[this.id]||[],n=this.fields,r=0;r<t.length;r++){var o,i=t[r];for(o in n){var s=n[o];i[s.id]=s.getValueFromRecord(i)}}return t},r.prototype.getViewValueFromRecord=function(e){for(var t=e[this.id]||[],n=this.fields,r=0;r<t.length;r++){var o,i=t[r];for(o in n){var s=n[o];i[s.id]=s.getViewValueFromRecord(i)}}return t},r.prototype.afterProcessTemplateForField=function(e){var t=this.get$();this.bindEventsInRows(e,t,void 0),this.bindButtonsEvent(this.getToolbarButtons(),t,e),this.componentsMap.bindEvents()},r.prototype.showCreateForm=function(){this.showNewForm("create")},r.prototype.showNewForm=function(e,t){this.currentFormPage=new m(this.page.getOptions(),{type:e,parentPage:this.page,record:t}),this.currentFormPage.show()},r.prototype.buildDictionary=function(e){var t=y.extend({},s.getDictionary(),{});return t.editable=!0,t.instance=this,t.records=[e],t.hideRowButtons=this.isReadOnly(),t},r.prototype.addNewRow=function(e){e=this.buildHistoryItemForNewRow(e);s.getHistory().put(this.page.getId(),e),this.addToAddedRecords(e)},r.prototype.addToAddedRecords=function(e){this.addedRecords[e.recordId]=e.record},r.prototype.buildHistoryItemForNewRow=function(e){var t=e.defaultRecord||c.buildDefaultValuesRecord(this.fieldsArray),n=this.buildDictionary(t),n=new d(s.getHistory(),n,i("#"+this.page.getId()+" .zcrud-field-"+this.id+" tbody"),t,this.id),t=n.get$Tr();return this.bindEventsInRows(e,void 0,t),this.componentsMap.bindEventsIn1Row(t),u.initFormValidation(this.page.getId(),t,this.page.getOptions()),n},r.prototype.bindButtonEvent=function(e,t,n,r){y.isFunction(t.run)&&e.find(t.getSelector()).off().on("click",function(e){t.run(e,n,r)})},r.prototype.bindEventsInRows=function(e,t,n){var r=t||n,o=this.page;r.find("input.historyField, textarea.historyField, select.historyField").on("change",function(e){var t,n;y.getParam(e.params,"disableHistory")||(t=(e=i(this)).attr("name"),t=o.getFieldByName(t),n=e.parents("tr").first(),s.getHistory().putChange(e,t.getValueForHistory(e),0,n.attr("data-record-id"),o.getId(),t,n.attr("data-record-index"),n.attr("data-record-key")))}),this.bindButtonsEvent(this.getByRowButtons(),r,e),n?this.bindEventsForFieldsIn1Row(n,this.fields,[],o.getDictionary(),e):this.bindEventsForFields(t,this.fields,o.getDictionary(),e)},r.prototype.bindEventsForFields=function(e,t,n,r){for(var o=r.value||[],i=e.find("tbody").children().filter(".zcrud-data-row"),s=0;s<o.length;s++){var a=o[s],u=i.list[s];this.bindEventsForFieldsIn1Row(u,t,a,n,r)}},r.prototype.bindEventsForFieldsIn1Row=function(e,t,n,r,o){for(var i in t){i=t[i];i.afterProcessTemplateForField(this.buildProcessTemplateParams(i,n,r,o),e)}},r.prototype.buildProcessTemplateParams=function(e,t,n,r){return{field:e,value:t?t[e.id]:void 0,options:r.options,record:t,source:r.source,dictionary:n,formPage:r.formPage}},r.prototype.deleteRow=function(e){e=i(e.target).parents("tr").first();s.getHistory().putDelete(this.page.getId(),e.attr("data-record-id"),0,e.attr("data-record-key"),e,this,e.attr("data-record-index"))},r.prototype.getTemplate=function(){return"subform@templates/fields/subforms.html"},r.prototype.getViewTemplate=function(){return"view@templates/fields/subforms.html"},r.prototype.buildFields=function(){for(var e in this.fieldsArray=[],this.fieldsMap={},this.fields){var t=this.fields[e];this.fieldsArray.push(t),(this.fieldsMap[e]=t).setParentField(this)}},r.prototype.getFields=function(){return this.fieldsArray},r.prototype.mustHideLabel=function(){return!0},r.prototype.getComponent=function(e){return this.componentsMap.getComponent(e)},r.prototype.getSecureComponent=function(e){return this.componentsMap.getSecureComponent(e)},r.prototype.getKey=function(){return this.subformKey},r.prototype.setPage=function(e){this.page=e,this.componentsMap=new l(this.page.getOptions(),this.components,this,this.page);for(var t=0;t<this.fieldsArray.length;++t)this.fieldsArray[t].setPage(this.page)},r.prototype.buildMapValue=function(){return c.buildRecordsMap(this.page.getFieldValue(this.id),this.getKey())},r.prototype.getRecordByKey=function(e,t,n){e=this.buildMapValue()[e];return n&&!this.readOnly&&c.updateRecordFromFormSelection(e,this.fieldsArray,t),e},r.prototype.addNewRowsFromSubform=function(e,t,n,r){var o=t?this.page.getField(e).getComponent("selecting"):void 0,i=t?o.getSelectedRecords():this.page.getFieldValue(e),i=this.addNewRows_common(i,n?this.page.getField(e):void 0,t?o.getSelectedRows():void 0);return!n&&t&&r&&o.deselectAll(),i},r.prototype.addNewRows_common=function(e,t,n){if(!e||0==e.length)return[];for(var r=new f(s.getHistory()),o=0;o<e.length;++o){var i=this.buildHistoryItemForNewRow({field:this,defaultRecord:e[o]});r.add(i),this.addToAddedRecords(i),t&&(i=n.list[o],r.add(new p(s.getHistory(),i.attr("data-record-id"),0,i.attr("data-record-key"),i,t.name)))}return s.getHistory().put(this.page.getId(),r),e},r.prototype.addNewRows=function(e){return this.addNewRows_common(e)},r.prototype.getPagingComponent=function(){return this.componentsMap.getComponent("paging")},r.prototype.getTotalNumberOfRecords=function(){var e=this.getPagingComponent();return e?e.getTotalNumberOfRecords():this.getRecords().length},r.prototype.getRecords=function(){return this.page.getFieldValue(this.id)},r.prototype.dataFromServer=function(e){this.componentsMap.dataFromServer({totalNumberOfRecords:e.fieldsData&&e.fieldsData[this.id]?e.fieldsData[this.id].totalNumberOfRecords:0,records:e.record?e.record[this.id]:[]})},r.prototype.update=function(t,n,r){var o=this;h.listRecords({url:this.getGroupOfRecordsURL,search:this.buildDataToSendForUpdate(),success:function(e){o.clientAndServerSuccessFunction.call(o,e,t,n)},error:function(e){s.showError(o.page.getOptions(),!1,e.message||"Server communication error!"),r&&r(!1)}},this.page.getOptions())},r.prototype.buildDataToSendForUpdate=function(){var e=this.buildDataToSend(),t=this.page.getKeyValue();return t&&(e.key=t),e},r.prototype.buildDataToSend=function(){var e={};return y.isEmptyObject(this.filter)||(e.filter=this.filter),this.componentsMap.addToDataToSend(e),this.page.getComponentMap().addToDataToSend(e),e},r.prototype.beforeProcessTemplate=function(e){this.componentsMap.dataFromServer(e),this.page.filterArrayOfRecordsFromServerData(e.records,this.fieldsArray),this.updateRecords(e.records)},r.prototype.clientAndServerSuccessFunction=function(e,t,n,r){this.beforeProcessTemplate(e),this.processTemplate(t,n),this.afterProcessTemplate(),r&&r(!0)},r.prototype.processTemplate=function(e,t){a.run({root:e||[this.get$().find("tbody")[0],this.getPagingComponent()?this.getPagingComponent().get$()[0]:void 0],dictionaryExtension:this.buildDictionaryForUpdate(t)})},r.prototype.afterProcessTemplate=function(){this.afterProcessTemplateForField(this.page.buildProcessTemplateParams(this))},r.prototype.buildDictionaryForUpdate=function(e){var t={};return e&&y.extend(t,e),t.records=this.getRecords(),t.field=this,t.editable=!this.isReadOnly(),t.instance=this,t},r.prototype.isFiltered=function(){var e=this.getComponent("filtering");return e&&e.filterIsOn()},r.prototype.getFieldsSource=function(){return this.fieldsMap},r.prototype.generateId=function(){return g.generateId()},r.prototype.getName=function(){return this.id},r.prototype.showNewFormUsingRecordFromServer=function(e,t){t=g.getKeyFromButton(t);if(null==t)throw"Error trying to load record in formPage: key is null!";this.currentFormPage=new m(this.page.getOptions(),{type:e,parentPage:this.page}),this.currentFormPage.show({key:t,getRecordURL:this.getRecordURL})},r.prototype.updateRecords=function(e){this.page.updateRecordProperty(this.id,e)},r.prototype.isDirty=function(){var e=s.getHistory();return!!e&&e.isSubformDirty(this.id)},r.prototype.getToolbarButtons=function(){return null==this.toolbarButtons&&(this.toolbarButtons=v.getButtonList(this.buttons.toolbar,"subformToolbar",this,this.page.getOptions())),this.toolbarButtons},r.prototype.getByRowButtons=function(){return null==this.byRowButtons&&(this.byRowButtons=v.getButtonList(this.buttons.byRow,"subformRow",this,this.page.getOptions())),this.byRowButtons},r.prototype.bindButtonsEvent=function(e,t,n){for(var r=0;r<e.length;++r)this.bindButtonEvent(t,e[r],this,n)},r.prototype.removeChanges=function(){s.getHistory().removeSubformChanges(this.page.getId(),this.id)},r.prototype.goToFirstPage=function(){var e=this.getPagingComponent();e&&e.goToFirstPage()},r.prototype.getType=function(){return this.page.getType()},r.prototype.builNonDependentAsyncFieldList=function(){for(var e=[],t=0;t<this.fieldsArray.length;++t){var n=this.fieldsArray[t];y.isFunction(n.builNonDependentAsyncFieldList)&&(e=e.concat(n.builNonDependentAsyncFieldList()))}return e},r.prototype.buildDependentAsyncFieldList=function(e){for(var t=[],n=this.getValueFromRecord(e),r=0;r<n.length;r++)for(var o=n[r],i=0;i<this.fieldsArray.length;++i){var s=this.fieldsArray[i];y.isFunction(s.buildDependentAsyncFieldList)&&(t=t.concat(s.buildDependentAsyncFieldList(o)))}return t},t.exports=r},{"../../../lib/zzDOM-closures-full.js":61,"../buttons/buttonUtils.js":2,"../components/componentsMap.js":21,"../context.js":27,"../crudManager.js":28,"../history/composition.js":42,"../history/create.js":43,"../history/delete.js":44,"../pages/formPage.js":51,"../pages/pageUtils.js":54,"../utils.js":57,"../validationManager.js":58,"./field.js":33,"./fieldUtils.js":36,zpt:135}],40:[function(e,t,n){function r(e,t){this.history=e,this.recordId=t,this.id=o.generateId()}var o=e("../pages/pageUtils.js");r.prototype.getId=function(){return this.id},r.prototype.getRecordId=function(){return this.recordId},r.prototype.undo=function(){throw"Method undo not implemented!"},r.prototype.redo=function(){throw"Method redo not implemented!"},r.prototype.isRelatedToField=function(e,t,n,r){return this.rowIndex==e&&this.subformName==n&&this.subformRowIndex==r},r.prototype.isRelatedToRow=function(e,t,n){return this.rowIndex==e&&this.subformName==t&&this.subformRowIndex==n},r.prototype.doAction=function(){throw"Method doAction not implemented!"},r.prototype.doActionIfNotOff=function(e,t,n,r,o){if(n.historyItemIsOn(this))return this.doAction(e,t,r,o)},r.prototype.getNewValue=function(){throw"Method getNewValue not implemented!"},r.prototype.saveEnabled=function(){throw"Method saveEnabled not implemented!"},r.prototype.isDirty=function(){throw"Method isDirty not implemented!"},r.prototype.getAtomicItems=function(){return[this]},r.prototype.getCreationItems=function(){throw"Method getCreationItems not implemented!"},r.prototype.isNew=function(){return!1},r.prototype.type="AbstractHistoryAction",t.exports=r},{"../pages/pageUtils.js":54}],41:[function(e,t,n){e("../../../lib/zzDOM-closures-full.js").zz;function r(e,t,n,r,o,i,s,a,u,l,c,d){p.call(this,e,n),this.options=t,this.rowIndex=r,this.name=o,this.newValue=i,this.previousValue=s,this.$this=a,this.field=u,this.subformName=l,this.subformRowIndex=c,this.subformRowKey=d,this.updateCSS(!0,!0)}var p=e("./abstractHistoryAction.js"),c=e("../../../js/app/utils.js");((r.prototype=new p).constructor=r).prototype.setValue=function(e){this.field.setValueToForm(void 0===e?null:e,this.$this,!this.history.isFormMode(),this.options)},r.prototype.undo=function(){this.setValue(this.previousValue);var e=this.history.getPreviousItem(this.rowIndex,this.name,this.subformName,this.subformRowIndex);this.updateCSS(!!e&&e.isDirty(),this.history.getPreviousRecordItem(this.rowIndex,this.subformName,this.subformRowIndex))},r.prototype.redo=function(){this.setValue(this.newValue),this.updateCSS(!0,!0)},r.prototype.updateCSS=function(e,t){this.$this&&(this.history.isFormMode()&&!this.subformName?e?this.$this.parents(".zcrud-field").first().addClass(this.history.getEditableOptions().modifiedFieldsClass):this.$this.parents(".zcrud-field").first().removeClass(this.history.getEditableOptions().modifiedFieldsClass):(e?this.$this.parents("td").first().addClass(this.history.getEditableOptions().modifiedFieldsClass):this.$this.parents("td").first().removeClass(this.history.getEditableOptions().modifiedFieldsClass),t?this.$this.parents("tr").first().addClass(this.history.getEditableOptions().modifiedRowsClass):this.$this.parents("tr").first().removeClass(this.history.getEditableOptions().modifiedRowsClass)))},r.prototype.getNewValue=function(){return this.newValue},r.prototype.doAction=function(e,t,n,r){var o=this.history.buildAndAttachRowForDoAction(e,t,this.rowIndex,this.subformName,this.subformRowIndex,this.subformRowKey,void 0,!0);this.processDefaultValue(e,t,n,r,o),o[this.name]=this.newValue},r.prototype.processDefaultValue=function(e,t,n,r,o){c.isEmptyObject(o)&&this.isNew(t)&&(t=this.subformName?this.buildSubformRowDefaultValue(n):this.buildFirstRowDefaultValue(n),this.copyProperties(t,o,!1),this.addDefaultSubformsToActionsObject(e,n,r,o))},r.prototype.addDefaultSubformsToActionsObject=function(e,t,n,r){for(var o in t){var i=t[o],s=n[o];if(c.isArray(i)&&s&&"subform"==s.type){var a=this.history.buildEmptyActionsObject();r[o]=a;for(var u=0;u<i.length;++u){var l=i[u];a.new[u]=l}}}},r.prototype.buildSubformRowDefaultValue=function(e){e=e[this.subformName];if(e){e=e[this.subformRowIndex];if(e)return this.buildFirstRowDefaultValue(e)}},r.prototype.buildFirstRowDefaultValue=function(e){var t={};return this.copyProperties(e,t,!0),t},r.prototype.copyProperties=function(e,t,n){if(e)for(var r in e){var o=e[r];n&&c.isArray(o)||(t[r]=o)}},r.prototype.isNew=function(e){return this.history.isNew(e,this.rowIndex)},r.prototype.saveEnabled=function(){return!0},r.prototype.isDirty=function(){return!0},r.prototype.isRelatedToField=function(e,t,n,r){return this.rowIndex==e&&this.name==t&&this.subformName==n&&this.subformRowIndex==r},r.prototype.getCreationItems=function(){return[]},r.resetCSS=function(e,t){e.find("."+t.modifiedFieldsClass).removeClass(t.modifiedFieldsClass),e.find("."+t.modifiedRowsClass).removeClass(t.modifiedRowsClass)},r.prototype.type="change",t.exports=r},{"../../../js/app/utils.js":57,"../../../lib/zzDOM-closures-full.js":61,"./abstractHistoryAction.js":40}],42:[function(e,t,n){function r(e){o.call(this,e),this.items=[]}var o=e("./abstractHistoryAction.js");((r.prototype=new o).constructor=r).prototype.add=function(e){this.items.push(e)},r.prototype.runMethodForAll=function(e){for(var t=Array.prototype.slice.call(arguments,1)[0],n=0;n<this.items.length;++n){var r=this.items[n];r[e].apply(r,t)}},r.prototype.runMethodForAllUsingOr=function(e){for(var t=Array.prototype.slice.call(arguments,1)[0],n=0;n<this.items.length;++n){var r=this.items[n];if(r[e].apply(r,t))return!0}return!1},r.prototype.runMethodForAllUsingNotUndefined=function(e){for(var t=Array.prototype.slice.call(arguments,1)[0],n=0;n<this.items.length;++n){var r=this.items[n],r=r[e].apply(r,t);if(null!=r)return r}},r.prototype.undo=function(){this.runMethodForAll.apply(this,["undo"])},r.prototype.redo=function(){this.runMethodForAll.apply(this,["redo"])},r.prototype.getNewValue=function(e,t,n,r){for(var o=0;o<this.items.length;++o){var i=this.items[o];if(i.isRelatedToField(e,t,n,r))return i.getNewValue(e,t,n,r)}},r.prototype.isRelatedToField=function(){return this.runMethodForAllUsingOr.apply(this,["isRelatedToField",arguments])},r.prototype.isRelatedToRow=function(){return this.runMethodForAllUsingOr.apply(this,["isRelatedToRow",arguments])},r.prototype.doAction=function(){this.runMethodForAll.apply(this,["doAction",arguments])},r.prototype.doActionIfNotOff=function(){this.runMethodForAll.apply(this,["doActionIfNotOff",arguments])},r.prototype.saveEnabled=function(){return!0},r.prototype.isDirty=function(){return this.runMethodForAllUsingOr.apply(this,["isDirty",arguments])},r.prototype.getAtomicItems=function(){for(var e=[],t=0;t<this.items.length;++t)var n=this.items[t],e=e.concat(n.getAtomicItems());return e},r.prototype.getCreationItems=function(e){for(var t=[],n=0;n<this.items.length;++n)var r=this.items[n],t=t.concat(r.getCreationItems(e));return t},r.prototype.type="composition",t.exports=r},{"./abstractHistoryAction.js":40}],43:[function(e,t,n){function r(e,t,n,r,o){i.call(this,e),this.thisDictionary=t,this.$tbody=n,this.record=r,this.subformName=o,this.isSubform=void 0!==this.subformName,this.$tr=void 0,this.rowIndex=0,this.subformRowIndex=void 0,this.thisDictionary=(e=>((e=s.extend({},e)).omitKey=!0,e))(this.thisDictionary),this.addRow(),this.recordId=this.$tr.attr("data-record-id"),this.updateCSS(!0)}var o=e("zpt"),i=e("./abstractHistoryAction.js"),s=e("../utils.js");((r.prototype=new i).constructor=r).prototype.undo=function(){this.history.hideTr(this.$tr)},r.prototype.redo=function(){this.history.showTr(this.$tr),this.updateCSS(!0)},r.prototype.addRow=function(){o.run({root:this.$tbody[0],dictionaryExtension:this.thisDictionary,notRemoveGeneratedTags:!0}),this.$tr=this.$tbody.find("tr.zcrud-data-row:last-child");var e=this.$tr.attr("data-record-index");this.isSubform?this.subformRowIndex=e:this.rowIndex=e},r.prototype.updateCSS=function(e){e?this.$tr.addClass(this.history.getEditableOptions().modifiedRowsClass):this.$tr.removeClass(this.history.getEditableOptions().modifiedRowsClass)},r.prototype.getNewValue=function(e,t,n,r){return this.record[t]},r.prototype.doAction=function(e,t){this.history.buildAndAttachRowForDoAction(e,t,this.rowIndex,this.subformName,this.subformRowIndex,void 0,this.record,!1)},r.prototype.get$Tr=function(){return this.$tr},r.prototype.saveEnabled=function(){return!1},r.prototype.isDirty=function(){return!1},r.prototype.updateFromChange=function(e){this.record[e.name]=e.newValue},r.prototype.getCreationItems=function(e){return this.subformName==e?[this]:[]},r.resetCSS=function(){},r.prototype.type="create",t.exports=r},{"../utils.js":57,"./abstractHistoryAction.js":40,zpt:135}],44:[function(e,t,n){function r(e,t,n,r,o,i,s){a.call(this,e,t),this.rowIndex=n,this.key=r,this.$tr=o,this.subformName=i,this.subformRowIndex=s||0,this.$tr&&this.history.hideTr(this.$tr)}var a=e("./abstractHistoryAction.js");((r.prototype=new a).constructor=r).prototype.undo=function(){this.history.showTr(this.$tr)},r.prototype.redo=function(){this.history.hideTr(this.$tr)},r.prototype.getNewValue=function(){},r.prototype.isRelatedToField=function(){return!1},r.prototype.isRelatedToRow=function(e){return this.rowIndex==e},r.prototype.getDeletedMap=function(e,t){t=t[this.rowIndex]?e.modified:e.new;return t[this.rowIndex]&&t[this.rowIndex][this.subformName]||this.history.createNestedObject(t,[this.rowIndex,this.subformName],this.history.buildEmptyActionsObject()),t[this.rowIndex][this.subformName].deleted},r.prototype.doAction=function(e,t){if(null==this.key){if(this.subformName)return void delete e.new[0][this.subformName].new[this.subformRowIndex];throw"No subform name found trying to delete subform row!"}t=this.subformName?this.getDeletedMap(e,t):e.deleted;-1==t.indexOf(this.key)&&t.push(this.key)},r.prototype.get$Tr=function(){return this.$tr},r.prototype.getKey=function(){return this.key},r.prototype.saveEnabled=function(){return void 0!==this.key},r.prototype.isDirty=function(){return!1},r.prototype.getCreationItems=function(){return[]},r.resetCSS=function(){},r.prototype.type="delete",t.exports=r},{"./abstractHistoryAction.js":40}],45:[function(e,t,n){function r(e,t,n,r){function g(e){var t=(e=e.name).indexOf(_.subformSeparator);return{subformName:-1===t?null:e.substring(0,t),name:-1===t?e:e.substring(1+t)}}function m(e,t){b[x++]=t,T()&&b.splice(x,b.length-x),D(e)}function v(e,t,n,r){var o=E(e,t,n,r);return o?o.getNewValue(e,t,n,r):S(e,t,n,r)}function o(){return 0<x}function u(){return{modified:{},new:{},deleted:[]}}function l(e,t,n){for(var r=3===arguments.length&&t.pop(),o=0;o<t.length;o++)e=e[t[o]]=e[t[o]]||{};return e=r?e[r]=n:e}function i(e,t){return!e[t]}function c(e,t,n){return t[n]?e.modified:e.new}function d(e){return e?"modified":"new"}function p(e,t,n,r,o,i,s,a){(e[i]&&e[i][o]?e[i][o]:l(e,[i,o],u()))[n][r?s:a]=t}function s(){var e=0;return{next:function(){return e<x&&b[e++]}}}var y=e,a=t,f=n,h=r,b=[],x=0,w={},C=function(e){return null==e||""==e},j=function(e,t){var n=C(e),r=C(t);return n||r?n&&r:e===t},S=function(e,t,n,r){var o=f.getInstanceDictionaryExtension();try{var i=e?o.records[e]:o.record;if(!i)return"";r&&(i=i[n][r])}catch(e){}e=i?i[t]:void 0;return void 0!==e?e:""},E=function(e,t,n,r){for(var o=x-1;0<=o;--o){var i=b[o];if(i.isRelatedToField(e,t,n,r))return i}},T=function(){return x<b.length},A=function(){return x},O=function(){return b.length-x},L=function(e,t){t=e.indexOf(t);return-1==t?e:e.substring(0,t)},F=function(e,t,n){e=e.find(t);e.length&&(t=e.text(),t=L(t," ("),e.text(0==n?t:t+" ("+n+")"),e.prop("disabled",0==n))},D=function(e,t){e=B("#"+e);F(e,".zcrud-undo-command-button",A()),F(e,".zcrud-redo-command-button",O()),e.find(".zcrud-save-command-button").prop("disabled",!k()),t&&e.find("tr.zcrud-data-row.zcrud-hide-marker").remove()},k=function(){if(0!=x)for(var e=0;e<x;++e)if(b[e].saveEnabled())return!0;return!1},I={putChange:function(e,t,n,r,o,i,s,a){var u,l,c,d,p,f,h=g(i);if(u=t,l=n,c=h.name,(f=E(l,c,d=h.subformName,p=s))?u!==f.getNewValue(l,c,d,p):!j(u,S(l,c,d,p)))return f=new R(I,y,r,n,h.name,t,v(n,h.name,h.subformName,s),e,i,h.subformName,s,a),m(o,f),f},putCreate:function(e,t,n,r,o){t=new M(I,t,n,r,o);return m(e,t),t},putDelete:function(e,t,n,r,o,i,s){t=new N(I,t,n,r,o,i?i.name:void 0,s);return m(e,t),t},put:m,removeSubformChanges:function(e,t){for(var n=[],r=0;r<x;++r){var o=b[r];"change"==o.type&&o.subformName==t&&n.push(r)}for(var i=0;i<n.length;++i)b.splice(i);x-=n.length,D(e)},undo:function(e){var t=0<x?b[--x]:void 0;t?(t.undo(),D(e)):_.showError(y,!1,"Unable to undo!")},redo:function(e){var t=T()?b[x++]:void 0;t?(t.redo(),D(e)):_.showError(y,!1,"Unable to redo!")},isUndoEnabled:o,isRedoEnabled:T,getNumberOfUndo:A,getNumberOfRedo:O,getModified:function(){return w},reset:function(e){var t;b=[],x=0,w={},t=B("#"+e),R.resetCSS(t,a),M.resetCSS(t,a),N.resetCSS(t,a),D(e,!0)},getPreviousItem:E,getPreviousRecordItem:function(e,t,n){for(var r=x-1;0<=r;--r){var o=b[r];if(o.isRelatedToRow(e,t,n))return o}},hideTr:function(e){e.addClass("zcrud-hide-marker"),a.hideTr(e)},showTr:function(e){e.removeClass("zcrud-hide-marker"),a.showTr(e)},isFormMode:function(){return!0===h},buildEmptyActionsObject:u,createNestedObject:l,getAllTr$FromCreateItems:function(e){for(var t=[],n=0;n<x;++n)for(var r=b[n].getCreationItems(e),o=0;o<r.length;++o){var i=r[o].get$Tr();i.hasClass("zcrud-hide-marker")||t.push(i)}return t},instanceChange:function(e,t,n,r,o){var i=g(n);return new R(I,y,"1",t,i.name,e,v(t,i.name,i.subformName,r),void 0,n,i.subformName,r,o)},buildActionsObject:function(e,t,n){var r=u(),o=new P;o.run(s());for(var i=0;i<x;++i)b[i].doActionIfNotOff(r,e,o,t,n);return r},getSubformMapKey:d,getMap:c,pushNewSubformRow:p,buildAndAttachRowForDoAction:function(e,t,n,r,o,i,s,a){var u=""==i||!i,e=c(e,t,n),t=r?d(!u):void 0,l=void 0;return(l=a&&(l=e[n],r)?((e,t,n,r,o,i)=>{n=n?o:i;return e=e&&e[r]&&e[r][t]&&e[r][t][n]?e[r][t][n]:void 0})(l,t,u,r,o,i):l)||(l=s||{},r?p(e,l,t,u,r,n,o,i):e[n]=l),l},getEditableOptions:function(){return a},buildIterator:s,updateRecord:function(e,t,n){for(var r in t){var o=t[r];if(U.isPlainObject(o)){var i,s=_.buildFieldIdFromSubformsRecordsId(n,r),a=(null==e[s]&&(e[s]=[]),e[s]=e[s].concat(o.newRecords),n.fields[s].subformKey);for(i in o.existingRecords)for(var u=o.existingRecords[i],l=!1,c=0;!l;){var d=e[s][c++];if(!d)throw"Error trying to update record: row not found!";d[a]==i&&(U.extend(!0,d,u),l=!0)}for(var p=0;p<o.recordsToRemove.length;++p)e[s].splice(p,1)}else e[r]=o}},isDirty:function(){return 0<x},isSubformDirty:function(e){for(var t=0;t<x;++t)if(b[t].subformName==e)return!0;return!1},getOptions:function(){return y},isNew:i};return I}var R=e("./change.js"),M=e("./create.js"),N=e("./delete.js"),P=e("./historyCleaner.js"),_=e("../context.js"),B=e("../../../lib/zzDOM-closures-full.js").zz,U=e("../utils.js");r.updateRecordsMap=function(e,t,n){var r,o=0;for(r in t.existingRecords){var i=t.existingRecords[r],s=e[r];e[r]=U.extend(!0,{},s,i)}for(var a=0;a<t.newRecords.length;++a)e[(s=t.newRecords[a])[n]]=s,++o;for(a=0;a<t.recordsToRemove.length;++a)delete e[t.recordsToRemove[a]],--o;return o},t.exports=r},{"../../../lib/zzDOM-closures-full.js":61,"../context.js":27,"../utils.js":57,"./change.js":41,"./create.js":43,"./delete.js":44,"./historyCleaner.js":46}],46:[function(e,t,n){t.exports=function(){var a={},u={},l=function(e){var t=e.getRecordId(),n=a[t];n||(a[t]=n=[]),n.push(e)},c=function(e,t){for(var n=0;n<e.length-1;n++){var r=e[n];u[r.getId()]=!0}t&&(r=e[e.length-1],u[r.getId()]=!0)};return{run:function(e){var t=e;a={};for(var n=t.next();n;){for(var r=n.getAtomicItems(),o=0;o<r.length;o++)l(r[o]);n=t.next()}for(i in u={},a){var i=a[i],s="create"==i[0].type;"delete"==i[i.length-1].type&&c(i,s)}},historyItemIsOn:function(e){return!u[e.getId()]}}}},{}],47:[function(e,t,n){var d,p,u,l,f,h,c,g,T,A,O,L,F=e("../history/delete.js"),r=e("../context.js"),m=e("../utils.js");function D(e,t,n,r,o,i,s,a){return o=o||i.buildActionsObject(n,s,a),s=u(o,n,e,t,r,i.getOptions()),(0!=Object.keys(s.existingRecords).length||0!=s.newRecords.length||0!=s.recordsToRemove.length)&&s}t.exports=(d=function(){return{existingRecords:{},newRecords:[],recordsToRemove:[]}},p=function(e,t,n){for(var r=m.extend(!0,{},e),o=0;o<t.length;o++){var i,s,a=t[o];"subform"===a.type&&(void 0!==(s=e[i=l(a,n)])&&(r[i]=s),delete r[a.id])}return r},u=function(e,t,n,r,o,i){var s,a=d();for(s in e.modified){var u=e.modified[s],l=t[s],c=l[r];if(null==c)throw"Undefined key found trying to build JSON!";-1==e.deleted.indexOf(c)&&(n||(u=m.extend(!0,{},l,u)),h(u,l,n,o,i),a.existingRecords[c]=p(u,o,i))}for(s in e.new)c=(u=e.new[s])[r],f(u,n,o,i),a.newRecords.push(p(u,o,i));return e.deleted&&(a.recordsToRemove=e.deleted),a},l=function(e,t){return r.buildSubformsRecordsIdFromFieldId(t,e.id)},f=function(e,t,n,r){for(var o=0;o<n.length;o++){var i,s=n[o];"subform"==s.type&&e[s.id]&&(i=u(e[s.id],{},t,s.subformKey,c(s.fields),r),e[l(s,r)]=i)}},h=function(e,t,n,r,o){for(var i=0;i<r.length;i++){var s,a=r[i];"subform"==a.type&&e[a.id]&&(s=u(e[a.id],g(t[a.id],a.subformKey),n,a.subformKey,c(a.fields),o),e[l(a,o)]=s)}},c=function(e){var t,n=[];for(t in e){var r=e[t];n.push(r)}return n},g=function(e,t){var n={};if(e)for(var r=0;r<e.length;r++){var o=e[r];o&&(n[o[t]]=o)}return n},T=function(e,t){for(var n={},r=0;r<e.length;++r){var o=e[r];n[o[t]]=o}return n},A=function(e,t,n,r,o,i){var s=void 0;for(s in n)n.hasOwnProperty(s)&&(i.instanceChange(n[s],0,o[s],r,void 0).doAction(e,t),s,0)},O=function(e,t,n,r,o,i,s,a){var u=void 0;for(u in n)n.hasOwnProperty(u)&&n[u]!==r[u]&&(a.instanceChange(n[u],0,i[u],o,n[s.subformKey]).doAction(e,t),u,0)},L={buildJSONForAll:D,buildJSONForRemoving:function(e){var t=d();return t.recordsToRemove=e,t},buildJSONForAddRecordMethod:function(e){var t=d();return t.newRecords.push(e),t},buildJSONForUpdateRecordMethod:function(e,t,n,r,o,i,s){var a,u=[n],l=s.buildEmptyActionsObject();for(a in r){var c=r[a],d=n[a];if(c!=d){var p=o[a];if("subform"==p.type){E=S=j=C=w=x=b=y=v=m=g=h=f=void 0;for(var f=l,h=u,g=p,m=d,v=c,y=p.subformKey,b=s,x=T(m,y),w=T(v,y),C=void 0,j=void 0,S=void 0,E=void 0,C=0;C<v.length;++C)E=(j=v[C])[y],void 0===(S=x[E])?A(f,h,j,C,g.fields,b):O(f,h,j,S,C,g.fields,g,b);for(C=0;C<m.length;++C)E=(S=m[C])[y],void 0===(j=w[E])&&new F(L,C,0,E,void 0,g.name).doAction(f,h)}else s.instanceChange(c,0,p).doAction(l,u)}}return D(e,t,u,i,l,s)},getRecordFromJSON:function(e,t,n,r,o){switch(t){case"create":return e.newRecords[0];case"update":return e.existingRecords[Object.keys(e.existingRecords)[0]];case"delete":return e.recordsToRemove[0];case"customForm":return r.updateRecord(n,e.newRecords[0]||e.existingRecords[Object.keys(e.existingRecords)[0]],o),n;default:throw"Unknown FormPage type: "+t}}})},{"../context.js":27,"../history/delete.js":44,"../utils.js":57}],48:[function(e,t,n){var a=e("./defaultJSONBuilder.js");t.exports={buildJSONForAll:function(e,t,n,r,o,i,s){return a.buildJSONForAll(!0,e,t,n,r,o,i,s)},buildJSONForRemoving:function(e){return a.buildJSONForRemoving(e)},buildJSONForAddRecordMethod:function(e){return a.buildJSONForAddRecordMethod(e)},buildJSONForUpdateRecordMethod:function(e,t,n,r,o,i){return a.buildJSONForUpdateRecordMethod(!0,e,t,n,r,o,i)},getRecordFromJSON:function(e,t,n,r,o){return a.getRecordFromJSON(e,t,n,r,o)}}},{"./defaultJSONBuilder.js":47}],49:[function(e,t,n){function r(e,t,n,r,o,i){return n&&!t.record?(alert("Record not set in "+o+" method!"),!1):r&&!t.key?(alert("Key not set in "+o+" method!"),!1):(n=u.getListPage(e))?n.instanceNewForm(i,t.key):(alert("No list found using that source:"+e),!1)}var s=e("zpt"),a=s.logHelper,u=e("./context.js"),o=e("./pages/listPage.js"),i=e("./pages/formPage.js"),l=e("./normalizer.js"),c=e("./fields/fieldBuilder"),d=e("./defaultOptions.js"),p=e("./utils.js");n.version="0.2.0-SNAPSHOT",n.init=function(e,t,n){var r=p.extend(!0,{},d,e),o=r.dictionary,i=(o.options=r,u.setDictionary(o),delete r.dictionary,s.context.getConf().loggingOn=r.logging.isOn,s.context.getConf().loggingLevel=p.buildLoggingLevel(r.logging.level),a.info("Initializing ZCrud..."),c.registerAllConstructors(r.fieldsConfig.constructors),u.setFieldBuilder(c),l.run(r,e),o),e=r.i18n.files[r.i18n.language];if(e)return(o={command:"preload",root:document.body,dictionary:i,declaredRemotePageUrls:r.allDeclaredRemotePageUrls,notRemoveGeneratedTags:!0,i18n:{urlPrefix:r.filesPathPrefix+r.i18n.filesPath,files:{}},callback:function(){u.setI18nArray(i.i18nArray),t&&p.isFunction(t)&&t(r)},failCallback:function(e){n&&p.isFunction(n)&&n(e)}}).i18n.files[r.i18n.language]=e,r.templates.filesPath&&(s.context.getConf().externalMacroPrefixURL=r.filesPathPrefix+r.templates.filesPath),s.run(o),a.info("...ZCrud initialized."),r;throw"No file names set to init i18n subsystem!"},n.renderList=function(t,e,n){try{a.info("Rendering list...");var r=new o(t,e);u.putPage(r.getId(),r),r.show({callback:n}),a.info("...list rendering finished.")}catch(e){u.showError(t,!1,"Error trying to render list: "+(e.message||e))}},n.renderForm=function(t,e,n){try{a.info("Rendering form..."),(e=e||{}).type="customForm";var r=new i(t,e);u.putPage(r.getId(),r),r.show({callback:n}),a.info("...form rendering finished.")}catch(e){u.showError(t,!1,"Error trying to render form: "+(e.message||e))}},n.destroy=function(e){e.target.empty()},n.showCreateForm=function(e){var t=u.getListPage(e);t?t.showCreateForm():u.showError(options,!1,"No list found using that source:"+e)},n.showUpdateForm=function(e,t){var n=u.getListPage(e);n?n.showEditForm(void 0,t):alert("No list found using that source:"+e)},n.showDeleteForm=function(e,t){var n=u.getListPage(e);n?n.showDeleteForm(void 0,t):alert("No list found using that source:"+e)},n.getRecordByKey=function(e,t){var n=u.getListPage(e);if(n)return n.getRecordByKey(t);alert("No list found using that source:"+e)},n.getRecords=function(e){var t=u.getListPage(e);if(t)return t.getRecordsArray();alert("No list found using that source:"+e)},n.getRowByKey=function(e,t){var n=u.getListPage(e);if(n)return n.getRowByKey(t);alert("No list found using that source:"+e)},n.selectRecords=function(e,t){var n=u.getListPage(e);n?n.getSecureComponent("selecting").selectRecords(t):alert("No list found using that source:"+e)},n.deselectRecords=function(e,t){var n=u.getListPage(e);n?n.getSecureComponent("selecting").deselectRecords(t):alert("No list found using that source:"+e)},n.selectRows=function(e,t){var n=u.getListPage(e);n?n.getSecureComponent("selecting").selectRows(t):alert("No list found using that source:"+e)},n.deselectRows=function(e,t){var n=u.getListPage(e);n?n.getSecureComponent("selecting").deselectRows(t):alert("No list found using that source:"+e)},n.getSelectedRows=function(e){var t=u.getListPage(e);if(t)return t.getSecureComponent("selecting").getSelectedRows();alert("No list found using that source:"+e)},n.getSelectedRecords=function(e){var t=u.getListPage(e);if(t)return t.getSecureComponent("selecting").getSelectedRecords();alert("No list found using that source:"+e)};n.addRecord=function(e,t){e=r(e,t,!0,!1,"addRecord","create");e&&e.addRecord(t)},n.updateRecord=function(e,t){e=r(e,t,!0,!0,"updateRecord","update");e&&e.updateRecord(t)},n.deleteRecord=function(e,t){e=r(e,t,!1,!0,"deleteRecord","delete");e&&e.deleteRecord(t)},n.getListPage=function(e){var t=u.getListPage(e);if(t)return t;alert("No list found using that source:"+e)},n.getFormPage=function(e){var t=u.getFormPage(e);if(t)return t;alert("No form found using that source:"+e)},n.utils=p},{"./context.js":27,"./defaultOptions.js":29,"./fields/fieldBuilder":34,"./normalizer.js":50,"./pages/formPage.js":51,"./pages/listPage.js":52,"./utils.js":57,zpt:135}],50:[function(e,t,n){var f,h,i,g=e("./context.js"),m=e("./utils.js");function o(e,t){return t.id=e,null==t.type&&(t.type="text"),g.getFieldBuilder().createFieldInstance(t)}function s(e,t,n,r){if(t.name=r?r.id+g.subformSeparator+e:e,null==t.elementId&&(t.elementId="zcrud-"+e),null==t.template&&(t.template=t.getTemplate(n)),null==t.viewTemplate&&(t.viewTemplate=t.getViewTemplate()),g.declareRemotePageUrl(t.template,n.templates.declaredRemotePageUrls),null==t.attributes&&(t.attributes={}),null==t.sorting&&(t.sorting=!0),t.dependsOn&&m.isString(t.dependsOn)){var o=t.dependsOn.split(",");t.dependsOn=[];for(var i=0;i<o.length;i++)t.dependsOn.push(o[i].trim())}t.components&&(t.components=m.extend(!0,{},n.defaultComponentsConfig,t.components)),t.fields&&(t.fields=h(t.fields,n,t))}function a(e,t){return(t=t.fieldsConfig.defaultFieldOptions[e.type])?m.extend(!0,{},t,e):e}t.exports=(f=function(e,t){for(var n in t){var r=t[n];m.isArray(r)?e[n]=r:m.isPlainObject(r)&&f(e[n],t[n])}},h=function(e,t,n){var r,o={};for(r in e)o[r]=i(r,e[r],t,n);return o},{run:function(e,t){var n,r=e,o=(null==r.formId&&(r.formId="zcrud-form-"+r.entityId),r.pageConf.pages.list),i=(null==o.formId&&(o.formId="zcrud-list-form-"+r.entityId),null==o.id&&(o.id="zcrud-list-"+r.entityId),null==o.tableId&&(o.tableId="zcrud-list-table-"+r.entityId),null==o.tbodyId&&(o.tbodyId="zcrud-list-tbody-"+r.entityId),e.fields=h(e.fields,e),e),s=i.pageConf.defaultPageConf,a=i.defaultComponentsConfig;for(n in i.pageConf.pages){var u=i.pageConf.pages[n],u=m.extend(!0,{},s,u),l=(i.pageConf.pages[n]=u,m.extend(!0,{},a,u.components));u.components=l}var c,d=e;for(c in d.allDeclaredRemotePageUrls=d.templates.declaredRemotePageUrls.slice(),d.pageConf.pages){var p=d.pageConf.pages[c].template;g.declareRemotePageUrl(p,d.allDeclaredRemotePageUrls)}for(c in d.containers.types)p=d.containers.types[c].template,g.declareRemotePageUrl(p,d.allDeclaredRemotePageUrls);f(e,t)},buildFullFieldInstance:i=function(e,t,n,r){t=a(t,n);t=o(e,t);return s(e,t,n,r),t}})},{"./context.js":27,"./utils.js":57}],51:[function(e,t,n){function r(e,t){o.call(this,e,t),this.type,this.parentPage,this.record,this.userRecord,this.loadAtFirstExecution,this.isFirstExecution=!0,this.id=this.options.formId,this.title=void 0,this.submitFunction=void 0,this.view=void 0,this.successMessage=void 0,this.eventFunction=void 0,this.omitKey=!1,this.forceKey=!1,this.initFromOptions(t||{}),this.configure()}var u=e("../context.js"),l=e("./pageUtils.js"),o=e("./page.js"),i=e("../validationManager.js"),s=e("../../../lib/zzDOM-closures-full.js").zz,a=e("zpt"),c=e("../crudManager.js"),d=e("../history/history.js"),p=e("../fields/fieldListBuilder.js"),f=e("../fields/fieldUtils.js"),h=e("../components/componentsMap.js"),g=e("../utils.js");o.doSuperClassOf(r),r.prototype.initFromOptions=function(e){this.type=e.type,this.parentPage=e.parentPage,this.userRecord=e.record,this.loadAtFirstExecution=null==e.load||e.load},r.prototype.getParentPage=function(){return this.parentPage},r.prototype.getType=function(){return this.type},r.prototype.setRecord=function(e){this.record=e},r.prototype.getRecord=function(){return this.record},r.prototype.updateRecordProperty=function(e,t){this.record||(this.record={}),this.record[e]=t},r.prototype.get$form=function(){return s("#"+this.id)},r.prototype.getTitle=function(){return this.title},r.prototype.getSubmitFunction=function(){return this.submitFunction},r.prototype.getView=function(){return this.view},r.prototype.getField=function(e,t){return(t?this.fieldsMap[t].fields:this.fieldsMap)[e]},r.prototype.getFieldByName=function(e){var t=e.indexOf("["),e=-1===t?e:e.substring(0,t),t=e.indexOf(u.subformSeparator),n=-1===t?null:e.substring(0,t);return-1!==t&&(e=e.substring(1+t)),this.getField(e,n)},r.prototype.getParentFieldByName=function(e){var t=e.indexOf("["),e=-1===t?e:e.substring(0,t),t=e.indexOf(u.subformSeparator),e=-1===t?null:e.substring(0,t);return e?this.fieldsMap[e]:null},r.prototype.configure=function(){switch(this.thisOptions=this.options.pageConf.pages[this.type],this.buildFields(),this.type){case"create":this.title="Create form",this.submitFunction=this.submitCreate,this.eventFunction=this.options.events.recordAdded,this.successMessage="createSuccess",this.userRecord||(this.userRecord=f.buildDefaultValuesRecord(this.fields)),this.omitKey=!0;break;case"update":this.title="Edit form",this.submitFunction=this.submitUpdate,this.eventFunction=this.options.events.recordUpdated,this.successMessage="updateSuccess";break;case"delete":this.title="Delete form",this.submitFunction=this.submitDelete,this.eventFunction=this.options.events.recordDeleted,this.successMessage="deleteSuccess";break;case"customForm":this.title="Custom form",this.submitFunction=this.submitCustomForm,this.eventFunction=this.options.events.formBatchUpdated,this.successMessage="formListUpdateSuccess",this.record||(this.record=f.buildDefaultValuesRecord(this.fields)),this.forceKey=!0;break;default:throw"Unknown FormPage type: "+this.type}this.componentsMap=new h(this.options,this.thisOptions.components,this,this),u.setHistory(new d(this.options,this.thisOptions,this,!0))},r.prototype.buildFields=function(){var e=p.getForPage(this.type,this.options,void 0,this);this.fields=e.fieldsArray,this.fieldsMap=e.fieldsMap,this.view=e.view},r.prototype.buildDataUsingRecord=function(e){var t={result:"OK",message:""};return t.record=e,t.fieldsData={},t},r.prototype.showUsingRecord=function(e,t,n,r,o){this.beforeProcessTemplate(e,t,o);var i=this;this.run1RecordAsync(e,function(){i.processTemplate(n),i.afterProcessTemplate(i.get$form()),r&&r(!0)})},r.prototype.processTemplate=function(e){e||l.configureTemplate(this.options,"'"+this.thisOptions.template+"'"),a.run({root:e||(this.options.target?this.options.target[0]:null)||document.body,dictionaryExtension:this.instanceDictionaryExtension})},r.prototype.show=function(e){var t=(e=e||{}).dictionaryExtension,n=e.root,r=e.callback,o=e.key,e=e.getRecordURL;this.userRecord?this.showUsingRecord(this.userRecord,t,n,r):this.isFirstExecution&&!this.loadAtFirstExecution?this.showUsingRecord([],t,n,r):this.showUsingServer(o,e,t,n,r),this.isFirstExecution=!1},r.prototype.buildSearch=function(e){var t={};return null!=e&&(t.key=e),this.componentsMap.addToDataToSend(t),this.addToDataToSend(t),t},r.prototype.showUsingServer=function(e,t,n,r,o){var i=this;c.getRecord({url:t||this.thisOptions.getRecordURL,search:this.buildSearch(e),success:function(e){i.showUsingRecord.call(i,e.record,n,r,o,e)},error:function(e){u.showError(i.options,!1,e.message||"Server communication error!")}},this.options)},r.prototype.buildRecordForDictionary=function(){for(var e={},t=0;t<this.fields.length;t++){var n=this.fields[t];e[n.id]=this.record[n.id]}var r=this.getKey();return null==e[r]&&(e[r]=this.record[r]),e},r.prototype.updateDictionary=function(e){this.instanceDictionaryExtension={},(this.instanceDictionaryExtension.instance=this).instanceDictionaryExtension.record=this.buildRecordForDictionary(),this.omitKey&&(this.instanceDictionaryExtension.omitKey=!0),e&&g.extend(this.instanceDictionaryExtension,e)},r.prototype.buildProcessTemplateParams=function(e){return{field:e,value:this.record[e.id],options:this.options,record:this.record,source:this.type,dictionary:u.getDictionary(),formPage:this}},r.prototype.beforeProcessTemplate=function(e,t,n){if(!e)throw"No record to show in form!";this.record=e,this.forceKey&&null==this.record[this.getKey()]&&(this.record[this.getKey()]=0),n?this.filterRecordFromServerData(n.record,this.fields):n=this.buildDataUsingRecord(this.record),this.processDataFromServer(n),this.updateDictionary(t)},r.prototype.afterProcessTemplate=function(e){i.initFormValidation(this.id,e,this.options),this.bindEvents(e);for(var t=0;t<this.fields.length;t++){var n=this.fields[t];n.afterProcessTemplateForField(this.buildProcessTemplateParams(n),e)}this.triggerFormCreatedEvent(e)},r.prototype.bindButtonEvent=function(t,n){var r;g.isFunction(n.run)&&(r=this,t.find(n.getSelector()).off().on("click",function(e){n.run(e,r,t,this)}))},r.prototype.bindEvents=function(e){for(var t=this.getToolbarButtons(),n=0;n<t.length;++n){var r=t[n];this.bindButtonEvent(e,r)}var o=':not([name*="'+u.subformSeparator+'"])',i=this;e.find(`input.historyField${o}, textarea.historyField${o}, select.historyField`+o).on("change",function(e){var t;g.getParam(e.params,"disableHistory")||(e=s(this),t=i.getFieldByName.call(i,e.attr("name")),u.getHistory().putChange(e,t.getValueForHistory(e),0,"1",i.id,t))}),this.componentsMap.bindEvents()},r.prototype.updateRecordFromJSON=function(e){switch(this.type){case"create":case"update":case"customForm":this.record=u.getJSONBuilder(this.options).getRecordFromJSON(e,this.type,this.record,u.getHistory(),this.options);break;case"delete":break;default:throw"Unknown FormPage type in updateRecordFromJSON method: "+this.type}},r.prototype.saveCommon=function(t,n,r,o){if(!r)return u.showError(this.options,!1,u.translate("errorNoOpToDo")),!1;this.componentsMap.addToDataToSend(r);var i=r.success,s=r.error,a=this;return r.success=function(e){a.updateRecordFromJSON.call(a,r),a.eventFunction.call(a,{record:a.record,serverResponse:e,options:a.options},n),a.triggerFormClosedEvent.call(a,n,o),a.updatePage.call(a,e,r),u.getHistory().reset(t),i&&i()},r.error=function(e,t,n){l.ajaxError(e,t,n,a.options,u,s)},null==r.url&&(r.url=this.thisOptions.updateURL),c.batchUpdate(r,this.options,{$form:o,formType:this.type,dataToSend:r,options:this.options}),r},r.prototype.updatePage=function(e,t){var n={status:{message:this.successMessage,date:(new Date).toLocaleString()}};this.parentPage?e.clientOnly?this.parentPage.showFromClientOnly(n,t):this.parentPage.show({dictionaryExtension:n}):(this.showStatusMessage(n),this.updateKeys(e))},r.prototype.updateKeys=function(e){var t=e.subforms;if(t)for(var n=0;n<this.fields.length;n++){var r=this.fields[n],o=t[r.id];o&&this.updateKeysForField(r,o)}},r.prototype.updateKeysForField=function(e,t){var n=t.newRecords,r=u.getHistory().getAllTr$FromCreateItems(e.id);if(r.length!=n.length)u.showError(this.options,!0,'Error trying to update keys of field "'+e.id+'": $trArray and records length does not match!');else for(var o=e.subformKey,i=0;i<n.length;++i){var s=n[i],a=r[i],s=s[o];if(null==s)return void u.showError(this.options,!0,'Error trying to update keys of field "'+e.id+'": undefined key value found!');a.find('[name="'+o+'"]').val(s),a.attr("data-record-key",s)}},r.prototype.processDataFromServer=function(e){for(var t=0;t<this.fields.length;t++)this.fields[t].dataFromServer(e)},r.prototype.submitCustomForm=function(e,t){var n=this;this.processDirty(this.thisOptions.confirm.save,"OnlyForm",function(){n.doSubmitCustomForm(e,t)})},r.prototype.doSubmitCustomForm=function(e,t){return this.saveCommon(this.id,e,u.getJSONBuilder(this.options).buildJSONForAll(this.getKey(),[this.record],this.fields,void 0,u.getHistory(),{}),t)},r.prototype.submitCreate=function(e,t){var n=this;this.processDirty(this.thisOptions.confirm.save,"Create",function(){n.doSubmitCreate(e,t)})},r.prototype.doSubmitCreate=function(e,t){return this.saveCommon(this.id,e,u.getJSONBuilder(this.options).buildJSONForAll(this.getKey(),[],this.fields,void 0,u.getHistory(),this.userRecord,this.fieldsMap),t)},r.prototype.addRecord=function(e){var t=this.get$form(),n=u.getJSONBuilder(this.options).buildJSONForAddRecordMethod(e.record);return this.addAllRecordMethodProperties(e,n),this.saveCommon(this.id,void 0,n,t)},r.prototype.addAllRecordMethodProperties=function(e,t){this.addProperties(e,t,["clientOnly","url","success","error"])},r.prototype.addProperties=function(e,t,n){for(var r=0;r<n.length;++r){var o=n[r],i=e[o];null!=i&&(t[o]=i)}},r.prototype.submitUpdate=function(e,t){var n=this;this.processDirty(this.thisOptions.confirm.save,"Update",function(){n.doSubmitUpdate(e,t)})},r.prototype.doSubmitUpdate=function(e,t){return this.saveCommon(this.id,e,u.getJSONBuilder(this.options).buildJSONForAll(this.getKey(),[this.record],this.fields,void 0,u.getHistory()),t)},r.prototype.updateRecord=function(e){if(e){var t,n=this.get$form();if(this.userRecord)return t=u.getJSONBuilder(this.options).buildJSONForUpdateRecordMethod(this.getKey(),this.userRecord,e.record,this.fieldsMap,this.fields,u.getHistory()),this.addAllRecordMethodProperties(e,t),this.saveCommon(this.id,void 0,t,n);u.showError(this.options,!0,"Current record not found in updateRecord method!")}else u.showError(this.options,!0,"Data configuration undefined in updateRecord method!")},r.prototype.submitDelete=function(e,t){var n=this;this.processDirty(this.thisOptions.confirm.save,"Delete",function(){n.doSubmitDelete(e,t)},!0)},r.prototype.doSubmitDelete=function(e,t){return this.saveCommon(this.id,e,u.getJSONBuilder(this.options).buildJSONForRemoving([this.getKeyValue()]),t)},r.prototype.deleteRecord=function(e){var t=this.get$form(),n=u.getJSONBuilder(this.options).buildJSONForRemoving([e.key]);return this.addAllRecordMethodProperties(e,n),this.saveCommon(this.id,void 0,n,t)},r.prototype.cancelForm=function(e,t){var n=this;this.processDirty(this.thisOptions.confirm.cancel,"Cancel",function(){n.doCancelForm(e,t)})},r.prototype.doCancelForm=function(e,t){this.triggerFormClosedEvent(e,t),u.getHistory().reset(this.id),this.parentPage.show()},r.prototype.triggerFormClosedEvent=function(e,t){this.options.events.formClosed({$form:t,formType:this.type,options:this.options},e)},r.prototype.triggerFormCreatedEvent=function(e){this.options.events.formCreated({$form:e,formType:this.type,options:this.options})},r.prototype.getFieldValue=function(e){return this.record[e]},r.prototype.getKeyValue=function(){return this.record[this.getKey()]},r.prototype.isReadOnly=function(){return!!this.thisOptions.readOnly||"delete"==this.type},r.prototype.addToDataToSend=function(e){for(var t=0;t<this.fields.length;t++){var n=this.fields[t],r=n.buildDataToSend();r&&!g.isEmptyObject(r)&&this.addFieldToDataToSend(e,r,n)}},r.prototype.addFieldToDataToSend=function(e,t,n){e.searchFieldsData||(e.searchFieldsData={}),e.searchFieldsData[n.id]=t},r.prototype.getToolbarButtons=function(){return this.getPageToolbarButtons("formToolbar")},r.prototype.update=function(){this.show({root:this.get$().find(".zcrud-form-updatable")[0]})},r.prototype.removeChanges=function(){u.getHistory().reset(this.id)},r.prototype.goToFirstPage=function(){for(var e=0;e<this.fields.length;e++)this.fields[e].goToFirstPage()},t.exports=r},{"../../../lib/zzDOM-closures-full.js":61,"../components/componentsMap.js":21,"../context.js":27,"../crudManager.js":28,"../fields/fieldListBuilder.js":35,"../fields/fieldUtils.js":36,"../history/history.js":45,"../utils.js":57,"../validationManager.js":58,"./page.js":53,"./pageUtils.js":54,zpt:135}],52:[function(e,t,n){function r(e,t){s.call(this,e,t),this.isFirstExecution=!0,this.thisOptions=this.options.pageConf.pages.list,this.records={},this.id=this.thisOptions.id,this.currentFormPage=void 0,this.byRowButtons=void 0,this.initFromOptions(t||{}),this.configure()}var i=e("../context.js"),o=e("./pageUtils.js"),s=e("./page.js"),a=e("./formPage.js"),u=e("../crudManager.js"),l=e("../history/history.js"),c=e("../fields/fieldListBuilder.js"),d=e("../components/componentsMap.js"),p=e("../buttons/buttonUtils.js"),f=e("../../../lib/zzDOM-closures-full.js").zz,h=e("zpt"),g=e("../utils.js");s.doSuperClassOf(r),r.prototype.initFromOptions=function(e){this.filter=(e=e||{}).filter||{},this.userRecords=e.records,this.loadAtFirstExecution=null==e.load||e.load},r.prototype.getField=function(e){return this.fieldsMap[e]},r.prototype.getFieldByName=function(e){var t=e.indexOf("[");return this.getField(-1===t?e:e.substring(0,t))},r.prototype.getCurrentFormPage=function(){return this.currentFormPage},r.prototype.configure=function(){this.buildFields(),this.componentsMap=new d(this.options,this.thisOptions.components,this,this)},r.prototype.buildFields=function(){var e=c.getForPage("list",this.options,void 0,this);this.fields=e.fieldsArray,this.fieldsMap=e.fieldsMap},r.prototype.buildDataToSend=function(){var e={};return e.filter=this.filter,this.componentsMap.addToDataToSend(e),e},r.prototype.buildDataFromClient=function(e,t){var n={result:"OK",message:""};return n.records=this.buildRecordsArray(),n.totalNumberOfRecords=t+this.getTotalNumberOfRecords(),n},r.prototype.showFromClientOnly=function(e,t){var n=l.updateRecordsMap(this.records,t,this.options.key);this.clientAndServerSuccessFunction(this.buildDataFromClient(t,n),e)},r.prototype.getRecordsPaging=function(e,t){var n;return t.pageNumber&&t.pageSize?(n=(t.pageNumber-1)*t.pageSize,e.slice(n,n+t.pageSize)):e},r.prototype.buildDataUsingRecords=function(e){var t={result:"OK",message:""};return t.records=this.getRecordsPaging(e,this.buildDataToSend()),t.totalNumberOfRecords=e.length,t},r.prototype.showUsingRecords=function(e,t,n,r){this.clientAndServerSuccessFunction(this.buildDataUsingRecords(e),t,n,r)},r.prototype.clientAndServerSuccessFunction=function(e,t,n,r){this.beforeProcessTemplate(e,t);var o=this;this.runRecordsAsync(e.records,function(){o.processTemplate(n),o.afterProcessTemplate(o.get$form()),r&&r(!0)})},r.prototype.show=function(e){var t=(e=e||{}).dictionaryExtension,n=e.root,e=e.callback;this.userRecords?this.showUsingRecords(this.userRecords,t,n,e):this.isFirstExecution&&!this.loadAtFirstExecution?this.showUsingRecords([],t,n,e):this.showUsingServer(t,n,e),this.isFirstExecution=!1},r.prototype.showUsingServer=function(t,n,r){var o=this;u.listRecords({url:this.thisOptions.getGroupOfRecordsURL,search:this.buildDataToSend(),success:function(e){o.clientAndServerSuccessFunction.call(o,e,t,n,r)},error:function(e){i.showError(o.options,!1,e.message||"Server communication error!"),r&&r(!1)}},this.options)},r.prototype.beforeProcessTemplate=function(e,t){this.componentsMap.dataFromServer(e),this.filterArrayOfRecordsFromServerData(e.records,this.fields),this.updateRecords(e.records),this.updateDictionary(e.records,t)},r.prototype.updateDictionary=function(e,t){this.instanceDictionaryExtension={records:e,instance:this,editable:this.isEditable(),omitKey:!1},t&&g.extend(this.instanceDictionaryExtension,t)},r.prototype.processTemplate=function(e){e?this.componentsMap.resetPage():o.configureTemplate(this.options,"'"+this.thisOptions.template+"'");e={root:e||(this.options.target?this.options.target[0]:null)||document.body,dictionaryExtension:this.instanceDictionaryExtension};h.run(e)},r.prototype.afterProcessTemplate=function(e){this.bindEvents(),this.triggerListCreatedEvent(e)},r.prototype.triggerListCreatedEvent=function(e){this.options.events.listCreated({$form:e,options:this.options})},r.prototype.bindButtonEvent=function(t){var n;g.isFunction(t.run)&&(n=this,f(t.getSelector()).off().on("click",function(e){t.run(e,n,this)}))},r.prototype.bindButtonsEvent=function(e){for(var t=0;t<e.length;++t)this.bindButtonEvent(e[t])},r.prototype.bindEvents=function(){this.bindButtonsEvent(this.getToolbarButtons()),this.bindButtonsEvent(this.getByRowButtons()),this.componentsMap.bindEvents()},r.prototype.showCreateForm=function(e){this.showNewForm("create")},r.prototype.showNewFormUsingRecordFromServer=function(e,t,n){n=n||o.getKeyFromButton(t);if(null==n)throw"Error trying to load record in listPage: key is null!";this.currentFormPage=new a(this.options,{type:e,parentPage:this}),this.currentFormPage.show({key:n,getRecordURL:this.thisOptions.getRecordURL})},r.prototype.showEditForm=function(e,t){this.showNewFormUsingRecordFromServer("update",e,t)},r.prototype.showDeleteForm=function(e,t){this.showNewFormUsingRecordFromServer("delete",e,t)},r.prototype.showNewForm=function(e,t){this.currentFormPage=new a(this.options,{type:e,parentPage:this,record:t}),this.currentFormPage.show()},r.prototype.instanceNewForm=function(e,t){return new a(this.options,{type:e,parentPage:this,record:this.getRecordByKey(t)})},r.prototype.updateRecords=function(e){this.records={};for(var t=0;t<e.length;t++){var n=e[t];this.records[n[this.options.key]]=n}},r.prototype.buildRecordsArray=function(){var e,t=[];for(e in this.records){var n=this.records[e];t.push(n)}return t},r.prototype.getRecordByKey=function(e,t){e=this.records[e];return t&&this.readOnly,e},r.prototype.getRowByKey=function(e){return this.get$().find('[data-record-key="'+e+'"]')},r.prototype.updateBottomPanel=function(e){e=g.extend({},this.instanceDictionaryExtension,e);h.run({root:this.getComponent("paging").get$()[0],dictionaryExtension:e}),this.bindEvents()},r.prototype.getRecords=function(){return this.records},r.prototype.getRecordsArray=function(){return this.buildRecordsArray()},r.prototype.get$form=function(){return f("#"+this.thisOptions.formId)},r.prototype.getTotalNumberOfRecords=function(){var e=this.getComponent("paging");return e?e.getTotalNumberOfRecords():Object.keys(this.records).length},r.prototype.addRecord=function(e,t){this.records[e]=t,this.instanceDictionaryExtension.records.push(t)},r.prototype.updateRecord=function(e,t){this.records[e]=t,this.instanceDictionaryExtension.records[this.getIndexInDictionaryByKey(e)]=t},r.prototype.deleteRecord=function(e){delete this.records[e],this.instanceDictionaryExtension.records.splice(this.getIndexInDictionaryByKey(e),1)},r.prototype.getIndexInDictionaryByKey=function(e){for(var t=0;t<this.instanceDictionaryExtension.records.length;t++)if(e==this.instanceDictionaryExtension.records[t][this.options.key])return t;var n="Record not found in dictionary!";throw alert(n),n},r.prototype.isEditable=function(){return!!this.getComponent("editing")},r.prototype.isReadOnly=function(){return!this.isEditable()},r.prototype.isFiltered=function(){var e=this.getComponent("filtering");return e&&e.filterIsOn()},r.prototype.generateId=function(){return o.generateId()},r.prototype.getByRowButtons=function(){return null==this.byRowButtons&&(this.byRowButtons=p.getButtonList(this.thisOptions.buttons.byRow,"listRow",this,this.options)),this.byRowButtons},r.prototype.getToolbarButtons=function(){return this.getPageToolbarButtons("listToolbar")},r.prototype.removeChanges=function(){this.getSecureComponent("editing").removeChanges()},r.prototype.update=function(){var e=[f("#"+this.thisOptions.tbodyId)[0]],t=this.getComponent("paging");t&&e.push(t.get$()[0]),this.show({root:e})},r.prototype.goToFirstPage=function(){var e=this.getComponent("paging");e&&e.goToFirstPage()},r.prototype.getType=function(){return"list"},t.exports=r},{"../../../lib/zzDOM-closures-full.js":61,"../buttons/buttonUtils.js":2,"../components/componentsMap.js":21,"../context.js":27,"../crudManager.js":28,"../fields/fieldListBuilder.js":35,"../history/history.js":45,"../utils.js":57,"./formPage.js":51,"./page.js":53,"./pageUtils.js":54,zpt:135}],53:[function(e,t,n){function r(e,t){this.options=e,this.fieldsMap={},this.fields=[],this.toolbarButtons=void 0,this.componentsMap=void 0}var o=e("../../../lib/zzDOM-closures-full.js").zz,i=e("../context.js"),s=e("./pageUtils.js"),a=e("../buttons/buttonUtils.js"),u=e("../utils.js");r.prototype.getPage=function(){return this},r.prototype.initFromOptions=function(){throw"initFromOptions method not implemented in Page class!"},r.prototype.configure=function(){throw"configure method not implemented in Page class!"},r.prototype.processDirty=function(e,t,n,r){e&&(r||this.isDirty())?i.confirm(this.options,{title:i.translate("confirm"+t+"Title"),text:i.translate("confirm"+t+"Text"),className:"wideConfirm",buttons:{cancel:i.translate("confirm"+t+"CancelButton"),continue:{text:i.translate("confirm"+t+"ContinueButton"),value:"continue"}}},function(e){"continue"==e&&n()}):n()},r.prototype.getOptions=function(){return this.options},r.prototype.getThisOptions=function(){return this.thisOptions},r.prototype.show=function(){throw"show method not implemented in Page class!"},r.prototype.getDictionary=function(){return this.dictionary},r.prototype.getInstanceDictionaryExtension=function(){return this.instanceDictionaryExtension},r.prototype.getType=function(){throw"getType method not implemented in Page class!"},r.prototype.getId=function(){return this.id},r.prototype.getFields=function(){return this.fields},r.prototype.getField=function(){throw"getField method not implemented in Page class!"},r.prototype.getFieldByName=function(){throw"getFieldByName method not implemented in Page class!"},r.prototype.get$form=function(){throw"get$form method not implemented in Page class!"},r.prototype.getKey=function(){return this.thisOptions.key||this.options.key},r.prototype.get$=function(){return o("#"+this.id)},r.prototype.isReadOnly=function(){throw"isReadOnly method not implemented in Page class!"},r.prototype.getPageToolbarButtons=function(e){return null==this.toolbarButtons&&(this.toolbarButtons=a.getButtonList(this.thisOptions.buttons.toolbar,e,this,this.options)),this.toolbarButtons},r.prototype.getComponentMap=function(){return this.componentsMap},r.prototype.getComponent=function(e){return this.componentsMap.getComponent(e)},r.prototype.getSecureComponent=function(e){return this.componentsMap.getSecureComponent(e)},r.prototype.getName=function(){return this.options.entityId},r.prototype.getField=function(){throw"getField method not implemented in Page class!"},r.prototype.getFieldByName=function(){throw"getFieldByName method not implemented in Page class!"},r.prototype.getFieldsSource=function(){return this.options.fields},r.prototype.isDirty=function(){var e=i.getHistory();return!!e&&e.isDirty()},r.prototype.update=function(){throw"update method not implemented in Page class!"},r.prototype.removeChanges=function(){throw"removeChanges method not implemented in Page class!"},r.prototype.goToFirstPage=function(){throw"goToFirstPage method not implemented in Page class!"},r.prototype.showStatusMessage=function(e){s.showStatusMessage(this.get$(),e)},r.prototype.filterRecordFromServerData=function(e,t){for(var n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r.id)&&(e[r.id]=r.getValueFromRecord(e))}},r.prototype.filterArrayOfRecordsFromServerData=function(e,t){for(var n=0;n<e.length;n++)this.filterRecordFromServerData(e[n],t)},r.prototype.run1RecordAsync=function(e,t){for(var n=[],r=0;r<this.fields.length;r++){var o=this.fields[r];if(u.isFunction(o.builNonDependentAsyncFieldList)){var i=o.builNonDependentAsyncFieldList();for(let e of i)n.push({record:{},field:e})}u.isFunction(o.buildDependentAsyncFieldList)&&(i=o.buildDependentAsyncFieldList(e),n=n.concat(i))}this.runRecordsAsyncFunctions(n,t)},r.prototype.runRecordsAsync=function(e,t){for(var n=[],r=0;r<this.fields.length;r++){var o=this.fields[r];if(u.isFunction(o.builNonDependentAsyncFieldList)){var i=o.builNonDependentAsyncFieldList();for(let e of i)n.push({record:{},field:e})}if(u.isFunction(o.buildDependentAsyncFieldList))for(var s of e)s=o.buildDependentAsyncFieldList(s),n=n.concat(s)}this.runRecordsAsyncFunctions(n,t)},r.prototype.runRecordsAsyncFunctions=function(e,t){var n,r,o=e.shift();o?(n=o.field,r=this,n.getAsync(o.record,function(){r.runRecordsAsyncFunctions(e,t)})):t&&u.isFunction(t)&&t()},r.doSuperClassOf=function(e){e.prototype=new r,e.prototype.constructor=e},t.exports=r},{"../../../lib/zzDOM-closures-full.js":61,"../buttons/buttonUtils.js":2,"../context.js":27,"../utils.js":57,"./pageUtils.js":54}],54:[function(e,t,n){var r=e("../../../lib/zzDOM-closures-full.js").zz,o=e("zpt");t.exports={configureTemplate:function(e,t){e.target.html(`<div data-use-macro="${t}"></div>`)},normalizeNumber:function(e,t,n,r){return null==e||isNaN(e)?r:e<t?t:n<e?n:e},findIndexInArray:function(e,t,n){n=n||function(e,t){return e==t};for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1},ajaxError:function(e,t,n,r,o,i){o.showError(r,!1,e&&e.responseText?e.responseText:"Undefined error"),i&&i({request:e,status:t,error:n,options:r,context:o})},serverSideError:function(e,t,n,r){n.showError(t,!1,e&&e.message?e.message:"Undefined error",e&&e.translateMessage),r&&r({dataFromServer:e,options:t,context:n})},generateId:function(e,t){t=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=e||6;for(var n="",r=0;r<e;r++){var o=Math.floor(Math.random()*t.length);n+=t.substring(o,o+1)}return n},showStatusMessage:function(e,t){o.run({root:e.find(".zcrud-status")[0],dictionaryExtension:t})},getKeyFromButton:function(e){if(e)return r(e.target).parents(".zcrud-data-row").first().attr("data-record-key")}}},{"../../../lib/zzDOM-closures-full.js":61,zpt:135}],55:[function(e,t,n){var l;t.exports=(l=function(e,t){e(t)},{fetch:function(e){var t,n=e.url,r=e.data,o=e.success,i=e.error,s=new URLSearchParams;for(t in r){var a=r[t];if(Array.isArray(a))for(var u=0;u<a.length;++u)s.append(t+"[]",a[u]);else s.append(t,a)}fetch(n,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"},body:s}).then(function(e){if(e.ok)return e.json();l(i,e)}).then(function(e){e&&o(e)}).catch(function(e){l(i,e)})}})},{}],56:[function(t,e,n){!function(e){!function(){e.window.zpt=t("zpt"),e.window.zcrud=t("./main.js"),t("./zzDOMPlugin.js")}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main.js":49,"./zzDOMPlugin.js":59,zpt:135}],57:[function(e,t,n){var r,o,i,s,a=e("log4javascript"),u=e("./context.js");function l(e){return!(!e||"[object Object]"!==toString.call(e)||(e=Object.getPrototypeOf(e))&&("function"!=typeof(e=r.call(e,"constructor")&&e.constructor)||o.call(e)!==i))}function c(){var e,t,n,r,o,i=arguments[0]||{},s=1,a=arguments.length,u=!1;for("boolean"==typeof i&&(u=i,i=arguments[s]||{},s++),"object"!=typeof i&&"function"!=typeof i&&(i={}),s===a&&(i=this,s--);s<a;s++)if(null!=(e=arguments[s]))for(t in e)n=e[t],"__proto__"!==t&&i!==n&&(u&&n&&(l(n)||(r=Array.isArray(n)))?(o=i[t],o=r&&!Array.isArray(o)?[]:r||l(o)?o:{},r=!1,i[t]=c(u,o,n)):void 0!==n&&(i[t]=n));return i}function d(e,t="/"){var n=parseInt(u.translate("dayIndex"),10),r=parseInt(u.translate("monthIndex"),10),o=parseInt(u.translate("yearIndex"),10);return{day:(e=e.split(t))[n],month:e[r]-1,year:e[o]}}function p(e,t="/"){var n,r;return!e||(t=(e=d(e,t)).day,n=e.month,e=e.year,(r=new Date(e,n,t)).getDate()==t&&r.getMonth()==n&&r.getFullYear()==e)}t.exports=(o=(r={}.hasOwnProperty).toString,i=o.call(Object),s={off:a.Level.OFF,all:a.Level.ALL,debug:a.Level.DEBUG,info:a.Level.INFO,warn:a.Level.WARN,error:a.Level.ERROR,fatal:a.Level.FATAL},{extend:c,isFunction:function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},isArray:function(e){return Array.isArray(e)},isPlainObject:l,isEmptyObject:function(e){return l(e)&&0===Object.keys(e).length},isString:function(e){return"string"==typeof e},buildLoggingLevel:function(e){return s[e]},getParam:function(e,t){return l(e)?e[t]:void 0},extractDateItems:d,stringDateIsValid:p,stringDatetimeIsValid:function(e,t="/"){return!e||(e=e.split(" ")[0],p(e,t))}})},{"./context.js":27,log4javascript:63}],58:[function(e,t,n){var p=e("./context.js"),r=e("../../lib/zzDOM-closures-full.js").zz,f=e("./utils.js");t.exports=(()=>{var s=["badInput","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valueMissing"];let a="input.historyField, textarea.historyField, select.historyField";function i(e,t){return e=r(e),!t||t.validate(e.val())}function u(e){n(e,"").addClass("zcrud-hidden")}function l(e,t){n(e,t).removeClass("zcrud-hidden")}function c(e,t,n,r){if(t.validation.useBrowserMessages)return e.validationMessage;var o,i=f.extend(!0,[],n);f.isString(r)&&(i[r]=!0);for(o of s)if(i[o])return p.translateAlternatives(["validation_"+e.name+"_"+o,"validation_"+e.name,"validation_"+o]);return"No i18n error message found!"}var d=function(e,t,n){var r,o=e.validity,t=(e.setCustomValidity(""),i(e,t));o.valid&&1==t?u(e):n.validation.showBrowserMessageBubbles?(r=!!n.validation.useBrowserMessages||c(e,n,o,t),e.setCustomValidity(r),e.reportValidity()):(r=c(e,n,o,t),e.setCustomValidity(r),l(e,r))},n=function(e,t){e=r(e).parents(".zcrud-like-field").first().find(".zcrud-validationMessage").first();return e.text(t),e};return{initFormValidation:function(e,t,n){var r=this;t.find(a).on("change",function(e){r.showErrorForField(this,n.fields[e.currentTarget.name],n)})},formIsValid:function(e,t){var n=e.events.formSubmitting(t,e),n=void 0===n||1==n,r=t.$form.el,o=!r||r.checkValidity();if(r){if(!o){var i,t=t.$form,s=e;for(i of t.find(a).get())d(i,s.fields[i.name],s)}e.validation.useBrowserMessages&&r.reportValidity()}return o&&n},showErrorForField:d}})()},{"../../lib/zzDOM-closures-full.js":61,"./context.js":27,"./utils.js":57}],59:[function(e,t,n){function r(e){return i.getOptions(e)}var o=e("../../lib/zzDOM-closures-full.js"),i=e("./context.js"),s=e("./main.js");o.SS.prototype.zcrud=function(e){switch(e){case"addRecord":s.addRecord(r(this),arguments[1]);break;case"deleteRecord":s.deleteRecord(r(this),arguments[1]);break;case"deselectRecords":s.deselectRecords(r(this),arguments[1]);break;case"deselectRows":s.deselectRows(r(this),arguments[1]);break;case"destroy":s.destroy(r(this));break;case"getRecordByKey":return s.getRecordByKey(r(this),arguments[1]);case"getRecords":return s.getRecords(r(this));case"getRowByKey":return s.getRowByKey(r(this),arguments[1]);case"getSelectedRecords":return s.getSelectedRecords(r(this));case"getSelectedRows":return s.getSelectedRows(r(this));case"init":var t=s.init(arguments[1],arguments[2],arguments[3]);t.target=this,i.putOptions(this,t);break;case"renderList":s.renderList(r(this),arguments[1],arguments[2]);break;case"renderForm":s.renderForm(r(this),arguments[1],arguments[2]);break;case"selectRecords":s.selectRecords(r(this),arguments[1]);break;case"selectRows":s.selectRows(r(this),arguments[1]);break;case"showCreateForm":s.showCreateForm(r(this));break;case"showUpdateForm":s.showUpdateForm(r(this),arguments[1]);break;case"showDeleteForm":s.showDeleteForm(r(this),arguments[1]);break;case"updateRecord":s.updateRecord(r(this),arguments[1]);break;case"getListPage":return s.getListPage(r(this));case"getFormPage":return s.getFormPage(r(this));default:return alert("Unknown action: "+e),!1}return this},o.MM.prototype.zcrud=function(){return o.MM.constructors.default(this,o.SS.prototype.zcrud,arguments)},t.exports=o},{"../../lib/zzDOM-closures-full.js":61,"./context.js":27,"./main.js":49}],60:[function(e,t,n){function r(e){function o(e){var t,n;for(e=e||{},t=1;t<arguments.length;t++)if(n=arguments[t])for(var r in n)n.hasOwnProperty(r)&&("object"==typeof n[r]?o(e[r],n[r]):e[r]=n[r]);return e}var t=this,e=o({dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(e){var t=e%10,n={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(e%100/10)&&n[t]?n[t]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},e);t.dateSettings=e.dateSettings,t.separators=e.separators,t.validParts=e.validParts,t.intParts=e.intParts,t.tzParts=e.tzParts,t.tzClip=e.tzClip}r.prototype={constructor:r,_lpad:function(e,t,n){n=n||"0",e=e.toString();return e.length<t?this._lpad(n+e,t):e},getMonth:function(e){var t=this._indexOf(e,this.dateSettings.monthsShort)+1;return t=0===t?this._indexOf(e,this.dateSettings.months)+1:t},parseDate:function(e,t){var n,r,o,i,s,a,u,l,c=!1,d=!1,p=this.dateSettings,f={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!e)return null;if(e instanceof Date)return e;if("U"===t)return(o=parseInt(e))?new Date(1e3*o):e;switch(typeof e){case"number":return new Date(e);case"string":break;default:return null}if(!(n=t.match(this.validParts))||0===n.length)throw new Error("Invalid date format definition.");for(r=e.replace(this.separators,"\0").split("\0"),o=0;o<r.length;o++)switch(i=r[o],s=parseInt(i),n[o]){case"y":case"Y":if(!s)return null;u=i.length,f.year=2===u?parseInt((s<70?"20":"19")+i):s,c=!0;break;case"m":case"n":case"M":case"F":if(isNaN(s)){if(!(0<(u=this.getMonth(i))))return null;f.month=u}else{if(!(1<=s&&s<=12))return null;f.month=s}c=!0;break;case"d":case"j":if(!(1<=s&&s<=31))return null;f.day=s,c=!0;break;case"g":case"h":if(l=r[a=-1<n.indexOf("a")?n.indexOf("a"):-1<n.indexOf("A")?n.indexOf("A"):-1],-1<a)a=this._compare(l,p.meridiem[0])?0:this._compare(l,p.meridiem[1])?12:-1,1<=s&&s<=12&&-1<a?f.hour=s+a-1:0<=s&&s<=23&&(f.hour=s);else{if(!(0<=s&&s<=23))return null;f.hour=s}d=!0;break;case"G":case"H":if(!(0<=s&&s<=23))return null;f.hour=s,d=!0;break;case"i":if(!(0<=s&&s<=59))return null;f.min=s,d=!0;break;case"s":if(!(0<=s&&s<=59))return null;f.sec=s,d=!0}if(!0===c&&f.year&&f.month&&f.day)f.date=new Date(f.year,f.month-1,f.day,f.hour,f.min,f.sec,0);else{if(!0!==d)return null;f.date=new Date(0,0,0,f.hour,f.min,f.sec,0)}return f.date},guessDate:function(e,t){if("string"!=typeof e)return e;var n,r,o,i,s,a,u=e.replace(this.separators,"\0").split("\0"),l=t.match(this.validParts),c=new Date,d=0;if(!/^[djmn]/g.test(l[0]))return e;for(o=0;o<u.length;o++){if(d=2,s=u[o],a=parseInt(s.substr(0,2)),isNaN(a))return null;switch(o){case 0:"m"===l[0]||"n"===l[0]?c.setMonth(a-1):c.setDate(a);break;case 1:"m"===l[0]||"n"===l[0]?c.setDate(a):c.setMonth(a-1);break;case 2:if(r=c.getFullYear(),d=(n=s.length)<4?n:4,!(r=parseInt(n<4?r.toString().substr(0,4-n)+s:s.substr(0,4))))return null;c.setFullYear(r);break;case 3:c.setHours(a);break;case 4:c.setMinutes(a);break;case 5:c.setSeconds(a)}0<(i=s.substr(d)).length&&u.splice(o+1,0,i)}return c},parseFormat:function(e,r){function t(e,t){return s[e]?s[e]():t}var o=this,n=o.dateSettings,i=/\\?(.?)/gi,s={d:function(){return o._lpad(s.j(),2)},D:function(){return n.daysShort[s.w()]},j:function(){return r.getDate()},l:function(){return n.days[s.w()]},N:function(){return s.w()||7},w:function(){return r.getDay()},z:function(){var e=new Date(s.Y(),s.n()-1,s.j()),t=new Date(s.Y(),0,1);return Math.round((e-t)/DAY)},W:function(){var e=new Date(s.Y(),s.n()-1,s.j()-s.N()+3),t=new Date(e.getFullYear(),0,4);return o._lpad(1+Math.round((e-t)/DAY/7),2)},F:function(){return n.months[r.getMonth()]},m:function(){return o._lpad(s.n(),2)},M:function(){return n.monthsShort[r.getMonth()]},n:function(){return r.getMonth()+1},t:function(){return new Date(s.Y(),s.n(),0).getDate()},L:function(){var e=s.Y();return e%4==0&&e%100!=0||e%400==0?1:0},o:function(){var e=s.n(),t=s.W();return s.Y()+(12===e&&t<9?1:1===e&&9<t?-1:0)},Y:function(){return r.getFullYear()},y:function(){return s.Y().toString().slice(-2)},a:function(){return s.A().toLowerCase()},A:function(){var e=s.G()<12?0:1;return n.meridiem[e]},B:function(){var e=r.getUTCHours()*HOUR,t=60*r.getUTCMinutes(),n=r.getUTCSeconds();return o._lpad(Math.floor((e+t+n+HOUR)/86.4)%1e3,3)},g:function(){return s.G()%12||12},G:function(){return r.getHours()},h:function(){return o._lpad(s.g(),2)},H:function(){return o._lpad(s.G(),2)},i:function(){return o._lpad(r.getMinutes(),2)},s:function(){return o._lpad(r.getSeconds(),2)},u:function(){return o._lpad(1e3*r.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(r))[1]||"Coordinated Universal Time"},I:function(){return new Date(s.Y(),0)-Date.UTC(s.Y(),0)!=new Date(s.Y(),6)-Date.UTC(s.Y(),6)?1:0},O:function(){var e=r.getTimezoneOffset(),t=Math.abs(e);return(0<e?"-":"+")+this._lpad(100*Math.floor(t/60)+t%60,4)},P:function(){var e=s.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return(String(r).match(o.tzParts)||[""]).pop().replace(o.tzClip,"")||"UTC"},Z:function(){return 60*-r.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(i,t)},r:function(){return"D, d M Y H:i:s O".replace(i,t)},U:function(){return r.getTime()/1e3||0}};return t(e,e)},formatDate:function(e,t){var n,r,o,i,s="";if("string"==typeof e&&!(e=this.parseDate(e,t)))return null;if(e instanceof Date){for(r=t.length,n=0;n<r;n++)"S"!==(i=t.charAt(n))&&"\\"!==i&&(0<n&&"\\"===t.charAt(n-1)?s+=i:(o=this.parseFormat(i,e),n!==r-1&&this.intParts.test(i)&&"S"===t.charAt(n+1)&&(i=parseInt(o)||0,o+=this.dateSettings.ordinal(i)),s+=o));return s}return""}},t.exports=r},{}],61:[function(e,t,n){var u={zz:function(e,t,n){if(t)switch(e){case"#":e=document.getElementById(t);break;case".":e=document.getElementsByClassName(t);break;case"t":e=document.getElementsByTagName(t);break;case"tn":e=document.getElementsByTagNameNS(t,n||"");break;case"n":e=document.getElementsByName(t);break;case"s":e=document.querySelector(t);break;default:throw"Unsupported selector id found running zz function: "+e}if(e instanceof Element)return new u.SS(e);if(e instanceof HTMLCollection||e instanceof NodeList||Array.isArray(e))return u._build(e);if("string"==typeof e)return e=e.trim(),u._build("<"===e.charAt(0)?u._htmlToElement(e):document.querySelectorAll(e));throw"Unsupported selector type found running zz function."},_args:function(e,t){e=Array.prototype.slice.call(e);return e.push(t),e},_build:function(e){return e instanceof Element||"string"==typeof e?new u.SS(e):1===(e=e instanceof HTMLCollection||e instanceof NodeList||Array.isArray(e)?Array.prototype.slice.call(e):e).length?new u.SS(e[0]):new u.MM(e)},_getError:function(e){return'Method "'+e+'" not ready for that type!'},_htmlToElement:function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),1===t.content.childElementCount?t.content.firstChild:t.content.childNodes},_get:function(e,t){if(null==t)return e;if(Number.isInteger(t))return e[t];throw u._getError("get")}};u._events={},u._addEventListener=function(e,t,n,r){var o=e.el,e=e._getElId(),i=u._events[e],e=(i||(u._events[e]=i={}),i[t]);e||(i[t]=e=[]),e.push(n),o.addEventListener(t,n,r)},u._removeEventListener=function(e,t,n,r){var o=e.el,e=e._getElId(),i=u._events[e];if(i)if(t){e=i[t];u._removeListeners(o,e,n,r,t)}else for(var s in i){var a=i[s];u._removeListeners(o,a,null,r,s)}},u._removeListeners=function(e,t,n,r,o){if(t)for(var i=0;i<t.length;++i){var s=t[i];if((!n||s===n)&&(t.splice(i,1),e.removeEventListener(o,s,r),n))return}},u._dd={},u._getDefaultDisplay=function(e){var t=e.nodeName,n=u._dd[t];return n||(e=(e=e.ownerDocument).body.appendChild(e.createElement(t)),n=getComputedStyle(e).display,e.parentNode.removeChild(e),u._dd[t]=n="none"===n?"block":n),n},u._paramItem=function(e,t,n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n))},u.param=function(e){if(null==e)return"";var t=[];if(e instanceof u.SS)u._paramItem(t,e.attr("name"),e.val());else if(e instanceof u.MM)for(var n=0;n<e.list.length;++n){var r=e.list[n];u._paramItem(t,r.attr("name"),r.val())}else{if("object"!=typeof e)throw u._getError("param");for(var o in e)u._paramItem(t,o,e[o])}return t.join("&")},u.SS=function(e){this.list=[this],this.el=e,this.nodes=[e],this.length=1,this[0]=e},u.SS.prototype._gcs=function(e,t){e=getComputedStyle(e.el,null)[t].replace("px","");return isNaN(e)?e:parseFloat(e)},u.SS.prototype._getElId=function(){var e=this.el.getAttribute("data-elId");return e||(e=Math.floor(65536*(1+Math.random())).toString(16).substring(1),this.el.setAttribute("data-elId",e)),e},u.SS.prototype._insertHelper=function(e,t){if(t instanceof Element)this.el.insertAdjacentElement(e,t);else if(t instanceof u.SS)this.el.insertAdjacentElement(e,t.el);else{if("string"!=typeof t)throw"Insert operation not ready for that type!";this.el.insertAdjacentHTML(e,t)}return this},u.SS.prototype._iterate=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;++n)t(this,e[n]);else t(this,e);return this},u.SS.prototype._outer=function(e,t,n,r){var o;return this.el["offset"+e]?u.SS._outerCalc(this,e,t,n,r):(o=this)._swap(this.el,function(){return u.SS._outerCalc(o,e,t,n,r)})},u.SS._outerCalc=function(e,t,n,r,o){t=e._gcs(e,t.toLowerCase())+(e._gcs(e,"padding"+n)+e._gcs(e,"padding"+r))+(e._gcs(e,"border"+n+"Width")+e._gcs(e,"border"+r+"Width"));return o?t+(e._gcs(e,"margin"+n)+e._gcs(e,"margin"+r)):t},u.SS.prototype._setCssUsingKeyValue=function(e,t){"function"==typeof t&&(t=t.call(this.el,void 0===this._i?0:this._i,this)),this.el.style[e]="string"!=typeof t||/^-?\d+\.?\d*$/.test(t)?t+"px":t},u.SS.prototype._setCssUsingObject=function(e){for(var t in e)this._setCssUsingKeyValue(t,e[t])},u.SS.prototype._styleProperty=function(e,t){var n;return void 0===t?(t=(n=this)._gcs(this,e),parseFloat("auto"!==t?t:this._swap(this.el,function(){return n._gcs(n,e)}))):(this._setCssUsingKeyValue(e,t),this)},u.SS.prototype._swap=function(e,t){var n,r={},o={display:"block",position:"absolute",visibility:"hidden"};for(n in o)r[n]=e.style[n],e.style[n]=o[n];t=t.call(e);for(n in o)e.style[n]=r[n];return t},u.SS.prototype.addClass=function(e){return this._iterate(e,function(e,t){e.el.classList.add(t)})},u.SS.prototype.after=function(e){return this._insertHelper("afterend",e)},u.SS.prototype.append=function(e){if(e instanceof Element)this.el.appendChild(e);else if(e instanceof u.SS)this.el.appendChild(e.el);else{if("string"!=typeof e)throw u._getError("append");this.el.insertAdjacentHTML("beforeend",e)}return this},u.SS.prototype.appendTo=function(e){if(null==e)return this;if(e instanceof Element)return e.appendChild(this.el),this;if((e="string"==typeof e?u._build(document.querySelectorAll(e)):e)instanceof u.SS)return e.el.appendChild(this.el),this;if(e instanceof u.MM){for(var t=0;t<e.nodes.length;++t)e.nodes[t].appendChild(this.el.cloneNode(!0));return this}throw u._getError("is")},u.SS.prototype.attr=function(e,t){if("object"==typeof e)for(var n in e)this.attr(n,e[n]);else{if(void 0===t)return this.el.getAttribute(e);if(null===t)return this.removeAttr(e);this.el.setAttribute(e,t)}return this},u.SS.prototype.before=function(e){return this._insertHelper("beforebegin",e)},u.SS.prototype.children=function(t){return u._build(t?Array.prototype.filter.call(this.el.children,function(e){return e.matches(t)}):this.el.children)},u.SS.prototype.clone=function(){return new u.SS(this.el.cloneNode(!0))},u.SS.prototype.css=function(e,t){var n=arguments.length;if(1===n){if(!e)throw"Null value not allowed in css method!";if("string"==typeof e)return getComputedStyle(this.el)[e];if("object"==typeof e)return this._setCssUsingObject(e),this;throw"Wrong type or argument in css method!"}if(2===n)return this._setCssUsingKeyValue(e,t),this;throw"Wrong number of arguments in css method!"},u.SS.prototype.each=function(e){return e.call(this.el,0,this,this.nodes),this},u.SS.prototype.empty=function(){for(;this.el.firstChild;)this.el.removeChild(this.el.firstChild);return this},u.SS.prototype.filter=function(e){if("string"==typeof e)return u._build(this.el.matches(e)?[this.el]:[]);if("function"==typeof e)return u._build(e.call(this.el,void 0===this._i?0:this._i,this)?[this.el]:[]);throw u._getError("filter")},u.SS.prototype.find=function(e){return u._build(this.el.querySelectorAll(e))},u.SS.prototype.first=function(){return this},u.SS.prototype.hasClass=function(e){return this.el.classList.contains(e)},u.SS.prototype.height=function(e){return this._styleProperty("height",e)},u.SS.prototype.html=function(e){return void 0===e?this.el.innerHTML:(this.el.innerHTML=e,this)},u.SS.prototype.index=function(){if(!this.el)return-1;for(var e=0,t=this.el;e++,t=t.previousElementSibling;);return e},u.SS.prototype.is=function(e){if(null==e)return!1;if(e instanceof Element)return this.el===e;if(e instanceof u.SS)return this.el===e.el;if(e instanceof u.MM){for(var t=0;t<e.nodes.length;++t)if(this.el===e.nodes[t])return!0;return!1}return"string"==typeof e&&this.el.matches(e)},u.SS.prototype.next=function(){return new u.SS(this.el.nextElementSibling)},u.SS.prototype.offset=function(e){return e?(this._styleProperty("top",e.top),this._styleProperty("left",e.left),this):{top:(e=this.el.getBoundingClientRect()).top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},u.SS.prototype.offsetParent=function(){var e=this.el.offsetParent;return e?new u.SS(e):this},u.SS.prototype.outerHeight=function(e){return this._outer("Height","Top","Bottom",e)},u.SS.prototype.outerWidth=function(e){return this._outer("Width","Left","Right",e)},u.SS.prototype.parent=function(){return new u.SS(this.el.parentNode)},u.SS.prototype.parents=function(e){for(var t=[],n=this.el;(n=n.parentNode)&&n!==document;)e&&!n.matches(e)||t.push(n);return u._build(t)},u.SS.prototype.position=function(e){return e?this.el.getBoundingClientRect():{left:this.el.offsetLeft,top:this.el.offsetTop}},u.SS.prototype.prepend=function(e){if(e instanceof Element)this.el.insertBefore(e,this.el.firstChild);else if(e instanceof u.SS)this.el.insertBefore(e.el,this.el.firstChild);else{if("string"!=typeof e)throw u._getError("prepend");this.el.insertAdjacentHTML("afterbegin",e)}return this},u.SS.prototype.prev=function(){return new u.SS(this.el.previousElementSibling)},u.SS.prototype.remove=function(){return this.el.parentNode.removeChild(this.el),this},u.SS.prototype.removeAttr=function(e){return this.el.removeAttribute(e),this},u.SS.prototype.removeClass=function(e){return e?this._iterate(e,function(e,t){e.el.classList.remove(t)}):(this.el.className="",this)},u.SS.prototype.replaceWith=function(e){return this.el.outerHTML=e,this},u.SS.prototype.siblings=function(t){var n=this,e=Array.prototype.filter.call(this.el.parentNode.children,t?function(e){return e!==n.el&&e.matches(t)}:function(e){return e!==n.el});return u._build(e)},u.SS.prototype.text=function(e){return void 0===e?this.el.textContent:(this.el.textContent=e,this)},u.SS.prototype.toggleClass=function(e,n){return this._iterate(e,void 0===n?function(e,t){e.el.classList.toggle(t)}:function(e,t){e.el.classList.toggle(t,n)})},u.SS.prototype.width=function(e){return this._styleProperty("width",e)},u.SS.prototype.map=function(e){return u._build(e.call(this.el,0,this.el))},u.SS.prototype.get=function(e){return u._get(this.nodes,e)},u.SS.prototype.off=function(e,t,n){return u._removeEventListener(this,e,t,n),this},u.SS.prototype.on=function(e,t,n,r){return u._addEventListener(this,e,n?function(e){return e.data=n,t.call(e.currentTarget,e)}:t,r),this},u.SS.prototype.trigger=function(e,t){e=new Event(e,{bubbles:!0,cancelable:!1});return t&&(e.params=t),this.el.dispatchEvent(e),this},u.SS.prototype.hide=function(){return this.isVisible()&&(this.attr("data-display",getComputedStyle(this.el,null).display),this.el.style.display="none"),this},u.SS.prototype.isVisible=function(){return!!this.el.offsetParent},u.SS.prototype.show=function(){var e;return this.isVisible()||(e=this.attr("data-display"),this.el.style.display=e||u._getDefaultDisplay(this.el)),this},u.SS.prototype.toggle=function(e){return(void 0!==e?!e:this.isVisible())?this.hide():this.show()},u.SS.prototype.fadeIn=function(e={}){var{ms:t,callback:n}=e,t=t||400,r=()=>{this.el.removeEventListener("transitionend",r),n&&n()};return this.el.style.transition="opacity 0s",this.el.style.display="",this.el.style.opacity=0,requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.el.addEventListener("transitionend",r),this.el.style.transition=`opacity ${t/1e3}s`,this.el.style.opacity=1})}),this},u.SS.prototype.fadeOut=function(e={}){var{ms:t,callback:n}=e,t=t||400,r=()=>{this.el.style.display="none",this.el.removeEventListener("transitionend",r),n&&n()};return this.el.style.transition="opacity 0s",this.el.style.opacity=1,requestAnimationFrame(()=>{requestAnimationFrame(()=>{this.el.style.transition=`opacity ${t/1e3}s`,this.el.addEventListener("transitionend",r),this.el.style.opacity=0})}),this},u.SS.prototype.checked=function(e){return this.prop("checked",e)},u.SS.prototype.disabled=function(e){return this.prop("disabled",e)},u.SS.prototype.indeterminate=function(e){return this.prop("indeterminate",e)},u.SS.prototype.prop=function(e,t){return void 0===t?!!this.el[e]:(this.el[e]=t,this)},u.SS.prototype.val=function(e){if(void 0===e)switch(this.el.nodeName){case"INPUT":case"TEXTAREA":case"BUTTON":case"OPTION":case"CHECKBOX":return this.el.value;case"SELECT":for(var t=[],n=0;n<this.el.length;++n)this.el[n].selected&&t.push(this.el[n].value);return 1<t.length?t:t[0];default:throw u._getError("val")}switch(this.el.nodeName){case"INPUT":case"TEXTAREA":case"BUTTON":case"OPTION":case"CHECKBOX":this.el.value=e;break;case"SELECT":for("string"!=typeof e&&"number"!=typeof e&&null!=e||(e=[e]),n=0;n<this.el.length;++n)for(var r=0;r<e.length;++r)if(this.el[n].selected="",this.el[n].value==e[r]){this.el[n].selected="selected";break}break;default:throw u._getError("val")}return this},u.SS.prototype.getXCenter=function(){return(document.documentElement.clientWidth-this.outerWidth())/2},u.SS.prototype.getYCenter=function(){return(document.documentElement.clientHeight-this.outerHeight())/2},u.SS.prototype.getCenter=function(){return{left:this.getXCenter(),top:this.getYCenter()}},u.SS.prototype.center=function(){return this.offset(this.getCenter()),this},u.SS.prototype.centerX=function(){return this.css("left",this.getXCenter()),this},u.SS.prototype.centerY=function(){return this.css("top",this.getYCenter()),this},u.MM=function(e){this.list=[],this.nodes=e.filter(e=>e),this.length=this.nodes.length;for(var t=0;t<this.length;t++){var n=this.nodes[t],n=(this[t]=n,new u.SS(n));this.list.push(n),n._i=t}},u.add=function(e,t){for(var n in u.SS.prototype)if(e===u.SS.prototype[n])return void(u.MM.prototype[n]=(r=void 0,r=n,t?t(r):u.MM.constructors.default(r)));var r;throw"Error registering zzDOM.MM: zzDOM.SS not found."},u.MM.constructors={},u.MM.constructors.booleanOr=function(n){return function(){for(var e=0;e<this.list.length;e++){var t=this.list[e];if(t[n].apply(t,arguments))return!0}return!1}},u.MM.constructors.concat=function(r){return function(){for(var e=[],t=0;t<this.list.length;t++)var n=this.list[t],n=n[r].apply(n,arguments),e=[...new Set([...e,...n.nodes])];return u._build(e)}},u.MM.constructors.default=function(n){return function(){for(var e=0;e<this.list.length;e++){var t=this.list[e],t=t[n].apply(t,arguments);if(0===e&&!(t instanceof u.SS))return t}return this}},u.MM.constructors.callback=function(r){return function(){arguments[0]||(arguments[0]={});for(var e=arguments[0].callback,t=0;t<this.list.length;t++){var n=this.list[t];arguments[0].callback=t!==this.list.length-1?void 0:e,n[r].apply(n,arguments)}return this}},u.MM.constructors.appendText=function(o){return function(){for(var e="",t=!1,n=0;n<this.list.length;n++){var r=this.list[n],r=r[o].apply(r,arguments);"string"==typeof r&&(e+=(""==e?"":" ")+r,t=!0)}return this.list.length||arguments.length?t?e:this:null}},u.MM.constructors.val=function(n,r){return function(){for(var e=0;e<this.list.length;e++){var t=this.list[e],t=t[n].apply(t,arguments);if(0===e&&!(t instanceof u.SS))return t}return this.list.length||arguments.length!==r?this:null}},u.MM.constructors.val0=function(e){return u.MM.constructors.val(e,0)},u.MM.constructors.val1=function(e){return u.MM.constructors.val(e,1)},u.MM.init=(()=>{var e,t,n=["children","clone","filter","find","next","offsetParent","parent","parents","prev","siblings"],r=["hasClass","is"],o=["fadeIn","fadeOut"],i=["text"],s=["checked","disabled","html","indeterminate","val"],a=["prop"];for(e in u.SS.prototype)u.MM.prototype[e]=(t=void 0,t=e,-1!==n.indexOf(t)?u.MM.constructors.concat(t):-1!==r.indexOf(t)?u.MM.constructors.booleanOr(t):-1!==o.indexOf(t)?u.MM.constructors.callback(t):-1!==i.indexOf(t)?u.MM.constructors.appendText(t):-1!==s.indexOf(t)?u.MM.constructors.val0(t):-1!==a.indexOf(t)?u.MM.constructors.val1(t):u.MM.constructors.default(t))})(),u.MM.prototype.each=function(n){var r=this;return Array.prototype.forEach.call(this.list,function(e,t){n.call(e.el,t,e,r.nodes)}),this},u.MM.prototype.first=function(){return 0==this.length?this:this.list[0]},u.MM.prototype.map=function(n){var e=this.nodes.map((e,t)=>n.call(e,t,e));return u._build(e)},u.MM.prototype.get=function(e){return u._get(this.nodes,e)},"object"==typeof t&&t.exports&&(t.exports=u)},{}],62:[function(e,t,n){var r,o;r=this,o=function(){var f=function(){},s={},c={},d={};function a(e,t){if(e){var n=d[e];if(c[e]=t,n)for(;n.length;)n[0](e,t),n.splice(0,1)}}function p(e,t){e.call&&(e={success:e}),t.length?(e.error||f)(t):(e.success||f)(e)}function u(e,r,t){for(var o=(e=e.push?e:[e]).length,n=o,i=[],s=function(e,t,n){if("e"==t&&i.push(e),"b"==t){if(!n)return;i.push(e)}--o||r(i)},a=0;a<n;a++)!function n(r,o,i,s){var a,u,e=document,t=i.async,l=(i.numRetries||0)+1,c=i.before||f,d=r.replace(/[\?|#].*$/,""),p=r.replace(/^(css|img|module|nomodule)!/,"");if(s=s||0,/(^css!|\.css$)/.test(d))(u=e.createElement("link")).rel="stylesheet",u.href=p,(a="hideFocus"in u)&&u.relList&&(a=0,u.rel="preload",u.as="style");else if(/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(d))(u=e.createElement("img")).src=p;else if((u=e.createElement("script")).src=p,u.async=void 0===t||t,p="noModule"in u,/^module!/.test(d)){if(!p)return o(r,"l");u.type="module"}else if(/^nomodule!/.test(d)&&p)return o(r,"l");u.onload=u.onerror=u.onbeforeload=function(e){var t=e.type[0];if(a)try{u.sheet.cssText.length||(t="e")}catch(e){18!=e.code&&(t="e")}if("e"==t){if((s+=1)<l)return n(r,o,i,s)}else if("preload"==u.rel&&"style"==u.as)return u.rel="stylesheet";o(r,t,e.defaultPrevented)},!1!==c(r,u)&&e.head.appendChild(u)}(e[a],s,t)}function h(e,t,n){var r,o;if(t&&t.trim&&(r=t),o=(r?n:t)||{},r){if(r in s)throw"LoadJS";s[r]=!0}function i(t,n){u(e,function(e){p(o,e),t&&p({success:t,error:n},e),a(r,e)},o)}if(o.returnPromise)return new Promise(i);i()}return h.ready=function(e,t){var n=e,r=function(e){p(t,e)};n=n.push?n:[n];for(var o,i,s=[],a=n.length,u=a,l=function(e,t){t.length&&s.push(e),--u||r(s)};a--;)o=n[a],(i=c[o])?l(o,i):(d[o]=d[o]||[]).push(l);return h},h.done=function(e){a(e,[])},h.reset=function(){s={},c={},d={}},h.isDefined=function(e){return e in s},h},"function"==typeof define&&define.amd?define([],o):"object"==typeof n?t.exports=o():r.loadjs=o()},{}],63:[function(_dereq_,module,exports){((e,t)=>{"function"==typeof define&&define.amd?define(e):void 0!==module&&"object"==typeof exports?module.exports=e():t.log4javascript=e()})(function(){function isUndefined(e){return void 0===e}function EventSupport(){}Array.prototype.push||(Array.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)this[this.length]=arguments[e];return this.length}),Array.prototype.shift||(Array.prototype.shift=function(){if(0<this.length){for(var e=this[0],t=0,n=this.length-1;t<n;t++)this[t]=this[t+1];return this.length=this.length-1,e}}),Array.prototype.splice||(Array.prototype.splice=function(e,t){for(var n=this.slice(e+t),t=this.slice(e,e+t),r=(this.length=e,[]),o=0,i=arguments.length;o<i;o++)r[o]=arguments[o];for(var s=2<r.length?n=r.slice(2).concat(n):n,o=0,i=s.length;o<i;o++)this.push(s[o]);return t}),EventSupport.prototype={eventTypes:[],eventListeners:{},setEventTypes:function(e){if(e instanceof Array){this.eventTypes=e,this.eventListeners={};for(var t=0,n=this.eventTypes.length;t<n;t++)this.eventListeners[this.eventTypes[t]]=[]}else handleError("log4javascript.EventSupport ["+this+"]: setEventTypes: eventTypes parameter must be an Array")},addEventListener:function(e,t){"function"==typeof t?(array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: addEventListener: no event called '"+e+"'"),this.eventListeners[e].push(t)):handleError("log4javascript.EventSupport ["+this+"]: addEventListener: listener must be a function")},removeEventListener:function(e,t){"function"==typeof t?(array_contains(this.eventTypes,e)||handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: no event called '"+e+"'"),array_remove(this.eventListeners[e],t)):handleError("log4javascript.EventSupport ["+this+"]: removeEventListener: listener must be a function")},dispatchEvent:function(e,t){if(array_contains(this.eventTypes,e))for(var n=this.eventListeners[e],r=0,o=n.length;r<o;r++)n[r](this,e,t);else handleError("log4javascript.EventSupport ["+this+"]: dispatchEvent: no event called '"+e+"'")}};var applicationStartDate=new Date,uniqueId="log4javascript_"+applicationStartDate.getTime()+"_"+Math.floor(1e8*Math.random()),emptyFunction=function(){},newLine="\r\n",pageLoaded=!1;function Log4JavaScript(){}Log4JavaScript.prototype=new EventSupport;var log4javascript=new Log4JavaScript;function toStr(e){return e&&e.toString?e.toString():String(e)}function getExceptionMessage(e){return e.message||e.description||toStr(e)}function getUrlFileName(e){var t=Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\"));return e.substr(t+1)}function getExceptionStringRep(e){if(e){var t="Exception: "+getExceptionMessage(e);try{e.lineNumber&&(t+=" on line number "+e.lineNumber),e.fileName&&(t+=" in file "+getUrlFileName(e.fileName))}catch(e){logLog.warn("Unable to obtain file and line information for error")}return showStackTraces&&e.stack&&(t+=newLine+"Stack trace:"+newLine+e.stack),t}return null}function bool(e){return Boolean(e)}function trim(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}function splitIntoLines(e){return e.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n")}log4javascript.version="1.4.13",log4javascript.edition="log4javascript";var urlEncode=void 0!==window.encodeURIComponent?function(e){return encodeURIComponent(e)}:function(e){return escape(e).replace(/\+/g,"%2B").replace(/"/g,"%22").replace(/'/g,"%27").replace(/\//g,"%2F").replace(/=/g,"%3D")};function array_remove(e,t){for(var n=-1,r=0,o=e.length;r<o;r++)if(e[r]===t){n=r;break}0<=n&&e.splice(n,1)}function array_contains(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]==t)return!0;return!1}function extractBooleanFromParam(e,t){return isUndefined(e)?t:bool(e)}function extractStringFromParam(e,t){return isUndefined(e)?t:String(e)}function extractIntFromParam(t,n){if(isUndefined(t))return n;try{var e=parseInt(t,10);return isNaN(e)?n:e}catch(e){return logLog.warn("Invalid int param "+t,e),n}}function extractFunctionFromParam(e,t){return"function"==typeof e?e:t}function isError(e){return e instanceof Error}Function.prototype.apply||(Function.prototype.apply=function(obj,args){for(var methodName="__apply__",argsStrings=(void 0!==obj[methodName]&&(methodName+=String(Math.random()).substr(2)),obj[methodName]=this,[]),i=0,len=args.length;i<len;i++)argsStrings[i]="args["+i+"]";var script="obj."+methodName+"("+argsStrings.join(",")+")",returnValue=eval(script);return delete obj[methodName],returnValue}),Function.prototype.call||(Function.prototype.call=function(e){for(var t=[],n=1,r=arguments.length;n<r;n++)t[n-1]=arguments[n];return this.apply(e,t)});var logLog={quietMode:!1,debugMessages:[],setQuietMode:function(e){this.quietMode=bool(e)},numberOfErrors:0,alertAllErrors:!1,setAlertAllErrors:function(e){this.alertAllErrors=e},debug:function(e){this.debugMessages.push(e)},displayDebug:function(){alert(this.debugMessages.join(newLine))},warn:function(e,t){},error:function(e,t){1!=++this.numberOfErrors&&!this.alertAllErrors||this.quietMode||(e="log4javascript error: "+e,t&&(e+=newLine+newLine+"Original error: "+getExceptionStringRep(t)),alert(e))}};function handleError(e,t){logLog.error(e,t),log4javascript.dispatchEvent("error",{message:e,exception:t})}log4javascript.logLog=logLog,log4javascript.setEventTypes(["load","error"]),log4javascript.handleError=handleError;var enabled=!("undefined"!=typeof log4javascript_disabled&&log4javascript_disabled),useTimeStampsInMilliseconds=(log4javascript.setEnabled=function(e){enabled=bool(e)},log4javascript.isEnabled=function(){return enabled},!0),showStackTraces=(log4javascript.setTimeStampsInMilliseconds=function(e){useTimeStampsInMilliseconds=bool(e)},log4javascript.isTimeStampsInMilliseconds=function(){return useTimeStampsInMilliseconds},log4javascript.evalInScope=function(expr){return eval(expr)},!1),Level=(log4javascript.setShowStackTraces=function(e){showStackTraces=bool(e)},function(e,t){this.level=e,this.name=t});function Timer(e,t){this.name=e,this.level=isUndefined(t)?Level.INFO:t,this.start=new Date}Level.prototype={toString:function(){return this.name},equals:function(e){return this.level==e.level},isGreaterOrEqual:function(e){return this.level>=e.level}},Level.ALL=new Level(Number.MIN_VALUE,"ALL"),Level.TRACE=new Level(1e4,"TRACE"),Level.DEBUG=new Level(2e4,"DEBUG"),Level.INFO=new Level(3e4,"INFO"),Level.WARN=new Level(4e4,"WARN"),Level.ERROR=new Level(5e4,"ERROR"),Level.FATAL=new Level(6e4,"FATAL"),Level.OFF=new Level(Number.MAX_VALUE,"OFF"),log4javascript.Level=Level,Timer.prototype.getElapsedTime=function(){return(new Date).getTime()-this.start.getTime()};var anonymousLoggerName="[anonymous]",defaultLoggerName="[default]",nullLoggerName="[null]",rootLoggerName="root";function Logger(e){this.name=e,this.parent=null,this.children=[];var n=[],t=null,r=this.name===rootLoggerName,o=this.name===nullLoggerName,i=null,s=!1,a=(this.addChild=function(e){this.children.push(e),e.parent=this,e.invalidateAppenderCache()},!0),u=(this.getAdditivity=function(){return a},this.setAdditivity=function(e){var t=a!=e;a=e,t&&this.invalidateAppenderCache()},this.addAppender=function(e){o?handleError("Logger.addAppender: you may not add an appender to the null logger"):e instanceof log4javascript.Appender?array_contains(n,e)||(n.push(e),e.setAddedToLogger(this),this.invalidateAppenderCache()):handleError("Logger.addAppender: appender supplied ('"+toStr(e)+"') is not a subclass of Appender")},this.removeAppender=function(e){array_remove(n,e),e.setRemovedFromLogger(this),this.invalidateAppenderCache()},this.removeAllAppenders=function(){var e=n.length;if(0<e){for(var t=0;t<e;t++)n[t].setRemovedFromLogger(this);n.length=0,this.invalidateAppenderCache()}},this.getEffectiveAppenders=function(){var e;return null!==i&&!s||(e=r||!this.getAdditivity()?[]:this.parent.getEffectiveAppenders(),i=e.concat(n),s=!1),i},this.invalidateAppenderCache=function(){s=!0;for(var e=0,t=this.children.length;e<t;e++)this.children[e].invalidateAppenderCache()},this.log=function(e,t){if(enabled&&e.isGreaterOrEqual(this.getEffectiveLevel())){for(var n,r=t.length-1,o=t[r],i=(1<t.length&&isError(o)&&(n=o,r--),[]),s=0;s<=r;s++)i[s]=t[s];o=new LoggingEvent(this,new Date,e,i,n);this.callAppenders(o)}},this.callAppenders=function(e){for(var t=this.getEffectiveAppenders(),n=0,r=t.length;n<r;n++)t[n].doAppend(e)},this.setLevel=function(e){r&&null===e?handleError("Logger.setLevel: you cannot set the level of the root logger to null"):e instanceof Level?t=e:handleError("Logger.setLevel: level supplied to logger "+this.name+" is not an instance of log4javascript.Level")},this.getLevel=function(){return t},this.getEffectiveLevel=function(){for(var e=this;null!==e;e=e.parent){var t=e.getLevel();if(null!==t)return t}},this.group=function(e,t){if(enabled)for(var n=this.getEffectiveAppenders(),r=0,o=n.length;r<o;r++)n[r].group(e,t)},this.groupEnd=function(){if(enabled)for(var e=this.getEffectiveAppenders(),t=0,n=e.length;t<n;t++)e[t].groupEnd()},{});this.time=function(e,t){enabled&&(isUndefined(e)?handleError("Logger.time: a name for the timer must be supplied"):!t||t instanceof Level?u[e]=new Timer(e,t):handleError("Logger.time: level supplied to timer "+e+" is not an instance of log4javascript.Level"))},this.timeEnd=function(e){var t,n;enabled&&(isUndefined(e)?handleError("Logger.timeEnd: a name for the timer must be supplied"):u[e]?(n=(t=u[e]).getElapsedTime(),this.log(t.level,["Timer "+toStr(e)+" completed in "+n+"ms"]),delete u[e]):logLog.warn("Logger.timeEnd: no timer found with name "+e))},this.assert=function(e){if(enabled&&!e){for(var t=[],n=1,r=arguments.length;n<r;n++)t.push(arguments[n]);(t=0<t.length?t:["Assertion Failure"]).push(newLine),t.push(e),this.log(Level.ERROR,t)}},this.toString=function(){return"Logger["+this.name+"]"}}Logger.prototype={trace:function(){this.log(Level.TRACE,arguments)},debug:function(){this.log(Level.DEBUG,arguments)},info:function(){this.log(Level.INFO,arguments)},warn:function(){this.log(Level.WARN,arguments)},error:function(){this.log(Level.ERROR,arguments)},fatal:function(){this.log(Level.FATAL,arguments)},isEnabledFor:function(e){return e.isGreaterOrEqual(this.getEffectiveLevel())},isTraceEnabled:function(){return this.isEnabledFor(Level.TRACE)},isDebugEnabled:function(){return this.isEnabledFor(Level.DEBUG)},isInfoEnabled:function(){return this.isEnabledFor(Level.INFO)},isWarnEnabled:function(){return this.isEnabledFor(Level.WARN)},isErrorEnabled:function(){return this.isEnabledFor(Level.ERROR)},isFatalEnabled:function(){return this.isEnabledFor(Level.FATAL)}},Logger.prototype.trace.isEntryPoint=!0,Logger.prototype.debug.isEntryPoint=!0,Logger.prototype.info.isEntryPoint=!0,Logger.prototype.warn.isEntryPoint=!0,Logger.prototype.error.isEntryPoint=!0,Logger.prototype.fatal.isEntryPoint=!0;var loggers={},loggerNames=[],ROOT_LOGGER_DEFAULT_LEVEL=Level.DEBUG,rootLogger=new Logger(rootLoggerName),defaultLogger=(rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),log4javascript.getRootLogger=function(){return rootLogger},log4javascript.getLogger=function(e){var t,n;return"string"!=typeof e&&logLog.warn("log4javascript.getLogger: non-string logger name "+toStr(e=anonymousLoggerName)+" supplied, returning anonymous logger"),e==rootLoggerName&&handleError("log4javascript.getLogger: root logger may not be obtained by name"),loggers[e]||(t=new Logger(e),loggers[e]=t,loggerNames.push(e),(-1<(n=e.lastIndexOf("."))?(n=e.substring(0,n),log4javascript.getLogger(n)):rootLogger).addChild(t)),loggers[e]},null),nullLogger=(log4javascript.getDefaultLogger=function(){return defaultLogger=defaultLogger||createDefaultLogger()},null),LoggingEvent=(log4javascript.getNullLogger=function(){return nullLogger||(nullLogger=new Logger(nullLoggerName)).setLevel(Level.OFF),nullLogger},log4javascript.resetConfiguration=function(){rootLogger.setLevel(ROOT_LOGGER_DEFAULT_LEVEL),loggers={}},function(e,t,n,r,o){this.logger=e,this.timeStamp=t,this.timeStampInMilliseconds=t.getTime(),this.timeStampInSeconds=Math.floor(this.timeStampInMilliseconds/1e3),this.milliseconds=this.timeStamp.getMilliseconds(),this.level=n,this.messages=r,this.exception=o}),Layout=(LoggingEvent.prototype={getThrowableStrRep:function(){return this.exception?getExceptionStringRep(this.exception):""},getCombinedMessages:function(){return 1==this.messages.length?this.messages[0]:this.messages.join(newLine)},toString:function(){return"LoggingEvent["+this.level+"]"}},log4javascript.LoggingEvent=LoggingEvent,function(){}),Appender=(Layout.prototype={defaults:{loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url"},loggerKey:"logger",timeStampKey:"timestamp",millisecondsKey:"milliseconds",levelKey:"level",messageKey:"message",exceptionKey:"exception",urlKey:"url",batchHeader:"",batchFooter:"",batchSeparator:"",returnsPostData:!1,overrideTimeStampsSetting:!1,useTimeStampsInMilliseconds:null,format:function(){handleError("Layout.format: layout supplied has no format() method")},ignoresThrowable:function(){handleError("Layout.ignoresThrowable: layout supplied has no ignoresThrowable() method")},getContentType:function(){return"text/plain"},allowBatching:function(){return!0},setTimeStampsInMilliseconds:function(e){this.overrideTimeStampsSetting=!0,this.useTimeStampsInMilliseconds=bool(e)},isTimeStampsInMilliseconds:function(){return this.overrideTimeStampsSetting?this.useTimeStampsInMilliseconds:useTimeStampsInMilliseconds},getTimeStampValue:function(e){return this.isTimeStampsInMilliseconds()?e.timeStampInMilliseconds:e.timeStampInSeconds},getDataValues:function(e,t){var n=[[this.loggerKey,e.logger.name],[this.timeStampKey,this.getTimeStampValue(e)],[this.levelKey,e.level.name],[this.urlKey,window.location.href],[this.messageKey,t?e.getCombinedMessages():e.messages]];if(this.isTimeStampsInMilliseconds()||n.push([this.millisecondsKey,e.milliseconds]),e.exception&&n.push([this.exceptionKey,getExceptionStringRep(e.exception)]),this.hasCustomFields())for(var r=0,o=this.customFields.length;r<o;r++){var i=this.customFields[r].value;"function"==typeof i&&(i=i(this,e)),n.push([this.customFields[r].name,i])}return n},setKeys:function(e,t,n,r,o,i,s){this.loggerKey=extractStringFromParam(e,this.defaults.loggerKey),this.timeStampKey=extractStringFromParam(t,this.defaults.timeStampKey),this.levelKey=extractStringFromParam(n,this.defaults.levelKey),this.messageKey=extractStringFromParam(r,this.defaults.messageKey),this.exceptionKey=extractStringFromParam(o,this.defaults.exceptionKey),this.urlKey=extractStringFromParam(i,this.defaults.urlKey),this.millisecondsKey=extractStringFromParam(s,this.defaults.millisecondsKey)},setCustomField:function(e,t){for(var n=!1,r=0,o=this.customFields.length;r<o;r++)this.customFields[r].name===e&&(this.customFields[r].value=t,n=!0);n||this.customFields.push({name:e,value:t})},hasCustomFields:function(){return 0<this.customFields.length},formatWithException:function(e){var t=this.format(e);return e.exception&&this.ignoresThrowable()&&(t+=e.getThrowableStrRep()),t},toString:function(){handleError("Layout.toString: all layouts must override this method")}},log4javascript.Layout=Layout,function(){}),SimpleDateFormat;function SimpleLayout(){this.customFields=[]}function NullLayout(){this.customFields=[]}function XmlLayout(e){this.combineMessages=extractBooleanFromParam(e,!0),this.customFields=[]}function escapeNewLines(e){return e.replace(/\r\n|\r|\n/g,"\\r\\n")}function JsonLayout(e,t){this.readable=extractBooleanFromParam(e,!1),this.combineMessages=extractBooleanFromParam(t,!0),this.batchHeader=this.readable?"["+newLine:"[",this.batchFooter=this.readable?"]"+newLine:"]",this.batchSeparator=this.readable?","+newLine:",",this.setKeys(),this.colon=this.readable?": ":":",this.tab=this.readable?"\t":"",this.lineBreak=this.readable?newLine:"",this.customFields=[]}function HttpPostDataLayout(){this.setKeys(),this.customFields=[],this.returnsPostData=!0}function formatObjectExpansion(e,t,n){var p=[];return function e(t,n,o){var r,i,s,a,u,l,c;function d(e){for(var t=splitIntoLines(e),n=1,r=t.length;n<r;n++)t[n]=o+t[n];return t.join(newLine)}if(o=o||"",null===t)return"null";if(void 0===t)return"undefined";if("string"==typeof t)return d(t);if("object"==typeof t&&array_contains(p,t)){try{l=toStr(t)}catch(e){l="Error formatting property. Details: "+getExceptionStringRep(e)}return l+" [already expanded]"}if(t instanceof Array&&0<n){for(p.push(t),l="["+newLine,s=n-1,a=o+"  ",u=[],r=0,i=t.length;r<i;r++)try{c=e(t[r],s,a),u.push(a+c)}catch(e){u.push(a+"Error formatting array member. Details: "+getExceptionStringRep(e))}return l+=u.join(","+newLine)+newLine+o+"]"}if("[object Date]"==Object.prototype.toString.call(t))return t.toString();if("object"==typeof t&&0<n){for(r in p.push(t),l="{"+newLine,s=n-1,a=o+"  ",u=[],t)try{c=e(t[r],s,a),u.push(a+r+": "+c)}catch(e){u.push(a+r+": Error formatting property. Details: "+getExceptionStringRep(e))}return l+=u.join(","+newLine)+newLine+o+"}"}return d(toStr(t))}(e,t,n)}function PatternLayout(e){this.pattern=e||PatternLayout.DEFAULT_CONVERSION_PATTERN,this.customFields=[]}function AlertAppender(){}function BrowserConsoleAppender(){}Appender.prototype=new EventSupport,Appender.prototype.layout=new PatternLayout,Appender.prototype.threshold=Level.ALL,Appender.prototype.loggers=[],Appender.prototype.doAppend=function(e){enabled&&e.level.level>=this.threshold.level&&this.append(e)},Appender.prototype.append=function(e){},Appender.prototype.setLayout=function(e){e instanceof Layout?this.layout=e:handleError("Appender.setLayout: layout supplied to "+this.toString()+" is not a subclass of Layout")},Appender.prototype.getLayout=function(){return this.layout},Appender.prototype.setThreshold=function(e){e instanceof Level?this.threshold=e:handleError("Appender.setThreshold: threshold supplied to "+this.toString()+" is not a subclass of Level")},Appender.prototype.getThreshold=function(){return this.threshold},Appender.prototype.setAddedToLogger=function(e){this.loggers.push(e)},Appender.prototype.setRemovedFromLogger=function(e){array_remove(this.loggers,e)},Appender.prototype.group=emptyFunction,Appender.prototype.groupEnd=emptyFunction,Appender.prototype.toString=function(){handleError("Appender.toString: all appenders must override this method")},log4javascript.Appender=Appender,SimpleLayout.prototype=new Layout,SimpleLayout.prototype.format=function(e){return e.level.name+" - "+e.getCombinedMessages()},SimpleLayout.prototype.ignoresThrowable=function(){return!0},SimpleLayout.prototype.toString=function(){return"SimpleLayout"},log4javascript.SimpleLayout=SimpleLayout,NullLayout.prototype=new Layout,NullLayout.prototype.format=function(e){return e.messages},NullLayout.prototype.ignoresThrowable=function(){return!0},NullLayout.prototype.formatWithException=function(e){var t=e.messages,e=e.exception;return e?t.concat([e]):t},NullLayout.prototype.toString=function(){return"NullLayout"},log4javascript.NullLayout=NullLayout,XmlLayout.prototype=new Layout,XmlLayout.prototype.isCombinedMessages=function(){return this.combineMessages},XmlLayout.prototype.getContentType=function(){return"text/xml"},XmlLayout.prototype.escapeCdata=function(e){return e.replace(/\]\]>/,"]]>]]&gt;<![CDATA[")},XmlLayout.prototype.format=function(e){var t,n,r=this;function o(e){return e="string"==typeof e?e:toStr(e),"<log4javascript:message><![CDATA["+r.escapeCdata(e)+"]]></log4javascript:message>"}var i='<log4javascript:event logger="'+e.logger.name+'" timestamp="'+this.getTimeStampValue(e)+'"';if(this.isTimeStampsInMilliseconds()||(i+=' milliseconds="'+e.milliseconds+'"'),i+=' level="'+e.level.name+'">'+newLine,this.combineMessages)i+=o(e.getCombinedMessages());else{for(i+="<log4javascript:messages>"+newLine,t=0,n=e.messages.length;t<n;t++)i+=o(e.messages[t])+newLine;i+="</log4javascript:messages>"+newLine}if(this.hasCustomFields())for(t=0,n=this.customFields.length;t<n;t++)i+='<log4javascript:customfield name="'+this.customFields[t].name+'"><![CDATA['+this.customFields[t].value.toString()+"]]></log4javascript:customfield>"+newLine;return e.exception&&(i+="<log4javascript:exception><![CDATA["+getExceptionStringRep(e.exception)+"]]></log4javascript:exception>"+newLine),i+="</log4javascript:event>"+newLine+newLine},XmlLayout.prototype.ignoresThrowable=function(){return!1},XmlLayout.prototype.toString=function(){return"XmlLayout"},log4javascript.XmlLayout=XmlLayout,JsonLayout.prototype=new Layout,JsonLayout.prototype.isReadable=function(){return this.readable},JsonLayout.prototype.isCombinedMessages=function(){return this.combineMessages},JsonLayout.prototype.format=function(e){var t,n,l=this,r=this.getDataValues(e,this.combineMessages),o="{"+this.lineBreak;for(t=0,n=r.length-1;t<=n;t++)o+=this.tab+'"'+r[t][0]+'"'+this.colon+function e(t,n,r){var o=typeof t;if(t instanceof Date)i=String(t.getTime());else if(r&&t instanceof Array){for(var i="["+l.lineBreak,s=0,a=t.length;s<a;s++){var u=n+l.tab;i+=u+e(t[s],u,!1),s<t.length-1&&(i+=","),i+=l.lineBreak}i+=n+"]"}else i="number"!=o&&"boolean"!=o?'"'+escapeNewLines(toStr(t).replace(/\"/g,'\\"'))+'"':t;return i}(r[t][1],this.tab,!0),t<n&&(o+=","),o+=this.lineBreak;return o+="}"+this.lineBreak},JsonLayout.prototype.ignoresThrowable=function(){return!1},JsonLayout.prototype.toString=function(){return"JsonLayout"},JsonLayout.prototype.getContentType=function(){return"application/json"},log4javascript.JsonLayout=JsonLayout,HttpPostDataLayout.prototype=new Layout,HttpPostDataLayout.prototype.allowBatching=function(){return!1},HttpPostDataLayout.prototype.format=function(e){for(var t=this.getDataValues(e),n=[],r=0,o=t.length;r<o;r++){var i=t[r][1]instanceof Date?String(t[r][1].getTime()):t[r][1];n.push(urlEncode(t[r][0])+"="+urlEncode(i))}return n.join("&")},HttpPostDataLayout.prototype.ignoresThrowable=function(e){return!1},HttpPostDataLayout.prototype.toString=function(){return"HttpPostDataLayout"},log4javascript.HttpPostDataLayout=HttpPostDataLayout,(()=>{function r(e,t,n){return(e=new Date(e,t,n,0,0,0)).setMilliseconds(0),e}function f(e,t){for(;e.length<t;)e="0"+e;return e}function h(e,t,n){return 4<=t?e:e.substr(0,Math.max(n,t))}function g(e,t){return f(""+e,t)}var m=/('[^']*')|(G+|y+|M+|w+|W+|D+|d+|F+|E+|a+|H+|k+|K+|h+|m+|s+|S+|Z+)|([a-zA-Z]+)|([^a-zA-Z']+)/,v=["January","February","March","April","May","June","July","August","September","October","November","December"],y=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b={G:0,y:3,M:4,w:2,W:2,D:2,d:2,F:2,E:1,a:0,H:2,k:2,K:2,h:2,m:2,s:2,S:2,Z:5};Date.prototype.getDifference=function(e){return this.getTime()-e.getTime()},Date.prototype.isBefore=function(e){return this.getTime()<e.getTime()},Date.prototype.getUTCTime=function(){return Date.UTC(this.getFullYear(),this.getMonth(),this.getDate(),this.getHours(),this.getMinutes(),this.getSeconds(),this.getMilliseconds())},Date.prototype.getTimeSince=function(e){return this.getUTCTime()-e.getUTCTime()},Date.prototype.getPreviousSunday=function(){var e=new Date(this.getFullYear(),this.getMonth(),this.getDate(),12,0,0),e=new Date(e.getTime()-864e5*this.getDay());return r(e.getFullYear(),e.getMonth(),e.getDate())},Date.prototype.getWeekInYear=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=1);var t=this.getPreviousSunday(),n=r(this.getFullYear(),0,1),t=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/6048e5);return 7-n.getDay()<e&&t--,t},Date.prototype.getWeekInMonth=function(e){isUndefined(this.minimalDaysInFirstWeek)&&(e=1);var t=this.getPreviousSunday(),n=r(this.getFullYear(),this.getMonth(),1),t=t.isBefore(n)?0:1+Math.floor(t.getTimeSince(n)/6048e5);return e<=7-n.getDay()&&t++,t},Date.prototype.getDayInYear=function(){var e=r(this.getFullYear(),0,1);return 1+Math.floor(this.getTimeSince(e)/864e5)},(SimpleDateFormat=function(e){this.formatString=e}).prototype.setMinimalDaysInFirstWeek=function(e){this.minimalDaysInFirstWeek=e},SimpleDateFormat.prototype.getMinimalDaysInFirstWeek=function(){return isUndefined(this.minimalDaysInFirstWeek)?1:this.minimalDaysInFirstWeek},SimpleDateFormat.prototype.format=function(e){for(var t,n="",r=this.formatString;t=m.exec(r);){var o=t[1],i=t[2],s=t[3],a=t[4];if(o)n+="''"==o?"'":o.substring(1,o.length-1);else if(!s)if(a)n+=a;else if(i){var o=i.charAt(0),u=i.length,l="";switch(o){case"G":l="AD";break;case"y":l=e.getFullYear();break;case"M":l=e.getMonth();break;case"w":l=e.getWeekInYear(this.getMinimalDaysInFirstWeek());break;case"W":l=e.getWeekInMonth(this.getMinimalDaysInFirstWeek());break;case"D":l=e.getDayInYear();break;case"d":l=e.getDate();break;case"F":l=1+Math.floor((e.getDate()-1)/7);break;case"E":l=y[e.getDay()];break;case"a":l=12<=e.getHours()?"PM":"AM";break;case"H":l=e.getHours();break;case"k":l=e.getHours()||24;break;case"K":l=e.getHours()%12;break;case"h":l=e.getHours()%12||12;break;case"m":l=e.getMinutes();break;case"s":l=e.getSeconds();break;case"S":l=e.getMilliseconds();break;case"Z":l=e.getTimezoneOffset()}switch(b[o]){case 0:n+=h(l,u,2);break;case 1:n+=h(l,u,3);break;case 2:n+=g(l,u);break;case 3:n+=u<=3?(""+l).substr(2,2):g(l,u);break;case 4:n+=3<=u?h(v[l],u,u):g(l+1,u);break;case 5:var c=0<l?"-":"+",d=Math.abs(l),p=""+Math.floor(d/60);n+=c+f(p,2)+f(""+d%60,2)}}r=r.substr(t.index+t[0].length)}return n}})(),log4javascript.SimpleDateFormat=SimpleDateFormat,PatternLayout.TTCC_CONVERSION_PATTERN="%r %p %c - %m%n",PatternLayout.DEFAULT_CONVERSION_PATTERN="%m%n",PatternLayout.ISO8601_DATEFORMAT="yyyy-MM-dd HH:mm:ss,SSS",PatternLayout.DATETIME_DATEFORMAT="dd MMM yyyy HH:mm:ss,SSS",PatternLayout.ABSOLUTETIME_DATEFORMAT="HH:mm:ss,SSS",PatternLayout.prototype=new Layout,PatternLayout.prototype.format=function(e){for(var t,n=/%(-?[0-9]+)?(\.?[0-9]+)?([acdfmMnpr%])(\{([^\}]+)\})?|([^%]+)/,r="",o=this.pattern;t=n.exec(o);){var i=t[0],s=t[1],a=t[2],u=t[3],l=t[5],c=t[6];if(c)r+=""+c;else{var d,p="";switch(u){case"a":case"m":for(var f=0,h=(l&&(f=parseInt(l,10),isNaN(f))&&(handleError("PatternLayout.format: invalid specifier '"+l+"' for conversion character '"+u+"' - should be a number"),f=0),"a"===u?e.messages[0]:e.messages),g=0,m=h.length;g<m;g++)0<g&&" "!==p.charAt(p.length-1)&&(p+=" "),p+=0===f?h[g]:formatObjectExpansion(h[g],f);break;case"c":var v,y,b=e.logger.name;p=!l||(v=parseInt(l,10))>=(y=e.logger.name.split(".")).length?b:y.slice(y.length-v).join(".");break;case"d":b=PatternLayout.ISO8601_DATEFORMAT;l&&("ISO8601"==(b=l)?b=PatternLayout.ISO8601_DATEFORMAT:"ABSOLUTE"==b?b=PatternLayout.ABSOLUTETIME_DATEFORMAT:"DATE"==b&&(b=PatternLayout.DATETIME_DATEFORMAT)),p=new SimpleDateFormat(b).format(e.timeStamp);break;case"f":this.hasCustomFields()&&(y=0,l&&(y=parseInt(l,10),isNaN(y)?handleError("PatternLayout.format: invalid specifier '"+l+"' for conversion character 'f' - should be a number"):0===y?handleError("PatternLayout.format: invalid specifier '"+l+"' for conversion character 'f' - must be greater than zero"):y>this.customFields.length?handleError("PatternLayout.format: invalid specifier '"+l+"' for conversion character 'f' - there aren't that many custom fields"):y-=1),p=v="function"==typeof(v=this.customFields[y].value)?v(this,e):v);break;case"n":p=newLine;break;case"p":p=e.level.name;break;case"r":p=""+e.timeStamp.getDifference(applicationStartDate);break;case"%":p="%";break;default:p=i}if(a&&(d=parseInt(a.substr(1),10))<(c=p.length)&&(p=p.substring(c-d,c)),s)if("-"==s.charAt(0))for(d=parseInt(s.substr(1),10);p.length<d;)p+=" ";else for(d=parseInt(s,10);p.length<d;)p=" "+p;r+=p}o=o.substr(t.index+t[0].length)}return r},PatternLayout.prototype.ignoresThrowable=function(){return!0},PatternLayout.prototype.toString=function(){return"PatternLayout"},log4javascript.PatternLayout=PatternLayout,AlertAppender.prototype=new Appender,AlertAppender.prototype.layout=new SimpleLayout,AlertAppender.prototype.append=function(e){alert(this.getLayout().formatWithException(e))},AlertAppender.prototype.toString=function(){return"AlertAppender"},log4javascript.AlertAppender=AlertAppender,BrowserConsoleAppender.prototype=new log4javascript.Appender,BrowserConsoleAppender.prototype.layout=new NullLayout,BrowserConsoleAppender.prototype.threshold=Level.DEBUG,BrowserConsoleAppender.prototype.append=function(n){function e(e){var t=r.getLayout().formatWithException(n);return"string"==typeof t?e?t:[t]:e?t.join(" "):t}var t,r=this,o=window.console;o&&o.log?"function"==typeof o[t=o.debug&&Level.DEBUG.isGreaterOrEqual(n.level)?"debug":o.info&&Level.INFO.equals(n.level)?"info":o.warn&&Level.WARN.equals(n.level)?"warn":o.error&&n.level.isGreaterOrEqual(Level.ERROR)?"error":"log"].apply?o[t].apply(o,e(!1)):o[t](e(!0)):"undefined"!=typeof opera&&opera.postError&&opera.postError(e(!0))},BrowserConsoleAppender.prototype.group=function(e){window.console&&window.console.group&&window.console.group(e)},BrowserConsoleAppender.prototype.groupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},BrowserConsoleAppender.prototype.toString=function(){return"BrowserConsoleAppender"},log4javascript.BrowserConsoleAppender=BrowserConsoleAppender;var xhrFactory=function(){return new XMLHttpRequest},xmlHttpFactories=[xhrFactory,function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],withCredentialsSupported=!1,getXmlHttp=function(e){for(var t,n,r=0,o=xmlHttpFactories.length;r<o;r++){n=xmlHttpFactories[r];try{return t=n(),withCredentialsSupported=n==xhrFactory&&"withCredentials"in t,getXmlHttp=n,t}catch(e){}}e?e():handleError("getXmlHttp: unable to obtain XMLHttpRequest object")},ConsoleAppender,oldOnload;function isHttpRequestSuccessful(e){return isUndefined(e.status)||0===e.status||200<=e.status&&e.status<300||1223==e.status}function AjaxAppender(s,a){var o=this,u=!0,i=(s||(handleError("AjaxAppender: URL must be specified in constructor"),u=!1),this.defaults.timed),l=this.defaults.waitForResponse,c=this.defaults.batchSize,t=this.defaults.timerInterval,d=this.defaults.requestSuccessCallback,p=this.defaults.failCallback,f=this.defaults.postVarName,h=this.defaults.sendAllOnUnload,g=this.defaults.contentType,n=null,m=[],v=[],y=[],b=!1,x=!1;function r(e){if(!x)return 1;handleError("AjaxAppender: configuration option '"+e+"' may not be set after the appender has been initialized")}function w(){var e;if(u&&enabled)if(b=!0,l)0<v.length?T(j(e=v.shift()),w):(b=!1,i&&S());else{for(;e=v.shift();)T(j(e));b=!1,i&&S()}}function C(){var e=!1;if(u&&enabled){for(var t,n=o.getLayout().allowBatching()?c:1,r=[];t=m.shift();)r.push(t),m.length>=n&&(v.push(r),r=[]);0<r.length&&v.push(r),e=0<v.length,i=l=!1,w()}return e}function j(e){for(var t,n=[],r="";t=e.shift();)n.push(o.getLayout().formatWithException(t));return r=1==e.length?n.join(""):o.getLayout().batchHeader+n.join(o.getLayout().batchSeparator)+o.getLayout().batchFooter,g==o.defaults.contentType&&(0<(r=o.getLayout().returnsPostData?r:urlEncode(f)+"="+urlEncode(r)).length&&(r+="&"),r+="layout="+urlEncode(o.getLayout().toString())),r}function S(){window.setTimeout(w,t)}function E(){var e="AjaxAppender: could not create XMLHttpRequest object. AjaxAppender disabled";handleError(e),u=!1,p&&p(e)}function T(e,t){try{var n=getXmlHttp(E);if(u){n.onreadystatechange=function(){var e;4==n.readyState&&(isHttpRequestSuccessful(n)?(d&&d(n),t&&t(n)):(handleError(e="AjaxAppender.append: XMLHttpRequest request to URL "+s+" returned status code "+n.status),p&&p(e)),n.onreadystatechange=emptyFunction,n=null)},n.open("POST",s,!0),a&&withCredentialsSupported&&(n.withCredentials=!0);try{for(var r,o=0;r=y[o++];)n.setRequestHeader(r.name,r.value);n.setRequestHeader("Content-Type",g)}catch(e){var i="AjaxAppender.append: your browser's XMLHttpRequest implementation does not support setRequestHeader, therefore cannot post data. AjaxAppender disabled";return handleError(i),u=!1,void(p&&p(i))}n.send(e)}}catch(e){i="AjaxAppender.append: error sending log message to "+s;handleError(i,e),u=!1,p&&p(i+". Details: "+getExceptionStringRep(e))}}this.getSessionId=function(){return n},this.setSessionId=function(e){n=extractStringFromParam(e,null),this.layout.setCustomField("sessionid",n)},this.setLayout=function(e){r("layout")&&(this.layout=e,null!==n)&&this.setSessionId(n)},this.isTimed=function(){return i},this.setTimed=function(e){r("timed")&&(i=bool(e))},this.getTimerInterval=function(){return t},this.setTimerInterval=function(e){r("timerInterval")&&(t=extractIntFromParam(e,t))},this.isWaitForResponse=function(){return l},this.setWaitForResponse=function(e){r("waitForResponse")&&(l=bool(e))},this.getBatchSize=function(){return c},this.setBatchSize=function(e){r("batchSize")&&(c=extractIntFromParam(e,c))},this.isSendAllOnUnload=function(){return h},this.setSendAllOnUnload=function(e){r("sendAllOnUnload")&&(h=extractBooleanFromParam(e,h))},this.setRequestSuccessCallback=function(e){d=extractFunctionFromParam(e,d)},this.setFailCallback=function(e){p=extractFunctionFromParam(e,p)},this.getPostVarName=function(){return f},this.setPostVarName=function(e){r("postVarName")&&(f=extractStringFromParam(e,f))},this.getHeaders=function(){return y},this.addHeader=function(e,t){"content-type"==e.toLowerCase()?g=t:y.push({name:e,value:t})},this.sendAll=w,this.sendAllRemaining=C,this.append=function(e){if(u){x||(x=!0,h&&(t=window.onbeforeunload,window.onbeforeunload=function(){t&&t(),C()}),i&&S()),m.push(e);var t,e=this.getLayout().allowBatching()?c:1;if(m.length>=e){for(var n,r=[];n=m.shift();)r.push(n);v.push(r),i||l&&b||w()}}}}function setCookie(e,t,n,r){var o;r=r?"; path="+r:"",n=n?((o=new Date).setTime(o.getTime()+24*n*60*60*1e3),"; expires="+o.toGMTString()):"",document.cookie=escape(e)+"="+escape(t)+n+r}function getCookie(e){for(var t=escape(e)+"=",n=document.cookie.split(";"),r=0,o=n.length;r<o;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return unescape(i.substring(t.length,i.length))}return null}function getBaseUrl(){for(var e,t=document.getElementsByTagName("script"),n=0,r=t.length;n<r;++n)if(-1!=t[n].src.indexOf("log4javascript"))return-1==(e=t[n].src.lastIndexOf("/"))?"":t[n].src.substr(0,e+1);return null}function isLoaded(e){try{return bool(e.loaded)}catch(e){return!1}}function padWithSpaces(e,t){if(e.length<t){for(var n=[],r=Math.max(0,t-e.length),o=0;o<r;o++)n[o]=" ";e+=n.join("")}return e}function createDefaultLogger(){var e=log4javascript.getLogger(defaultLoggerName),t=new log4javascript.PopUpAppender;return e.addAppender(t),e}return AjaxAppender.prototype=new Appender,AjaxAppender.prototype.defaults={waitForResponse:!1,timed:!1,timerInterval:1e3,batchSize:1,sendAllOnUnload:!1,requestSuccessCallback:null,failCallback:null,postVarName:"data",contentType:"application/x-www-form-urlencoded"},AjaxAppender.prototype.layout=new HttpPostDataLayout,AjaxAppender.prototype.toString=function(){return"AjaxAppender"},log4javascript.AjaxAppender=AjaxAppender,(()=>{var ee=[],te=1;function e(e,t,n,r,o){this.create(!1,null,e,t,n,r,o,this.defaults.focusPopUp)}function t(e,t,n,r,o,i){this.create(!0,e,t,n,r,o,i,!1)}(ConsoleAppender=function(){}).prototype=new Appender,ConsoleAppender.prototype.create=function(N,t,P,a,u,l,c,_){function n(e){return!f||(handleError(U+": configuration option '"+e+"' may not be set after the appender has been initialized"),!1)}function r(){return h&&v&&!g}var o,e,d,i,p=this,s=!1,f=!1,h=!1,g=!1,m=[],v=!0,B=te++,y=(a=extractBooleanFromParam(a,this.defaults.initiallyMinimized),P=extractBooleanFromParam(P,this.defaults.lazyInit),u=extractBooleanFromParam(u,this.defaults.useDocumentWrite),this.defaults.newestMessageAtTop),b=this.defaults.scrollToLatestMessage,x=(l=l||this.defaults.width,c=c||this.defaults.height,this.defaults.maxMessages),w=this.defaults.showCommandLine,C=this.defaults.commandLineObjectExpansionDepth,j=this.defaults.showHideButton,S=this.defaults.showCloseButton,U=(this.setLayout(this.defaults.layout),N?"InPageAppender":"PopUpAppender"),E=(this.isNewestMessageAtTop=function(){return y},this.setNewestMessageAtTop=function(e){y=bool(e),r()&&d().setNewestAtTop(y)},this.isScrollToLatestMessage=function(){return b},this.setScrollToLatestMessage=function(e){b=bool(e),r()&&d().setScrollToLatest(b)},this.getWidth=function(){return l},this.setWidth=function(e){n("width")&&(l=extractStringFromParam(e,l))},this.getHeight=function(){return c},this.setHeight=function(e){n("height")&&(c=extractStringFromParam(e,c))},this.getMaxMessages=function(){return x},this.setMaxMessages=function(e){x=extractIntFromParam(e,x),r()&&d().setMaxMessages(x)},this.isShowCommandLine=function(){return w},this.setShowCommandLine=function(e){w=bool(e),r()&&d().setShowCommandLine(w)},this.isShowHideButton=function(){return j},this.setShowHideButton=function(e){j=bool(e),r()&&d().setShowHideButton(j)},this.isShowCloseButton=function(){return S},this.setShowCloseButton=function(e){S=bool(e),r()&&d().setShowCloseButton(S)},this.getCommandLineObjectExpansionDepth=function(){return C},this.setCommandLineObjectExpansionDepth=function(e){C=extractIntFromParam(e,C)},a);function z(e,t){this.loggingEvent=e,this.levelName=e.level.name,this.formattedMessage=t}function H(e,t){this.name=e,this.initiallyExpanded=t}function V(){}this.isInitiallyMinimized=function(){return a},this.setInitiallyMinimized=function(e){n("initiallyMinimized")&&(a=bool(e),E=a)},this.isUseDocumentWrite=function(){return u},this.setUseDocumentWrite=function(e){n("useDocumentWrite")&&(u=bool(e))},z.prototype.append=function(){d().log(this.levelName,this.formattedMessage)},H.prototype.append=function(){d().group(this.name,this.initiallyExpanded)},V.prototype.append=function(){d().groupEnd()};function $(){Q(),s?g&&k&&e():o(),Q()&&W()}this.append=function(e){var t;v&&(t=p.getLayout().formatWithException(e),m.push(new z(e,t)),$())},this.group=function(e,t){v&&(m.push(new H(e,t)),$())},this.groupEnd=function(){v&&(m.push(new V),$())};var T,A,K,O,L,F,D,k,I,W=function(){for(;0<m.length;)m.shift().append();_&&d().focus()},R=(this.setAddedToLogger=function(e){this.loggers.push(e),enabled&&!P&&o()},this.clear=function(){r()&&d().clearLog(),m.length=0},this.focus=function(){r()&&d().focus()},this.focusCommandLine=function(){r()&&d().focusCommandLine()},this.focusSearch=function(){r()&&d().focusSearch()},window),G=(this.getCommandWindow=function(){return R},this.setCommandWindow=function(e){R=e},this.executeLastCommand=function(){r()&&d().evalLastCommand()},new PatternLayout("%m")),M=(this.getCommandLayout=function(){return G},this.setCommandLayout=function(e){G=e},this.evalCommandAndAppend=function(e){var t={appendResult:!0,isError:!1},n="";try{!R.eval&&R.execScript&&R.execScript("null");var r,o={},i=0;for(len=M.length;i<len;i++)o[M[i][0]]=M[i][1];var s=[],a=function(e){s.push([e,R[e]])};a("appender"),R.appender=p,a("commandReturnValue"),R.commandReturnValue=t,a("commandLineFunctionsHash"),R.commandLineFunctionsHash=o;for(i=0,len=M.length;i<len;i++)(e=>{a(e),R[e]=function(){return this.commandLineFunctionsHash[e](p,arguments,t)}})(M[i][0]);for(n=isUndefined(r=R===window&&R.execScript?(a("evalExpr"),a("result"),window.evalExpr=e,R.execScript("window.result=eval(window.evalExpr);"),window.result):R.eval(e))?r:formatObjectExpansion(r,C),i=0,len=s.length;i<len;i++)R[s[i][0]]=s[i][1]}catch(e){n="Error evaluating command: "+getExceptionStringRep(e),t.isError=!0}t.appendResult&&(r=">>> "+e,isUndefined(n)||(r+=newLine+n),e=t.isError?Level.ERROR:Level.INFO,n=new LoggingEvent(null,new Date,e,[r],null),e=this.getLayout(),this.setLayout(G),this.append(n),this.setLayout(e))},ee.concat([])),q=(this.addCommandLineFunction=function(e,t){M.push([e,t])},"log4javascriptCommandHistory"),Y=(this.storeCommandHistory=function(e){setCookie(q,e.join(","))},function(e){var t=['<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">','<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">',"<head>","<title>log4javascript</title>",'<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />',"\x3c!-- Make IE8 behave like IE7, having gone to all the trouble of making IE work --\x3e",'<meta http-equiv="X-UA-Compatible" content="IE=7" />','<script type="text/javascript">var isIe = false, isIePre7 = false;<\/script>','\x3c!--[if IE]><script type="text/javascript">isIe = true<\/script><![endif]--\x3e','\x3c!--[if lt IE 7]><script type="text/javascript">isIePre7 = true<\/script><![endif]--\x3e','<script type="text/javascript">',"//<![CDATA[","var loggingEnabled=true;var logQueuedEventsTimer=null;var logEntries=[];var logEntriesAndSeparators=[];var logItems=[];var renderDelay=100;var unrenderedLogItemsExist=false;var rootGroup,currentGroup=null;var loaded=false;var currentLogItem=null;var logMainContainer;function copyProperties(obj,props){for(var i in props){obj[i]=props[i];}}","function LogItem(){}","LogItem.prototype={mainContainer:null,wrappedContainer:null,unwrappedContainer:null,group:null,appendToLog:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].appendToLog();}","this.group.update();},doRemove:function(doUpdate,removeFromGroup){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].remove();}","this.unwrappedElementContainer=null;this.wrappedElementContainer=null;this.mainElementContainer=null;}","if(this.group&&removeFromGroup){this.group.removeChild(this,doUpdate);}","if(this===currentLogItem){currentLogItem=null;}},remove:function(doUpdate,removeFromGroup){this.doRemove(doUpdate,removeFromGroup);},render:function(){},accept:function(visitor){visitor.visit(this);},getUnwrappedDomContainer:function(){return this.group.unwrappedElementContainer.contentDiv;},getWrappedDomContainer:function(){return this.group.wrappedElementContainer.contentDiv;},getMainDomContainer:function(){return this.group.mainElementContainer.contentDiv;}};LogItem.serializedItemKeys={LOG_ENTRY:0,GROUP_START:1,GROUP_END:2};function LogItemContainerElement(){}",'LogItemContainerElement.prototype={appendToLog:function(){var insertBeforeFirst=(newestAtTop&&this.containerDomNode.hasChildNodes());if(insertBeforeFirst){this.containerDomNode.insertBefore(this.mainDiv,this.containerDomNode.firstChild);}else{this.containerDomNode.appendChild(this.mainDiv);}}};function SeparatorElementContainer(containerDomNode){this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="separator";this.mainDiv.innerHTML="&nbsp;";}',"SeparatorElementContainer.prototype=new LogItemContainerElement();SeparatorElementContainer.prototype.remove=function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;};function Separator(){this.rendered=false;}","Separator.prototype=new LogItem();copyProperties(Separator.prototype,{render:function(){var containerDomNode=this.group.contentDiv;if(isIe){this.unwrappedElementContainer=new SeparatorElementContainer(this.getUnwrappedDomContainer());this.wrappedElementContainer=new SeparatorElementContainer(this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new SeparatorElementContainer(this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}",'this.content=this.formattedMessage;this.rendered=true;}});function GroupElementContainer(group,containerDomNode,isRoot,isWrapped){this.group=group;this.containerDomNode=containerDomNode;this.isRoot=isRoot;this.isWrapped=isWrapped;this.expandable=false;if(this.isRoot){if(isIe){this.contentDiv=logMainContainer.appendChild(document.createElement("div"));this.contentDiv.id=this.isWrapped?"log_wrapped":"log_unwrapped";}else{this.contentDiv=logMainContainer;}}else{var groupElementContainer=this;this.mainDiv=document.createElement("div");this.mainDiv.className="group";this.headingDiv=this.mainDiv.appendChild(document.createElement("div"));this.headingDiv.className="groupheading";this.expander=this.headingDiv.appendChild(document.createElement("span"));this.expander.className="expander unselectable greyedout";this.expander.unselectable=true;var expanderText=this.group.expanded?"-":"+";this.expanderTextNode=this.expander.appendChild(document.createTextNode(expanderText));this.headingDiv.appendChild(document.createTextNode(" "+this.group.name));this.contentDiv=this.mainDiv.appendChild(document.createElement("div"));var contentCssClass=this.group.expanded?"expanded":"collapsed";this.contentDiv.className="groupcontent "+contentCssClass;this.expander.onclick=function(){if(groupElementContainer.group.expandable){groupElementContainer.group.toggleExpanded();}};}}','GroupElementContainer.prototype=new LogItemContainerElement();copyProperties(GroupElementContainer.prototype,{toggleExpanded:function(){if(!this.isRoot){var oldCssClass,newCssClass,expanderText;if(this.group.expanded){newCssClass="expanded";oldCssClass="collapsed";expanderText="-";}else{newCssClass="collapsed";oldCssClass="expanded";expanderText="+";}',"replaceClass(this.contentDiv,newCssClass,oldCssClass);this.expanderTextNode.nodeValue=expanderText;}},remove:function(){if(!this.isRoot){this.headingDiv=null;this.expander.onclick=null;this.expander=null;this.expanderTextNode=null;this.contentDiv=null;this.containerDomNode=null;this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;}},reverseChildren:function(){var node=null;var childDomNodes=[];while((node=this.contentDiv.firstChild)){this.contentDiv.removeChild(node);childDomNodes.push(node);}",'while((node=childDomNodes.pop())){this.contentDiv.appendChild(node);}},update:function(){if(!this.isRoot){if(this.group.expandable){removeClass(this.expander,"greyedout");}else{addClass(this.expander,"greyedout");}}},clear:function(){if(this.isRoot){this.contentDiv.innerHTML="";}}});function Group(name,isRoot,initiallyExpanded){this.name=name;this.group=null;this.isRoot=isRoot;this.initiallyExpanded=initiallyExpanded;this.elementContainers=[];this.children=[];this.expanded=initiallyExpanded;this.rendered=false;this.expandable=false;}',"Group.prototype=new LogItem();copyProperties(Group.prototype,{addChild:function(logItem){this.children.push(logItem);logItem.group=this;},render:function(){if(isIe){var unwrappedDomContainer,wrappedDomContainer;if(this.isRoot){unwrappedDomContainer=logMainContainer;wrappedDomContainer=logMainContainer;}else{unwrappedDomContainer=this.getUnwrappedDomContainer();wrappedDomContainer=this.getWrappedDomContainer();}","this.unwrappedElementContainer=new GroupElementContainer(this,unwrappedDomContainer,this.isRoot,false);this.wrappedElementContainer=new GroupElementContainer(this,wrappedDomContainer,this.isRoot,true);this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{var mainDomContainer=this.isRoot?logMainContainer:this.getMainDomContainer();this.mainElementContainer=new GroupElementContainer(this,mainDomContainer,this.isRoot,false);this.elementContainers=[this.mainElementContainer];}","this.rendered=true;},toggleExpanded:function(){this.expanded=!this.expanded;for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].toggleExpanded();}},expand:function(){if(!this.expanded){this.toggleExpanded();}},accept:function(visitor){visitor.visitGroup(this);},reverseChildren:function(){if(this.rendered){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].reverseChildren();}}},update:function(){var previouslyExpandable=this.expandable;this.expandable=(this.children.length!==0);if(this.expandable!==previouslyExpandable){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].update();}}},flatten:function(){var visitor=new GroupFlattener();this.accept(visitor);return visitor.logEntriesAndSeparators;},removeChild:function(child,doUpdate){array_remove(this.children,child);child.group=null;if(doUpdate){this.update();}},remove:function(doUpdate,removeFromGroup){for(var i=0,len=this.children.length;i<len;i++){this.children[i].remove(false,false);}","this.children=[];this.update();if(this===currentGroup){currentGroup=this.group;}","this.doRemove(doUpdate,removeFromGroup);},serialize:function(items){items.push([LogItem.serializedItemKeys.GROUP_START,this.name]);for(var i=0,len=this.children.length;i<len;i++){this.children[i].serialize(items);}","if(this!==currentGroup){items.push([LogItem.serializedItemKeys.GROUP_END]);}},clear:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clear();}}});function LogEntryElementContainer(){}",'LogEntryElementContainer.prototype=new LogItemContainerElement();copyProperties(LogEntryElementContainer.prototype,{remove:function(){this.doRemove();},doRemove:function(){this.mainDiv.parentNode.removeChild(this.mainDiv);this.mainDiv=null;this.contentElement=null;this.containerDomNode=null;},setContent:function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=content;}},setSearchMatch:function(isMatch){var oldCssClass=isMatch?"searchnonmatch":"searchmatch";var newCssClass=isMatch?"searchmatch":"searchnonmatch";replaceClass(this.mainDiv,newCssClass,oldCssClass);},clearSearch:function(){removeClass(this.mainDiv,"searchmatch");removeClass(this.mainDiv,"searchnonmatch");}});function LogEntryWrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.mainDiv.className="logentry wrapped "+this.logEntry.level;this.contentElement=this.mainDiv;}','LogEntryWrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryWrappedElementContainer.prototype.setContent=function(content,wrappedContent){if(content===this.formattedMessage){this.contentElement.innerHTML="";this.contentElement.appendChild(document.createTextNode(this.formattedMessage));}else{this.contentElement.innerHTML=wrappedContent;}};function LogEntryUnwrappedElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry unwrapped "+this.logEntry.level;this.pre=this.mainDiv.appendChild(document.createElement("pre"));this.pre.appendChild(document.createTextNode(this.logEntry.formattedMessage));this.pre.className="unwrapped";this.contentElement=this.pre;}','LogEntryUnwrappedElementContainer.prototype=new LogEntryElementContainer();LogEntryUnwrappedElementContainer.prototype.remove=function(){this.doRemove();this.pre=null;};function LogEntryMainElementContainer(logEntry,containerDomNode){this.logEntry=logEntry;this.containerDomNode=containerDomNode;this.mainDiv=document.createElement("div");this.mainDiv.className="logentry nonielogentry "+this.logEntry.level;this.contentElement=this.mainDiv.appendChild(document.createElement("span"));this.contentElement.appendChild(document.createTextNode(this.logEntry.formattedMessage));}',"LogEntryMainElementContainer.prototype=new LogEntryElementContainer();function LogEntry(level,formattedMessage){this.level=level;this.formattedMessage=formattedMessage;this.rendered=false;}",'LogEntry.prototype=new LogItem();copyProperties(LogEntry.prototype,{render:function(){var logEntry=this;var containerDomNode=this.group.contentDiv;if(isIe){this.formattedMessage=this.formattedMessage.replace(/\\r\\n/g,"\\r");this.unwrappedElementContainer=new LogEntryUnwrappedElementContainer(this,this.getUnwrappedDomContainer());this.wrappedElementContainer=new LogEntryWrappedElementContainer(this,this.getWrappedDomContainer());this.elementContainers=[this.unwrappedElementContainer,this.wrappedElementContainer];}else{this.mainElementContainer=new LogEntryMainElementContainer(this,this.getMainDomContainer());this.elementContainers=[this.mainElementContainer];}','this.content=this.formattedMessage;this.rendered=true;},setContent:function(content,wrappedContent){if(content!=this.content){if(isIe&&(content!==this.formattedMessage)){content=content.replace(/\\r\\n/g,"\\r");}',"for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setContent(content,wrappedContent);}",'this.content=content;}},getSearchMatches:function(){var matches=[];var i,len;if(isIe){var unwrappedEls=getElementsByClass(this.unwrappedElementContainer.mainDiv,"searchterm","span");var wrappedEls=getElementsByClass(this.wrappedElementContainer.mainDiv,"searchterm","span");for(i=0,len=unwrappedEls.length;i<len;i++){matches[i]=new Match(this.level,null,unwrappedEls[i],wrappedEls[i]);}}else{var els=getElementsByClass(this.mainElementContainer.mainDiv,"searchterm","span");for(i=0,len=els.length;i<len;i++){matches[i]=new Match(this.level,els[i]);}}',"return matches;},setSearchMatch:function(isMatch){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].setSearchMatch(isMatch);}},clearSearch:function(){for(var i=0,len=this.elementContainers.length;i<len;i++){this.elementContainers[i].clearSearch();}},accept:function(visitor){visitor.visitLogEntry(this);},serialize:function(items){items.push([LogItem.serializedItemKeys.LOG_ENTRY,this.level,this.formattedMessage]);}});function LogItemVisitor(){}","LogItemVisitor.prototype={visit:function(logItem){},visitParent:function(logItem){if(logItem.group){logItem.group.accept(this);}},visitChildren:function(logItem){for(var i=0,len=logItem.children.length;i<len;i++){logItem.children[i].accept(this);}},visitLogEntry:function(logEntry){this.visit(logEntry);},visitSeparator:function(separator){this.visit(separator);},visitGroup:function(group){this.visit(group);}};function GroupFlattener(){this.logEntriesAndSeparators=[];}",'GroupFlattener.prototype=new LogItemVisitor();GroupFlattener.prototype.visitGroup=function(group){this.visitChildren(group);};GroupFlattener.prototype.visitLogEntry=function(logEntry){this.logEntriesAndSeparators.push(logEntry);};GroupFlattener.prototype.visitSeparator=function(separator){this.logEntriesAndSeparators.push(separator);};window.onload=function(){if(location.search){var queryBits=unescape(location.search).substr(1).split("&"),nameValueBits;for(var i=0,len=queryBits.length;i<len;i++){nameValueBits=queryBits[i].split("=");if(nameValueBits[0]=="log4javascript_domain"){document.domain=nameValueBits[1];break;}}}','logMainContainer=$("log");if(isIePre7){addClass(logMainContainer,"oldIe");}','rootGroup=new Group("root",true);rootGroup.render();currentGroup=rootGroup;setCommandInputWidth();setLogContainerHeight();toggleLoggingEnabled();toggleSearchEnabled();toggleSearchFilter();toggleSearchHighlight();applyFilters();checkAllLevels();toggleWrap();toggleNewestAtTop();toggleScrollToLatest();renderQueuedLogItems();loaded=true;$("command").value="";$("command").autocomplete="off";$("command").onkeydown=function(evt){evt=getEvent(evt);if(evt.keyCode==10||evt.keyCode==13){evalCommandLine();stopPropagation(evt);}else if(evt.keyCode==27){this.value="";this.focus();}else if(evt.keyCode==38&&commandHistory.length>0){currentCommandIndex=Math.max(0,currentCommandIndex-1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}else if(evt.keyCode==40&&commandHistory.length>0){currentCommandIndex=Math.min(commandHistory.length-1,currentCommandIndex+1);this.value=commandHistory[currentCommandIndex];moveCaretToEnd(this);}};$("command").onkeypress=function(evt){evt=getEvent(evt);if(evt.keyCode==38&&commandHistory.length>0&&evt.preventDefault){evt.preventDefault();}};$("command").onkeyup=function(evt){evt=getEvent(evt);if(evt.keyCode==27&&evt.preventDefault){evt.preventDefault();this.focus();}};document.onkeydown=function keyEventHandler(evt){evt=getEvent(evt);switch(evt.keyCode){case 69:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){evalLastCommand();cancelKeyEvent(evt);return false;}',"break;case 75:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusSearch();cancelKeyEvent(evt);return false;}","break;case 40:case 76:if(evt.shiftKey&&(evt.ctrlKey||evt.metaKey)){focusCommandLine();cancelKeyEvent(evt);return false;}","break;}};setTimeout(setLogContainerHeight,20);setShowCommandLine(showCommandLine);doSearch();};window.onunload=function(){if(mainWindowExists()){appender.unload();}",'appender=null;};function toggleLoggingEnabled(){setLoggingEnabled($("enableLogging").checked);}',"function setLoggingEnabled(enable){loggingEnabled=enable;}","var appender=null;function setAppender(appenderParam){appender=appenderParam;}",'function setShowCloseButton(showCloseButton){$("closeButton").style.display=showCloseButton?"inline":"none";}','function setShowHideButton(showHideButton){$("hideButton").style.display=showHideButton?"inline":"none";}',"var newestAtTop=false;function LogItemContentReverser(){}","LogItemContentReverser.prototype=new LogItemVisitor();LogItemContentReverser.prototype.visitGroup=function(group){group.reverseChildren();this.visitChildren(group);};function setNewestAtTop(isNewestAtTop){var oldNewestAtTop=newestAtTop;var i,iLen,j,jLen;newestAtTop=Boolean(isNewestAtTop);if(oldNewestAtTop!=newestAtTop){var visitor=new LogItemContentReverser();rootGroup.accept(visitor);if(currentSearch){var currentMatch=currentSearch.matches[currentMatchIndex];var matchIndex=0;var matches=[];var actOnLogEntry=function(logEntry){var logEntryMatches=logEntry.getSearchMatches();for(j=0,jLen=logEntryMatches.length;j<jLen;j++){matches[matchIndex]=logEntryMatches[j];if(currentMatch&&logEntryMatches[j].equals(currentMatch)){currentMatchIndex=matchIndex;}","matchIndex++;}};if(newestAtTop){for(i=logEntries.length-1;i>=0;i--){actOnLogEntry(logEntries[i]);}}else{for(i=0,iLen=logEntries.length;i<iLen;i++){actOnLogEntry(logEntries[i]);}}","currentSearch.matches=matches;if(currentMatch){currentMatch.setCurrent();}}else if(scrollToLatest){doScrollToLatest();}}",'$("newestAtTop").checked=isNewestAtTop;}','function toggleNewestAtTop(){var isNewestAtTop=$("newestAtTop").checked;setNewestAtTop(isNewestAtTop);}',"var scrollToLatest=true;function setScrollToLatest(isScrollToLatest){scrollToLatest=isScrollToLatest;if(scrollToLatest){doScrollToLatest();}",'$("scrollToLatest").checked=isScrollToLatest;}','function toggleScrollToLatest(){var isScrollToLatest=$("scrollToLatest").checked;setScrollToLatest(isScrollToLatest);}','function doScrollToLatest(){var l=logMainContainer;if(typeof l.scrollTop!="undefined"){if(newestAtTop){l.scrollTop=0;}else{var latestLogEntry=l.lastChild;if(latestLogEntry){l.scrollTop=l.scrollHeight;}}}}',"var closeIfOpenerCloses=true;function setCloseIfOpenerCloses(isCloseIfOpenerCloses){closeIfOpenerCloses=isCloseIfOpenerCloses;}","var maxMessages=null;function setMaxMessages(max){maxMessages=max;pruneLogEntries();}",'var showCommandLine=false;function setShowCommandLine(isShowCommandLine){showCommandLine=isShowCommandLine;if(loaded){$("commandLine").style.display=showCommandLine?"block":"none";setCommandInputWidth();setLogContainerHeight();}}','function focusCommandLine(){if(loaded){$("command").focus();}}','function focusSearch(){if(loaded){$("searchBox").focus();}}',"function getLogItems(){var items=[];for(var i=0,len=logItems.length;i<len;i++){logItems[i].serialize(items);}","return items;}","function setLogItems(items){var loggingReallyEnabled=loggingEnabled;loggingEnabled=true;for(var i=0,len=items.length;i<len;i++){switch(items[i][0]){case LogItem.serializedItemKeys.LOG_ENTRY:log(items[i][1],items[i][2]);break;case LogItem.serializedItemKeys.GROUP_START:group(items[i][1]);break;case LogItem.serializedItemKeys.GROUP_END:groupEnd();break;}}","loggingEnabled=loggingReallyEnabled;}","function log(logLevel,formattedMessage){if(loggingEnabled){var logEntry=new LogEntry(logLevel,formattedMessage);logEntries.push(logEntry);logEntriesAndSeparators.push(logEntry);logItems.push(logEntry);currentGroup.addChild(logEntry);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}","logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function renderQueuedLogItems(){logQueuedEventsTimer=null;var pruned=pruneLogEntries();var initiallyHasMatches=currentSearch?currentSearch.hasMatches():false;for(var i=0,len=logItems.length;i<len;i++){if(!logItems[i].rendered){logItems[i].render();logItems[i].appendToLog();if(currentSearch&&(logItems[i]instanceof LogEntry)){currentSearch.applyTo(logItems[i]);}}}","if(currentSearch){if(pruned){if(currentSearch.hasVisibleMatches()){if(currentMatchIndex===null){setCurrentMatchIndex(0);}","displayMatches();}else{displayNoMatches();}}else if(!initiallyHasMatches&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}}","if(scrollToLatest){doScrollToLatest();}","unrenderedLogItemsExist=false;}","function pruneLogEntries(){if((maxMessages!==null)&&(logEntriesAndSeparators.length>maxMessages)){var numberToDelete=logEntriesAndSeparators.length-maxMessages;var prunedLogEntries=logEntriesAndSeparators.slice(0,numberToDelete);if(currentSearch){currentSearch.removeMatches(prunedLogEntries);}","var group;for(var i=0;i<numberToDelete;i++){group=logEntriesAndSeparators[i].group;array_remove(logItems,logEntriesAndSeparators[i]);array_remove(logEntries,logEntriesAndSeparators[i]);logEntriesAndSeparators[i].remove(true,true);if(group.children.length===0&&group!==currentGroup&&group!==rootGroup){array_remove(logItems,group);group.remove(true,true);}}","logEntriesAndSeparators=array_removeFromStart(logEntriesAndSeparators,numberToDelete);return true;}","return false;}",'function group(name,startExpanded){if(loggingEnabled){initiallyExpanded=(typeof startExpanded==="undefined")?true:Boolean(startExpanded);var newGroup=new Group(name,false,initiallyExpanded);currentGroup.addChild(newGroup);currentGroup=newGroup;logItems.push(newGroup);if(loaded){if(logQueuedEventsTimer!==null){clearTimeout(logQueuedEventsTimer);}',"logQueuedEventsTimer=setTimeout(renderQueuedLogItems,renderDelay);unrenderedLogItemsExist=true;}}}","function groupEnd(){currentGroup=(currentGroup===rootGroup)?rootGroup:currentGroup.group;}","function mainPageReloaded(){currentGroup=rootGroup;var separator=new Separator();logEntriesAndSeparators.push(separator);logItems.push(separator);currentGroup.addChild(separator);}","function closeWindow(){if(appender&&mainWindowExists()){appender.close(true);}else{window.close();}}","function hide(){if(appender&&mainWindowExists()){appender.hide();}}",'var mainWindow=window;var windowId="log4javascriptConsoleWindow_"+new Date().getTime()+"_"+(""+Math.random()).substr(2);function setMainWindow(win){mainWindow=win;mainWindow[windowId]=window;if(opener&&closeIfOpenerCloses){pollOpener();}}',"function pollOpener(){if(closeIfOpenerCloses){if(mainWindowExists()){setTimeout(pollOpener,500);}else{closeWindow();}}}","function mainWindowExists(){try{return(mainWindow&&!mainWindow.closed&&mainWindow[windowId]==window);}catch(ex){}","return false;}",'var logLevels=["TRACE","DEBUG","INFO","WARN","ERROR","FATAL"];function getCheckBox(logLevel){return $("switch_"+logLevel);}','function getIeWrappedLogContainer(){return $("log_wrapped");}','function getIeUnwrappedLogContainer(){return $("log_unwrapped");}',"function applyFilters(){for(var i=0;i<logLevels.length;i++){if(getCheckBox(logLevels[i]).checked){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}","updateSearchFromFilters();}",'function toggleAllLevels(){var turnOn=$("switch_ALL").checked;for(var i=0;i<logLevels.length;i++){getCheckBox(logLevels[i]).checked=turnOn;if(turnOn){addClass(logMainContainer,logLevels[i]);}else{removeClass(logMainContainer,logLevels[i]);}}}','function checkAllLevels(){for(var i=0;i<logLevels.length;i++){if(!getCheckBox(logLevels[i]).checked){getCheckBox("ALL").checked=false;return;}}','getCheckBox("ALL").checked=true;}',"function clearLog(){rootGroup.clear();currentGroup=rootGroup;logEntries=[];logItems=[];logEntriesAndSeparators=[];doSearch();}",'function toggleWrap(){var enable=$("wrap").checked;if(enable){addClass(logMainContainer,"wrap");}else{removeClass(logMainContainer,"wrap");}',"refreshCurrentMatch();}","var searchTimer=null;function scheduleSearch(){try{clearTimeout(searchTimer);}catch(ex){}","searchTimer=setTimeout(doSearch,500);}","function Search(searchTerm,isRegex,searchRegex,isCaseSensitive){this.searchTerm=searchTerm;this.isRegex=isRegex;this.searchRegex=searchRegex;this.isCaseSensitive=isCaseSensitive;this.matches=[];}","Search.prototype={hasMatches:function(){return this.matches.length>0;},hasVisibleMatches:function(){if(this.hasMatches()){for(var i=0;i<this.matches.length;i++){if(this.matches[i].isVisible()){return true;}}}","return false;},match:function(logEntry){var entryText=String(logEntry.formattedMessage);var matchesSearch=false;if(this.isRegex){matchesSearch=this.searchRegex.test(entryText);}else if(this.isCaseSensitive){matchesSearch=(entryText.indexOf(this.searchTerm)>-1);}else{matchesSearch=(entryText.toLowerCase().indexOf(this.searchTerm.toLowerCase())>-1);}","return matchesSearch;},getNextVisibleMatchIndex:function(){for(var i=currentMatchIndex+1;i<this.matches.length;i++){if(this.matches[i].isVisible()){return i;}}","for(i=0;i<=currentMatchIndex;i++){if(this.matches[i].isVisible()){return i;}}","return-1;},getPreviousVisibleMatchIndex:function(){for(var i=currentMatchIndex-1;i>=0;i--){if(this.matches[i].isVisible()){return i;}}","for(var i=this.matches.length-1;i>=currentMatchIndex;i--){if(this.matches[i].isVisible()){return i;}}",'return-1;},applyTo:function(logEntry){var doesMatch=this.match(logEntry);if(doesMatch){logEntry.group.expand();logEntry.setSearchMatch(true);var logEntryContent;var wrappedLogEntryContent;var searchTermReplacementStartTag="<span class=\\"searchterm\\">";var searchTermReplacementEndTag="<"+"/span>";var preTagName=isIe?"pre":"span";var preStartTag="<"+preTagName+" class=\\"pre\\">";var preEndTag="<"+"/"+preTagName+">";var startIndex=0;var searchIndex,matchedText,textBeforeMatch;if(this.isRegex){var flags=this.isCaseSensitive?"g":"gi";var capturingRegex=new RegExp("("+this.searchRegex.source+")",flags);var rnd=(""+Math.random()).substr(2);var startToken="%%s"+rnd+"%%";var endToken="%%e"+rnd+"%%";logEntryContent=logEntry.formattedMessage.replace(capturingRegex,startToken+"$1"+endToken);logEntryContent=escapeHtml(logEntryContent);var result;var searchString=logEntryContent;logEntryContent="";wrappedLogEntryContent="";while((searchIndex=searchString.indexOf(startToken,startIndex))>-1){var endTokenIndex=searchString.indexOf(endToken,searchIndex);matchedText=searchString.substring(searchIndex+startToken.length,endTokenIndex);textBeforeMatch=searchString.substring(startIndex,searchIndex);logEntryContent+=preStartTag+textBeforeMatch+preEndTag;logEntryContent+=searchTermReplacementStartTag+preStartTag+matchedText+',"preEndTag+searchTermReplacementEndTag;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=endTokenIndex+endToken.length;}",'logEntryContent+=preStartTag+searchString.substr(startIndex)+preEndTag;if(isIe){wrappedLogEntryContent+=searchString.substr(startIndex);}}else{logEntryContent="";wrappedLogEntryContent="";var searchTermReplacementLength=searchTermReplacementStartTag.length+',"this.searchTerm.length+searchTermReplacementEndTag.length;var searchTermLength=this.searchTerm.length;var searchTermLowerCase=this.searchTerm.toLowerCase();var logTextLowerCase=logEntry.formattedMessage.toLowerCase();while((searchIndex=logTextLowerCase.indexOf(searchTermLowerCase,startIndex))>-1){matchedText=escapeHtml(logEntry.formattedMessage.substr(searchIndex,this.searchTerm.length));textBeforeMatch=escapeHtml(logEntry.formattedMessage.substring(startIndex,searchIndex));var searchTermReplacement=searchTermReplacementStartTag+","preStartTag+matchedText+preEndTag+searchTermReplacementEndTag;logEntryContent+=preStartTag+textBeforeMatch+preEndTag+searchTermReplacement;if(isIe){wrappedLogEntryContent+=textBeforeMatch+searchTermReplacementStartTag+","matchedText+searchTermReplacementEndTag;}","startIndex=searchIndex+searchTermLength;}","var textAfterLastMatch=escapeHtml(logEntry.formattedMessage.substr(startIndex));logEntryContent+=preStartTag+textAfterLastMatch+preEndTag;if(isIe){wrappedLogEntryContent+=textAfterLastMatch;}}","logEntry.setContent(logEntryContent,wrappedLogEntryContent);var logEntryMatches=logEntry.getSearchMatches();this.matches=this.matches.concat(logEntryMatches);}else{logEntry.setSearchMatch(false);logEntry.setContent(logEntry.formattedMessage,logEntry.formattedMessage);}","return doesMatch;},removeMatches:function(logEntries){var matchesToRemoveCount=0;var currentMatchRemoved=false;var matchesToRemove=[];var i,iLen,j,jLen;for(i=0,iLen=this.matches.length;i<iLen;i++){for(j=0,jLen=logEntries.length;j<jLen;j++){if(this.matches[i].belongsTo(logEntries[j])){matchesToRemove.push(this.matches[i]);if(i===currentMatchIndex){currentMatchRemoved=true;}}}}","var newMatch=currentMatchRemoved?null:this.matches[currentMatchIndex];if(currentMatchRemoved){for(i=currentMatchIndex,iLen=this.matches.length;i<iLen;i++){if(this.matches[i].isVisible()&&!array_contains(matchesToRemove,this.matches[i])){newMatch=this.matches[i];break;}}}","for(i=0,iLen=matchesToRemove.length;i<iLen;i++){array_remove(this.matches,matchesToRemove[i]);matchesToRemove[i].remove();}","if(this.hasVisibleMatches()){if(newMatch===null){setCurrentMatchIndex(0);}else{var newMatchIndex=0;for(i=0,iLen=this.matches.length;i<iLen;i++){if(newMatch===this.matches[i]){newMatchIndex=i;break;}}","setCurrentMatchIndex(newMatchIndex);}}else{currentMatchIndex=null;displayNoMatches();}}};function getPageOffsetTop(el,container){var currentEl=el;var y=0;while(currentEl&&currentEl!=container){y+=currentEl.offsetTop;currentEl=currentEl.offsetParent;}","return y;}",'function scrollIntoView(el){var logContainer=logMainContainer;if(!$("wrap").checked){var logContainerLeft=logContainer.scrollLeft;var logContainerRight=logContainerLeft+logContainer.offsetWidth;var elLeft=el.offsetLeft;var elRight=elLeft+el.offsetWidth;if(elLeft<logContainerLeft||elRight>logContainerRight){logContainer.scrollLeft=elLeft-(logContainer.offsetWidth-el.offsetWidth)/2;}}',"var logContainerTop=logContainer.scrollTop;var logContainerBottom=logContainerTop+logContainer.offsetHeight;var elTop=getPageOffsetTop(el)-getToolBarsHeight();var elBottom=elTop+el.offsetHeight;if(elTop<logContainerTop||elBottom>logContainerBottom){logContainer.scrollTop=elTop-(logContainer.offsetHeight-el.offsetHeight)/2;}}","function Match(logEntryLevel,spanInMainDiv,spanInUnwrappedPre,spanInWrappedDiv){this.logEntryLevel=logEntryLevel;this.spanInMainDiv=spanInMainDiv;if(isIe){this.spanInUnwrappedPre=spanInUnwrappedPre;this.spanInWrappedDiv=spanInWrappedDiv;}","this.mainSpan=isIe?spanInUnwrappedPre:spanInMainDiv;}",'Match.prototype={equals:function(match){return this.mainSpan===match.mainSpan;},setCurrent:function(){if(isIe){addClass(this.spanInUnwrappedPre,"currentmatch");addClass(this.spanInWrappedDiv,"currentmatch");var elementToScroll=$("wrap").checked?this.spanInWrappedDiv:this.spanInUnwrappedPre;scrollIntoView(elementToScroll);}else{addClass(this.spanInMainDiv,"currentmatch");scrollIntoView(this.spanInMainDiv);}},belongsTo:function(logEntry){if(isIe){return isDescendant(this.spanInUnwrappedPre,logEntry.unwrappedPre);}else{return isDescendant(this.spanInMainDiv,logEntry.mainDiv);}},setNotCurrent:function(){if(isIe){removeClass(this.spanInUnwrappedPre,"currentmatch");removeClass(this.spanInWrappedDiv,"currentmatch");}else{removeClass(this.spanInMainDiv,"currentmatch");}},isOrphan:function(){return isOrphan(this.mainSpan);},isVisible:function(){return getCheckBox(this.logEntryLevel).checked;},remove:function(){if(isIe){this.spanInUnwrappedPre=null;this.spanInWrappedDiv=null;}else{this.spanInMainDiv=null;}}};var currentSearch=null;var currentMatchIndex=null;function doSearch(){var searchBox=$("searchBox");var searchTerm=searchBox.value;var isRegex=$("searchRegex").checked;var isCaseSensitive=$("searchCaseSensitive").checked;var i;if(searchTerm===""){$("searchReset").disabled=true;$("searchNav").style.display="none";removeClass(document.body,"searching");removeClass(searchBox,"hasmatches");removeClass(searchBox,"nomatches");for(i=0;i<logEntries.length;i++){logEntries[i].clearSearch();logEntries[i].setContent(logEntries[i].formattedMessage,logEntries[i].formattedMessage);}','currentSearch=null;setLogContainerHeight();}else{$("searchReset").disabled=false;$("searchNav").style.display="block";var searchRegex;var regexValid;if(isRegex){try{searchRegex=isCaseSensitive?new RegExp(searchTerm,"g"):new RegExp(searchTerm,"gi");regexValid=true;replaceClass(searchBox,"validregex","invalidregex");searchBox.title="Valid regex";}catch(ex){regexValid=false;replaceClass(searchBox,"invalidregex","validregex");searchBox.title="Invalid regex: "+(ex.message?ex.message:(ex.description?ex.description:"unknown error"));return;}}else{searchBox.title="";removeClass(searchBox,"validregex");removeClass(searchBox,"invalidregex");}','addClass(document.body,"searching");currentSearch=new Search(searchTerm,isRegex,searchRegex,isCaseSensitive);for(i=0;i<logEntries.length;i++){currentSearch.applyTo(logEntries[i]);}',"setLogContainerHeight();if(currentSearch.hasVisibleMatches()){setCurrentMatchIndex(0);displayMatches();}else{displayNoMatches();}}}","function updateSearchFromFilters(){if(currentSearch){if(currentSearch.hasMatches()){if(currentMatchIndex===null){currentMatchIndex=0;}","var currentMatch=currentSearch.matches[currentMatchIndex];if(currentMatch.isVisible()){displayMatches();setCurrentMatchIndex(currentMatchIndex);}else{currentMatch.setNotCurrent();var nextVisibleMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextVisibleMatchIndex>-1){setCurrentMatchIndex(nextVisibleMatchIndex);displayMatches();}else{displayNoMatches();}}}else{displayNoMatches();}}}","function refreshCurrentMatch(){if(currentSearch&&currentSearch.hasVisibleMatches()){setCurrentMatchIndex(currentMatchIndex);}}",'function displayMatches(){replaceClass($("searchBox"),"hasmatches","nomatches");$("searchBox").title=""+currentSearch.matches.length+" matches found";$("searchNav").style.display="block";setLogContainerHeight();}','function displayNoMatches(){replaceClass($("searchBox"),"nomatches","hasmatches");$("searchBox").title="No matches found";$("searchNav").style.display="none";setLogContainerHeight();}','function toggleSearchEnabled(enable){enable=(typeof enable=="undefined")?!$("searchDisable").checked:enable;$("searchBox").disabled=!enable;$("searchReset").disabled=!enable;$("searchRegex").disabled=!enable;$("searchNext").disabled=!enable;$("searchPrevious").disabled=!enable;$("searchCaseSensitive").disabled=!enable;$("searchNav").style.display=(enable&&($("searchBox").value!=="")&&currentSearch&&currentSearch.hasVisibleMatches())?"block":"none";if(enable){removeClass($("search"),"greyedout");addClass(document.body,"searching");if($("searchHighlight").checked){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}','if($("searchFilter").checked){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}','$("searchDisable").checked=!enable;}else{addClass($("search"),"greyedout");removeClass(document.body,"searching");removeClass(logMainContainer,"searchhighlight");removeClass(logMainContainer,"searchfilter");}',"setLogContainerHeight();}",'function toggleSearchFilter(){var enable=$("searchFilter").checked;if(enable){addClass(logMainContainer,"searchfilter");}else{removeClass(logMainContainer,"searchfilter");}',"refreshCurrentMatch();}",'function toggleSearchHighlight(){var enable=$("searchHighlight").checked;if(enable){addClass(logMainContainer,"searchhighlight");}else{removeClass(logMainContainer,"searchhighlight");}}','function clearSearch(){$("searchBox").value="";doSearch();}','function searchNext(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var nextMatchIndex=currentSearch.getNextVisibleMatchIndex();if(nextMatchIndex>currentMatchIndex||confirm("Reached the end of the page. Start from the top?")){setCurrentMatchIndex(nextMatchIndex);}}}','function searchPrevious(){if(currentSearch!==null&&currentMatchIndex!==null){currentSearch.matches[currentMatchIndex].setNotCurrent();var previousMatchIndex=currentSearch.getPreviousVisibleMatchIndex();if(previousMatchIndex<currentMatchIndex||confirm("Reached the start of the page. Continue from the bottom?")){setCurrentMatchIndex(previousMatchIndex);}}}',"function setCurrentMatchIndex(index){currentMatchIndex=index;currentSearch.matches[currentMatchIndex].setCurrent();}",'function addClass(el,cssClass){if(!hasClass(el,cssClass)){if(el.className){el.className+=" "+cssClass;}else{el.className=cssClass;}}}','function hasClass(el,cssClass){if(el.className){var classNames=el.className.split(" ");return array_contains(classNames,cssClass);}',"return false;}",'function removeClass(el,cssClass){if(hasClass(el,cssClass)){var existingClasses=el.className.split(" ");var newClasses=[];for(var i=0,len=existingClasses.length;i<len;i++){if(existingClasses[i]!=cssClass){newClasses[newClasses.length]=existingClasses[i];}}','el.className=newClasses.join(" ");}}',"function replaceClass(el,newCssClass,oldCssClass){removeClass(el,oldCssClass);addClass(el,newCssClass);}","function getElementsByClass(el,cssClass,tagName){var elements=el.getElementsByTagName(tagName);var matches=[];for(var i=0,len=elements.length;i<len;i++){if(hasClass(elements[i],cssClass)){matches.push(elements[i]);}}","return matches;}","function $(id){return document.getElementById(id);}","function isDescendant(node,ancestorNode){while(node!=null){if(node===ancestorNode){return true;}","node=node.parentNode;}","return false;}","function isOrphan(node){var currentNode=node;while(currentNode){if(currentNode==document.body){return false;}","currentNode=currentNode.parentNode;}","return true;}",'function escapeHtml(str){return str.replace(/&/g,"&amp;").replace(/[<]/g,"&lt;").replace(/>/g,"&gt;");}',"function getWindowWidth(){if(window.innerWidth){return window.innerWidth;}else if(document.documentElement&&document.documentElement.clientWidth){return document.documentElement.clientWidth;}else if(document.body){return document.body.clientWidth;}","return 0;}","function getWindowHeight(){if(window.innerHeight){return window.innerHeight;}else if(document.documentElement&&document.documentElement.clientHeight){return document.documentElement.clientHeight;}else if(document.body){return document.body.clientHeight;}","return 0;}",'function getToolBarsHeight(){return $("switches").offsetHeight;}','function getChromeHeight(){var height=getToolBarsHeight();if(showCommandLine){height+=$("commandLine").offsetHeight;}',"return height;}",'function setLogContainerHeight(){if(logMainContainer){var windowHeight=getWindowHeight();$("body").style.height=getWindowHeight()+"px";logMainContainer.style.height=""+','Math.max(0,windowHeight-getChromeHeight())+"px";}}','function setCommandInputWidth(){if(showCommandLine){$("command").style.width=""+Math.max(0,$("commandLineContainer").offsetWidth-','($("evaluateButton").offsetWidth+13))+"px";}}',"window.onresize=function(){setCommandInputWidth();setLogContainerHeight();};if(!Array.prototype.push){Array.prototype.push=function(){for(var i=0,len=arguments.length;i<len;i++){this[this.length]=arguments[i];}","return this.length;};}","if(!Array.prototype.pop){Array.prototype.pop=function(){if(this.length>0){var val=this[this.length-1];this.length=this.length-1;return val;}};}","if(!Array.prototype.shift){Array.prototype.shift=function(){if(this.length>0){var firstItem=this[0];for(var i=0,len=this.length-1;i<len;i++){this[i]=this[i+1];}","this.length=this.length-1;return firstItem;}};}","if(!Array.prototype.splice){Array.prototype.splice=function(startIndex,deleteCount){var itemsAfterDeleted=this.slice(startIndex+deleteCount);var itemsDeleted=this.slice(startIndex,startIndex+deleteCount);this.length=startIndex;var argumentsArray=[];for(var i=0,len=arguments.length;i<len;i++){argumentsArray[i]=arguments[i];}","var itemsToAppend=(argumentsArray.length>2)?itemsAfterDeleted=argumentsArray.slice(2).concat(itemsAfterDeleted):itemsAfterDeleted;for(i=0,len=itemsToAppend.length;i<len;i++){this.push(itemsToAppend[i]);}","return itemsDeleted;};}","function array_remove(arr,val){var index=-1;for(var i=0,len=arr.length;i<len;i++){if(arr[i]===val){index=i;break;}}","if(index>=0){arr.splice(index,1);return index;}else{return false;}}","function array_removeFromStart(array,numberToRemove){if(Array.prototype.splice){array.splice(0,numberToRemove);}else{for(var i=numberToRemove,len=array.length;i<len;i++){array[i-numberToRemove]=array[i];}","array.length=array.length-numberToRemove;}","return array;}","function array_contains(arr,val){for(var i=0,len=arr.length;i<len;i++){if(arr[i]==val){return true;}}","return false;}","function getErrorMessage(ex){if(ex.message){return ex.message;}else if(ex.description){return ex.description;}",'return""+ex;}',"function moveCaretToEnd(input){if(input.setSelectionRange){input.focus();var length=input.value.length;input.setSelectionRange(length,length);}else if(input.createTextRange){var range=input.createTextRange();range.collapse(false);range.select();}","input.focus();}",'function stopPropagation(evt){if(evt.stopPropagation){evt.stopPropagation();}else if(typeof evt.cancelBubble!="undefined"){evt.cancelBubble=true;}}',"function getEvent(evt){return evt?evt:event;}","function getTarget(evt){return evt.target?evt.target:evt.srcElement;}",'function getRelatedTarget(evt){if(evt.relatedTarget){return evt.relatedTarget;}else if(evt.srcElement){switch(evt.type){case"mouseover":return evt.fromElement;case"mouseout":return evt.toElement;default:return evt.srcElement;}}}',"function cancelKeyEvent(evt){evt.returnValue=false;stopPropagation(evt);}",'function evalCommandLine(){var expr=$("command").value;evalCommand(expr);$("command").value="";}',"function evalLastCommand(){if(lastCommand!=null){evalCommand(lastCommand);}}",'var lastCommand=null;var commandHistory=[];var currentCommandIndex=0;function evalCommand(expr){if(appender){appender.evalCommandAndAppend(expr);}else{var prefix=">>> "+expr+"\\r\\n";try{log("INFO",prefix+eval(expr));}catch(ex){log("ERROR",prefix+"Error: "+getErrorMessage(ex));}}',"if(expr!=commandHistory[commandHistory.length-1]){commandHistory.push(expr);if(appender){appender.storeCommandHistory(commandHistory);}}","currentCommandIndex=(expr==commandHistory[currentCommandIndex])?currentCommandIndex+1:commandHistory.length;lastCommand=expr;}","//]]>","<\/script>",'<style type="text/css">',"body{background-color:white;color:black;padding:0;margin:0;font-family:tahoma,verdana,arial,helvetica,sans-serif;overflow:hidden}div#switchesContainer input{margin-bottom:0}div.toolbar{border-top:solid #ffffff 1px;border-bottom:solid #aca899 1px;background-color:#f1efe7;padding:3px 5px;font-size:68.75%}div.toolbar,div#search input{font-family:tahoma,verdana,arial,helvetica,sans-serif}div.toolbar input.button{padding:0 5px;font-size:100%}div.toolbar input.hidden{display:none}div#switches input#clearButton{margin-left:20px}div#levels label{font-weight:bold}div#levels label,div#options label{margin-right:5px}div#levels label#wrapLabel{font-weight:normal}div#search label{margin-right:10px}div#search label.searchboxlabel{margin-right:0}div#search input{font-size:100%}div#search input.validregex{color:green}div#search input.invalidregex{color:red}div#search input.nomatches{color:white;background-color:#ff6666}div#search input.nomatches{color:white;background-color:#ff6666}div#searchNav{display:none}div#commandLine{display:none}div#commandLine input#command{font-size:100%;font-family:Courier New,Courier}div#commandLine input#evaluateButton{}*.greyedout{color:gray !important;border-color:gray !important}*.greyedout *.alwaysenabled{color:black}*.unselectable{-khtml-user-select:none;-moz-user-select:none;user-select:none}div#log{font-family:Courier New,Courier;font-size:75%;width:100%;overflow:auto;clear:both;position:relative}div.group{border-color:#cccccc;border-style:solid;border-width:1px 0 1px 1px;overflow:visible}div.oldIe div.group,div.oldIe div.group *,div.oldIe *.logentry{height:1%}div.group div.groupheading span.expander{border:solid black 1px;font-family:Courier New,Courier;font-size:0.833em;background-color:#eeeeee;position:relative;top:-1px;color:black;padding:0 2px;cursor:pointer;cursor:hand;height:1%}div.group div.groupcontent{margin-left:10px;padding-bottom:2px;overflow:visible}div.group div.expanded{display:block}div.group div.collapsed{display:none}*.logentry{overflow:visible;display:none;white-space:pre}span.pre{white-space:pre}pre.unwrapped{display:inline !important}pre.unwrapped pre.pre,div.wrapped pre.pre{display:inline}div.wrapped pre.pre{white-space:normal}div.wrapped{display:none}body.searching *.logentry span.currentmatch{color:white !important;background-color:green !important}body.searching div.searchhighlight *.logentry span.searchterm{color:black;background-color:yellow}div.wrap *.logentry{white-space:normal !important;border-width:0 0 1px 0;border-color:#dddddd;border-style:dotted}div.wrap #log_wrapped,#log_unwrapped{display:block}div.wrap #log_unwrapped,#log_wrapped{display:none}div.wrap *.logentry span.pre{overflow:visible;white-space:normal}div.wrap *.logentry pre.unwrapped{display:none}div.wrap *.logentry span.wrapped{display:inline}div.searchfilter *.searchnonmatch{display:none !important}div#log *.TRACE,label#label_TRACE{color:#666666}div#log *.DEBUG,label#label_DEBUG{color:green}div#log *.INFO,label#label_INFO{color:#000099}div#log *.WARN,label#label_WARN{color:#999900}div#log *.ERROR,label#label_ERROR{color:red}div#log *.FATAL,label#label_FATAL{color:#660066}div.TRACE#log *.TRACE,div.DEBUG#log *.DEBUG,div.INFO#log *.INFO,div.WARN#log *.WARN,div.ERROR#log *.ERROR,div.FATAL#log *.FATAL{display:block}div#log div.separator{background-color:#cccccc;margin:5px 0;line-height:1px}","</style>","</head>",'<body id="body">','<div id="switchesContainer">','<div id="switches">','<div id="levels" class="toolbar">',"Filters:",'<input type="checkbox" id="switch_TRACE" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide trace messages" /><label for="switch_TRACE" id="label_TRACE">trace</label>','<input type="checkbox" id="switch_DEBUG" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide debug messages" /><label for="switch_DEBUG" id="label_DEBUG">debug</label>','<input type="checkbox" id="switch_INFO" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide info messages" /><label for="switch_INFO" id="label_INFO">info</label>','<input type="checkbox" id="switch_WARN" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide warn messages" /><label for="switch_WARN" id="label_WARN">warn</label>','<input type="checkbox" id="switch_ERROR" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide error messages" /><label for="switch_ERROR" id="label_ERROR">error</label>','<input type="checkbox" id="switch_FATAL" onclick="applyFilters(); checkAllLevels()" checked="checked" title="Show/hide fatal messages" /><label for="switch_FATAL" id="label_FATAL">fatal</label>','<input type="checkbox" id="switch_ALL" onclick="toggleAllLevels(); applyFilters()" checked="checked" title="Show/hide all messages" /><label for="switch_ALL" id="label_ALL">all</label>',"</div>",'<div id="search" class="toolbar">','<label for="searchBox" class="searchboxlabel">Search:</label> <input type="text" id="searchBox" onclick="toggleSearchEnabled(true)" onkeyup="scheduleSearch()" size="20" />','<input type="button" id="searchReset" disabled="disabled" value="Reset" onclick="clearSearch()" class="button" title="Reset the search" />','<input type="checkbox" id="searchRegex" onclick="doSearch()" title="If checked, search is treated as a regular expression" /><label for="searchRegex">Regex</label>','<input type="checkbox" id="searchCaseSensitive" onclick="doSearch()" title="If checked, search is case sensitive" /><label for="searchCaseSensitive">Match case</label>','<input type="checkbox" id="searchDisable" onclick="toggleSearchEnabled()" title="Enable/disable search" /><label for="searchDisable" class="alwaysenabled">Disable</label>','<div id="searchNav">','<input type="button" id="searchNext" disabled="disabled" value="Next" onclick="searchNext()" class="button" title="Go to the next matching log entry" />','<input type="button" id="searchPrevious" disabled="disabled" value="Previous" onclick="searchPrevious()" class="button" title="Go to the previous matching log entry" />','<input type="checkbox" id="searchFilter" onclick="toggleSearchFilter()" title="If checked, non-matching log entries are filtered out" /><label for="searchFilter">Filter</label>','<input type="checkbox" id="searchHighlight" onclick="toggleSearchHighlight()" title="Highlight matched search terms" /><label for="searchHighlight" class="alwaysenabled">Highlight all</label>',"</div>","</div>",'<div id="options" class="toolbar">',"Options:",'<input type="checkbox" id="enableLogging" onclick="toggleLoggingEnabled()" checked="checked" title="Enable/disable logging" /><label for="enableLogging" id="enableLoggingLabel">Log</label>','<input type="checkbox" id="wrap" onclick="toggleWrap()" title="Enable / disable word wrap" /><label for="wrap" id="wrapLabel">Wrap</label>','<input type="checkbox" id="newestAtTop" onclick="toggleNewestAtTop()" title="If checked, causes newest messages to appear at the top" /><label for="newestAtTop" id="newestAtTopLabel">Newest at the top</label>','<input type="checkbox" id="scrollToLatest" onclick="toggleScrollToLatest()" checked="checked" title="If checked, window automatically scrolls to a new message when it is added" /><label for="scrollToLatest" id="scrollToLatestLabel">Scroll to latest</label>','<input type="button" id="clearButton" value="Clear" onclick="clearLog()" class="button" title="Clear all log messages"  />','<input type="button" id="hideButton" value="Hide" onclick="hide()" class="hidden button" title="Hide the console" />','<input type="button" id="closeButton" value="Close" onclick="closeWindow()" class="hidden button" title="Close the window" />',"</div>","</div>","</div>",'<div id="log" class="TRACE DEBUG INFO WARN ERROR FATAL"></div>','<div id="commandLine" class="toolbar">','<div id="commandLineContainer">','<input type="text" id="command" title="Enter a JavaScript command here and hit return or press \'Evaluate\'" />','<input type="button" id="evaluateButton" value="Evaluate" class="button" title="Evaluate the command" onclick="evalCommandLine()" />',"</div>","</div>","</body>","</html>",""];e.open();for(var n=0,r=t.length;n<r;n++)e.writeln(t[n]);e.close()}),J=(this.setEventTypes(["load","unload"]),function(){var e=d(),t=(e.setAppender(p),e.setNewestAtTop(y),e.setScrollToLatest(b),e.setMaxMessages(x),e.setShowCommandLine(w),e.setShowHideButton(j),e.setShowCloseButton(S),e.setMainWindow(window),getCookie(q));t&&(e.commandHistory=t.split(","),e.currentCommandIndex=e.commandHistory.length),p.dispatchEvent("load",{win:e})}),X=(this.unload=function(){logLog.debug("unload "+this+", caller: "+this.unload.caller),g||(logLog.debug("really doing unload "+this),f=h=!(g=!0),p.dispatchEvent("unload",{}))},function(e,t,n,r){var o=setInterval(function(){try{g&&clearInterval(o),e(d())&&(clearInterval(o),n())}catch(e){clearInterval(o),v=!1,handleError(r,e)}},t)}),Z=function(){var e=document.domain!=location.hostname;return u?"":getBaseUrl()+"console.html"+(e?"?log4javascript_domain="+escape(document.domain):"")},Q=N?(T=null,A=[],K=!(this.addCssProperty=function(e,t){n("cssProperties")&&A.push([e,t])}),L=uniqueId+"_InPageAppender_"+B,this.hide=function(){s&&f&&(r()&&d().$("command").blur(),O.style.display="none",E=!0)},this.show=function(){s&&(f?(O.style.display="block",this.setShowCommandLine(w),E=!1):K||e(!0))},this.isVisible=function(){return!E&&!g},this.close=function(e){g||e&&!confirm("This will permanently remove the console from the page. No more messages will be logged. Do you wish to continue?")||(O.parentNode.removeChild(O),this.unload())},i=function(){var t="InPageAppender.open: unable to create console iframe";function n(){try{a||p.show(),J(),h=!0,W()}catch(e){v=!1,handleError(t,e)}}function e(){try{var e=function(e){return isLoaded(e)};u&&Y(d().document),e(d())?n():X(e,100,n,t)}catch(e){v=!1,handleError(t,e)}}E=!1,(O=T.appendChild(document.createElement("div"))).style.width=l,O.style.height=c,O.style.border="solid gray 1px";for(var r=0,o=A.length;r<o;r++)O.style[A[r][0]]=A[r][1];function i(e){try{return bool(e)&&bool(e.document)}catch(e){return!1}}var s=u?"":" src='"+Z()+"'";O.innerHTML="<iframe id='"+L+"' name='"+L+"' width='100%' height='100%' frameborder='0'"+s+" scrolling='no'></iframe>",g=!1;i(d())?e():X(i,100,e,t),f=!0},e=function(e){!e&&a||(e=function(){if(t)try{var e=document.getElementById(t);1==e.nodeType&&(T=e),i()}catch(e){handleError("InPageAppender.init: invalid container element '"+t+"' supplied",e)}else(T=document.createElement("div")).style.position="fixed",T.style.left="0",T.style.right="0",T.style.bottom="0",document.body.appendChild(T),p.addCssProperty("borderWidth","1px 0 0 0"),p.addCssProperty("zIndex",1e6),i()},pageLoaded&&t&&t.appendChild?(T=t,i()):pageLoaded?e():log4javascript.addEventListener("load",e),K=!0)},o=function(){e(),s=!0},d=function(){var e=window.frames[L];if(e)return e},function(){return!(!v||g)&&(h=!(!f||h||!d()||!isLoaded(d()))||h)}):(F=p.defaults.useOldPopUp,D=p.defaults.complainAboutPopUpBlocking,k=this.defaults.reopenWhenClosed,this.isUseOldPopUp=function(){return F},this.setUseOldPopUp=function(e){n("useOldPopUp")&&(F=bool(e))},this.isComplainAboutPopUpBlocking=function(){return D},this.setComplainAboutPopUpBlocking=function(e){n("complainAboutPopUpBlocking")&&(D=bool(e))},this.isFocusPopUp=function(){return _},this.setFocusPopUp=function(e){_=bool(e)},this.isReopenWhenClosed=function(){return k},this.setReopenWhenClosed=function(e){k=bool(e)},this.close=function(){logLog.debug("close "+this);try{I.close(),this.unload()}catch(e){}},this.hide=function(){logLog.debug("hide "+this),r()&&this.close()},this.show=function(){logLog.debug("show "+this),f||i()},this.isVisible=function(){return Q()},i=function(){var e="width="+l+",height="+c+",status,resizable",t="";try{var n=window.frameElement;n&&(t="_"+n.tagName+"_"+(n.name||n.id||""))}catch(e){t="_inaccessibleParentFrame"}function r(e){if(g)return!0;try{return bool(e)&&e.closed}catch(e){}return!1}function o(){g||p.unload()}n="PopUp_"+location.host.replace(/[^a-z0-9]/gi,"_")+"_"+B+t;F&&u||(n=n+"_"+uniqueId);function i(){d().setCloseIfOpenerCloses(!F||!u),J(),h=!0,W(),X(r,500,o,"PopUpAppender.checkPopUpClosed: error checking pop-up window")}try{I=window.open(Z(),n,e),f=!(g=!1),I&&I.document?u&&F&&isLoaded(I)?(I.mainPageReloaded(),i()):(u&&Y(I.document),isLoaded(I)?i():X(function(e){return bool(e)&&isLoaded(e)},100,i,"PopUpAppender.init: unable to create console window")):(v=!1,logLog.warn("PopUpAppender.init: pop-ups blocked, please unblock to use PopUpAppender"),D&&handleError("log4javascript: pop-up windows appear to be blocked. Please unblock them to use pop-up logging."))}catch(e){handleError("PopUpAppender.init: error creating pop-up",e)}},e=function(){a||i()},o=function(){e(),s=!0},d=function(){return I},function(){if(v&&!isUndefined(I)&&!g){if(I.closed||h&&isUndefined(I.closed))return p.unload(),logLog.debug("PopUpAppender: pop-up closed"),!1;!h&&isLoaded(I)&&(h=!0)}return v&&h&&!g});this.getConsoleWindow=d},ConsoleAppender.addGlobalCommandLineFunction=function(e,t){ee.push([e,t])},(e.prototype=new ConsoleAppender).defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,focusPopUp:!1,lazyInit:!0,useOldPopUp:!0,complainAboutPopUpBlocking:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"600",height:"400",reopenWhenClosed:!1,maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!0,useDocumentWrite:!0},e.prototype.toString=function(){return"PopUpAppender"},log4javascript.PopUpAppender=e,(t.prototype=new ConsoleAppender).defaults={layout:new PatternLayout("%d{HH:mm:ss} %-5p - %m{1}%n"),initiallyMinimized:!1,lazyInit:!0,newestMessageAtTop:!1,scrollToLatestMessage:!0,width:"100%",height:"220px",maxMessages:null,showCommandLine:!0,commandLineObjectExpansionDepth:1,showHideButton:!1,showCloseButton:!1,showLogEntryDeleteButtons:!0,useDocumentWrite:!0},t.prototype.toString=function(){return"InPageAppender"},log4javascript.InPageAppender=t,log4javascript.InlineAppender=t})(),(()=>{var v={ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},y=["script","pre"],b=["br","img","hr","param","link","area","input","col","base","meta"],x="  ";function w(e,t,n,r,o){function i(e){for(var t=e.style.cssText.split(";"),n="",r=0,o=t.length;r<o;r++){var i=t[r].split(":"),s=[];/^\s*$/.test(i[0])||s.push(trim(i[0]).toLowerCase()+":"+trim(i[1])),n=s.join(";")}return n}"string"!=typeof n&&(n=""),r=!!r,o=!!o;if(!(t=void 0===t||!!t)||e.nodeType==v.DOCUMENT_FRAGMENT_NODE){for(a="",f=0,h=e.childNodes.length;f<h;f++)a+=w(e.childNodes[f],!0,n+x);return a}switch(e.nodeType){case v.ELEMENT_NODE:var s=e.tagName.toLowerCase(),a=r?newLine+n:"",u=(a+="<",(u=e).prefix||(u.outerHTML&&new RegExp("<([^:]+):"+u.tagName+"[^>]*>","i").test(u.outerHTML)?RegExp.$1.toLowerCase():"")),l=!!u;for(l&&(a+=u+":"),a+=s,f=0,h=e.attributes.length;f<h;f++){var c=e.attributes[f];c.specified&&null!==c.nodeValue&&"style"!==c.nodeName.toLowerCase()&&"string"==typeof c.nodeValue&&0!==c.nodeName.indexOf("_moz")&&(a=(a+=" "+c.nodeName.toLowerCase()+'="')+c.nodeValue.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;")+'"')}if(e.style.cssText&&""!==i(e)&&(a+=' style="'+i(e)+'"'),array_contains(b,s)||l&&!e.hasChildNodes())a+="/>";else{a+=">";for(var d=!(1===e.childNodes.length&&e.childNodes[0].nodeType===v.TEXT_NODE),p=array_contains(y,s),f=0,h=e.childNodes.length;f<h;f++)a+=w(e.childNodes[f],!0,n+x,d,p);u="</"+s+">";a+=d?newLine+n+u:u}return a;case v.TEXT_NODE:if((l=e).nodeType==v.TEXT_NODE&&/^[ \t\r\n]*$/.test(l.nodeValue))a="";else{if(o)a=e.nodeValue;else{var g=splitIntoLines(trim(e.nodeValue)),m=[];for(f=0,h=g.length;f<h;f++)m[f]=trim(g[f]);a=m.join(newLine+n)}r&&(a=newLine+n+a)}return a;case v.CDATA_SECTION_NODE:return"<![CDATA["+e.nodeValue+"]]>"+newLine;case v.DOCUMENT_NODE:for(a="",f=0,h=e.childNodes.length;f<h;f++)a+=w(e.childNodes[f],!0,n);return a;default:return""}}function e(){ConsoleAppender.addGlobalCommandLineFunction("$",function(e,t,n){return document.getElementById(t[0])}),ConsoleAppender.addGlobalCommandLineFunction("dir",function(e,t,n){for(var r=[],o=0,i=t.length;o<i;o++)r[o]=(e=>{var t,n=0;for(t in e)n=Math.max(toStr(t).length,n);var r=[];for(t in e){var o,i="  "+padWithSpaces(toStr(t),n+2);try{o=splitIntoLines(toStr(e[t])).join(padWithSpaces(newLine,n+6))}catch(e){o="[Error obtaining property. Details: "+getExceptionMessage(e)+"]"}r.push(i+o)}return r.join(newLine)})(t[o]);return r.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction("dirxml",function(e,t,n){for(var r=[],o=0,i=t.length;o<i;o++)r[o]=w(t[o]);return r.join(newLine+newLine)}),ConsoleAppender.addGlobalCommandLineFunction("cd",function(e,t,n){var r,o;return 0===t.length||""===t[0]?(r=window,o="Command line set to run in main window"):t[0].window==t[0]?(r=t[0],o="Command line set to run in frame '"+t[0].name+"'"):(r=window.frames[t[0]])?o="Command line set to run in frame '"+t[0]+"'":(n.isError=!0,o="Frame '"+t[0]+"' does not exist",r=e.getCommandWindow()),e.setCommandWindow(r),o}),ConsoleAppender.addGlobalCommandLineFunction("clear",function(e,t,n){n.appendResult=!1,e.clear()}),ConsoleAppender.addGlobalCommandLineFunction("keys",function(e,t,n){var r,o=[];for(r in t[0])o.push(r);return o}),ConsoleAppender.addGlobalCommandLineFunction("values",function(e,t,n){var r,o=[];for(r in t[0])try{o.push(t[0][r])}catch(e){logLog.warn("values(): Unable to obtain value for key "+r+". Details: "+getExceptionMessage(e))}return o}),ConsoleAppender.addGlobalCommandLineFunction("expansionDepth",function(e,t,n){var r=parseInt(t[0],10);return isNaN(r)||r<0?(n.isError=!0,t[0]+" is not a valid expansion depth"):(e.setCommandLineObjectExpansionDepth(r),"Object expansion depth set to "+r)})}e()})(),log4javascript.setDocumentReady=function(){pageLoaded=!0,log4javascript.dispatchEvent("load",{})},window.addEventListener?window.addEventListener("load",log4javascript.setDocumentReady,!1):window.attachEvent?window.attachEvent("onload",log4javascript.setDocumentReady):(oldOnload=window.onload,window.onload="function"!=typeof window.onload?log4javascript.setDocumentReady:function(e){oldOnload&&oldOnload(e),log4javascript.setDocumentReady()}),log4javascript},this)},{}],64:[function(e,t,n){var r,o;r=this,o=function(){return n=[function(e,t,n){var r;void 0!==(n="function"==typeof(r={af:function(e,t){return!t&&1==e?"one":"other"},ak:function(e,t){return!t&&(0==e||1==e)?"one":"other"},am:function(e,t){return!t&&0<=e&&e<=1?"one":"other"},ar:function(e,t){var n=String(e).split("."),n=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":3<=n&&n<=10?"few":11<=n&&n<=99?"many":"other"},ars:function(e,t){var n=String(e).split("."),n=Number(n[0])==e&&n[0].slice(-2);return t?"other":0==e?"zero":1==e?"one":2==e?"two":3<=n&&n<=10?"few":11<=n&&n<=99?"many":"other"},as:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":0<=e&&e<=1?"one":"other"},asa:function(e,t){return!t&&1==e?"one":"other"},ast:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},az:function(e,t){var n=String(e).split(".")[0],r=n.slice(-1),o=n.slice(-2),i=n.slice(-3);return t?1==r||2==r||5==r||7==r||8==r||20==o||50==o||70==o||80==o?"one":3==r||4==r||100==i||200==i||300==i||400==i||500==i||600==i||700==i||800==i||900==i?"few":0==n||6==r||40==o||60==o||90==o?"many":"other":1==e?"one":"other"},be:function(e,t){var n=String(e).split("."),e=Number(n[0])==e,r=e&&n[0].slice(-1),n=e&&n[0].slice(-2);return t?2!=r&&3!=r||12==n||13==n?"other":"few":1==r&&11!=n?"one":2<=r&&r<=4&&(n<12||14<n)?"few":e&&0==r||5<=r&&r<=9||11<=n&&n<=14?"many":"other"},bem:function(e,t){return!t&&1==e?"one":"other"},bez:function(e,t){return!t&&1==e?"one":"other"},bg:function(e,t){return!t&&1==e?"one":"other"},bh:function(e,t){return!t&&(0==e||1==e)?"one":"other"},bm:function(e,t){return"other"},bn:function(e,t){return t?1==e||5==e||7==e||8==e||9==e||10==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":0<=e&&e<=1?"one":"other"},bo:function(e,t){return"other"},br:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,o=r&&n[0].slice(-1),i=r&&n[0].slice(-2),n=r&&n[0].slice(-6);return t?"other":1==o&&11!=i&&71!=i&&91!=i?"one":2==o&&12!=i&&72!=i&&92!=i?"two":(3==o||4==o||9==o)&&(i<10||19<i)&&(i<70||79<i)&&(i<90||99<i)?"few":0!=e&&r&&0==n?"many":"other"},brx:function(e,t){return!t&&1==e?"one":"other"},bs:function(e,t){var e=String(e).split("."),n=e[0],r=e[1]||"",e=!e[1],o=n.slice(-1),n=n.slice(-2),i=r.slice(-1),r=r.slice(-2);return t?"other":e&&1==o&&11!=n||1==i&&11!=r?"one":e&&2<=o&&o<=4&&(n<12||14<n)||2<=i&&i<=4&&(r<12||14<r)?"few":"other"},ca:function(e,t){var n=!String(e).split(".")[1];return t?1==e||3==e?"one":2==e?"two":4==e?"few":"other":1==e&&n?"one":"other"},ce:function(e,t){return!t&&1==e?"one":"other"},cgg:function(e,t){return!t&&1==e?"one":"other"},chr:function(e,t){return!t&&1==e?"one":"other"},ckb:function(e,t){return!t&&1==e?"one":"other"},cs:function(e,t){var n=String(e).split("."),r=n[0],n=!n[1];return t?"other":1==e&&n?"one":2<=r&&r<=4&&n?"few":n?"other":"many"},cy:function(e,t){return t?0==e||7==e||8==e||9==e?"zero":1==e?"one":2==e?"two":3==e||4==e?"few":5==e||6==e?"many":"other":0==e?"zero":1==e?"one":2==e?"two":3==e?"few":6==e?"many":"other"},da:function(e,t){var n=String(e).split("."),r=n[0],n=Number(n[0])==e;return t||1!=e&&(n||0!=r&&1!=r)?"other":"one"},de:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},dsb:function(e,t){var e=String(e).split("."),n=e[0],r=e[1]||"",e=!e[1],n=n.slice(-2),r=r.slice(-2);return t?"other":e&&1==n||1==r?"one":e&&2==n||2==r?"two":e&&(3==n||4==n)||3==r||4==r?"few":"other"},dv:function(e,t){return!t&&1==e?"one":"other"},dz:function(e,t){return"other"},ee:function(e,t){return!t&&1==e?"one":"other"},el:function(e,t){return!t&&1==e?"one":"other"},en:function(e,t){var n=String(e).split("."),r=!n[1],o=Number(n[0])==e,i=o&&n[0].slice(-1),o=o&&n[0].slice(-2);return t?1==i&&11!=o?"one":2==i&&12!=o?"two":3==i&&13!=o?"few":"other":1==e&&r?"one":"other"},eo:function(e,t){return!t&&1==e?"one":"other"},es:function(e,t){return!t&&1==e?"one":"other"},et:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},eu:function(e,t){return!t&&1==e?"one":"other"},fa:function(e,t){return!t&&0<=e&&e<=1?"one":"other"},ff:function(e,t){return!t&&0<=e&&e<2?"one":"other"},fi:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},fil:function(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"",n=!n[1],i=r.slice(-1),o=o.slice(-1);return t?1==e?"one":"other":n&&(1==r||2==r||3==r)||n&&4!=i&&6!=i&&9!=i||!n&&4!=o&&6!=o&&9!=o?"one":"other"},fo:function(e,t){return!t&&1==e?"one":"other"},fr:function(e,t){return t?1==e?"one":"other":0<=e&&e<2?"one":"other"},fur:function(e,t){return!t&&1==e?"one":"other"},fy:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},ga:function(e,t){var n=String(e).split("."),n=Number(n[0])==e;return t?1==e?"one":"other":1==e?"one":2==e?"two":n&&3<=e&&e<=6?"few":n&&7<=e&&e<=10?"many":"other"},gd:function(e,t){var n=String(e).split("."),n=Number(n[0])==e;return t?1==e||11==e?"one":2==e||12==e?"two":3==e||13==e?"few":"other":1==e||11==e?"one":2==e||12==e?"two":n&&3<=e&&e<=10||n&&13<=e&&e<=19?"few":"other"},gl:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},gsw:function(e,t){return!t&&1==e?"one":"other"},gu:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":0<=e&&e<=1?"one":"other"},guw:function(e,t){return!t&&(0==e||1==e)?"one":"other"},gv:function(e,t){var e=String(e).split("."),n=e[0],e=!e[1],r=n.slice(-1),n=n.slice(-2);return t?"other":e&&1==r?"one":e&&2==r?"two":!e||0!=n&&20!=n&&40!=n&&60!=n&&80!=n?e?"other":"many":"few"},ha:function(e,t){return!t&&1==e?"one":"other"},haw:function(e,t){return!t&&1==e?"one":"other"},he:function(e,t){var n=String(e).split("."),r=n[0],o=!n[1],i=Number(n[0])==e,n=i&&n[0].slice(-1);return t?"other":1==e&&o?"one":2==r&&o?"two":o&&(e<0||10<e)&&i&&0==n?"many":"other"},hi:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":0<=e&&e<=1?"one":"other"},hr:function(e,t){var e=String(e).split("."),n=e[0],r=e[1]||"",e=!e[1],o=n.slice(-1),n=n.slice(-2),i=r.slice(-1),r=r.slice(-2);return t?"other":e&&1==o&&11!=n||1==i&&11!=r?"one":e&&2<=o&&o<=4&&(n<12||14<n)||2<=i&&i<=4&&(r<12||14<r)?"few":"other"},hsb:function(e,t){var e=String(e).split("."),n=e[0],r=e[1]||"",e=!e[1],n=n.slice(-2),r=r.slice(-2);return t?"other":e&&1==n||1==r?"one":e&&2==n||2==r?"two":e&&(3==n||4==n)||3==r||4==r?"few":"other"},hu:function(e,t){return t?1==e||5==e?"one":"other":1==e?"one":"other"},hy:function(e,t){return t?1==e?"one":"other":0<=e&&e<2?"one":"other"},ia:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},id:function(e,t){return"other"},ig:function(e,t){return"other"},ii:function(e,t){return"other"},in:function(e,t){return"other"},io:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},is:function(e,t){var n=String(e).split("."),r=n[0],n=Number(n[0])==e,e=r.slice(-1),r=r.slice(-2);return!t&&(n&&1==e&&11!=r||!n)?"one":"other"},it:function(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"},iu:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},iw:function(e,t){var n=String(e).split("."),r=n[0],o=!n[1],i=Number(n[0])==e,n=i&&n[0].slice(-1);return t?"other":1==e&&o?"one":2==r&&o?"two":o&&(e<0||10<e)&&i&&0==n?"many":"other"},ja:function(e,t){return"other"},jbo:function(e,t){return"other"},jgo:function(e,t){return!t&&1==e?"one":"other"},ji:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},jmc:function(e,t){return!t&&1==e?"one":"other"},jv:function(e,t){return"other"},jw:function(e,t){return"other"},ka:function(e,t){var n=String(e).split(".")[0],r=n.slice(-2);return t?1==n?"one":0==n||2<=r&&r<=20||40==r||60==r||80==r?"many":"other":1==e?"one":"other"},kab:function(e,t){return!t&&0<=e&&e<2?"one":"other"},kaj:function(e,t){return!t&&1==e?"one":"other"},kcg:function(e,t){return!t&&1==e?"one":"other"},kde:function(e,t){return"other"},kea:function(e,t){return"other"},kk:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,n=r&&n[0].slice(-1);return t?6==n||9==n||r&&0==n&&0!=e?"many":"other":1==e?"one":"other"},kkj:function(e,t){return!t&&1==e?"one":"other"},kl:function(e,t){return!t&&1==e?"one":"other"},km:function(e,t){return"other"},kn:function(e,t){return!t&&0<=e&&e<=1?"one":"other"},ko:function(e,t){return"other"},ks:function(e,t){return!t&&1==e?"one":"other"},ksb:function(e,t){return!t&&1==e?"one":"other"},ksh:function(e,t){return t?"other":0==e?"zero":1==e?"one":"other"},ku:function(e,t){return!t&&1==e?"one":"other"},kw:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},ky:function(e,t){return!t&&1==e?"one":"other"},lag:function(e,t){var n=String(e).split(".")[0];return t?"other":0==e?"zero":0!=n&&1!=n||0==e?"other":"one"},lb:function(e,t){return!t&&1==e?"one":"other"},lg:function(e,t){return!t&&1==e?"one":"other"},lkt:function(e,t){return"other"},ln:function(e,t){return!t&&(0==e||1==e)?"one":"other"},lo:function(e,t){return t&&1==e?"one":"other"},lt:function(e,t){var n=String(e).split("."),r=n[1]||"",e=Number(n[0])==e,o=e&&n[0].slice(-1),e=e&&n[0].slice(-2);return t?"other":1==o&&(e<11||19<e)?"one":2<=o&&o<=9&&(e<11||19<e)?"few":0!=r?"many":"other"},lv:function(e,t){var n=String(e).split("."),r=n[1]||"",o=r.length,e=Number(n[0])==e,i=e&&n[0].slice(-1),n=e&&n[0].slice(-2),s=r.slice(-2),r=r.slice(-1);return t?"other":e&&0==i||11<=n&&n<=19||2==o&&11<=s&&s<=19?"zero":1==i&&11!=n||2==o&&1==r&&11!=s||2!=o&&1==r?"one":"other"},mas:function(e,t){return!t&&1==e?"one":"other"},mg:function(e,t){return!t&&(0==e||1==e)?"one":"other"},mgo:function(e,t){return!t&&1==e?"one":"other"},mk:function(e,t){var e=String(e).split("."),n=e[0],r=e[1]||"",e=!e[1],o=n.slice(-1),n=n.slice(-2),i=r.slice(-1),r=r.slice(-2);return t?1==o&&11!=n?"one":2==o&&12!=n?"two":7!=o&&8!=o||17==n||18==n?"other":"many":e&&1==o&&11!=n||1==i&&11!=r?"one":"other"},ml:function(e,t){return!t&&1==e?"one":"other"},mn:function(e,t){return!t&&1==e?"one":"other"},mo:function(e,t){var n=String(e).split("."),r=!n[1],n=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&r?"one":!r||0==e||1!=e&&1<=n&&n<=19?"few":"other"},mr:function(e,t){return t?1==e?"one":2==e||3==e?"two":4==e?"few":"other":0<=e&&e<=1?"one":"other"},ms:function(e,t){return t&&1==e?"one":"other"},mt:function(e,t){var n=String(e).split("."),n=Number(n[0])==e&&n[0].slice(-2);return t?"other":1==e?"one":0==e||2<=n&&n<=10?"few":11<=n&&n<=19?"many":"other"},my:function(e,t){return"other"},nah:function(e,t){return!t&&1==e?"one":"other"},naq:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},nb:function(e,t){return!t&&1==e?"one":"other"},nd:function(e,t){return!t&&1==e?"one":"other"},ne:function(e,t){var n=String(e).split("."),n=Number(n[0])==e;return t?n&&1<=e&&e<=4?"one":"other":1==e?"one":"other"},nl:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},nn:function(e,t){return!t&&1==e?"one":"other"},nnh:function(e,t){return!t&&1==e?"one":"other"},no:function(e,t){return!t&&1==e?"one":"other"},nqo:function(e,t){return"other"},nr:function(e,t){return!t&&1==e?"one":"other"},nso:function(e,t){return!t&&(0==e||1==e)?"one":"other"},ny:function(e,t){return!t&&1==e?"one":"other"},nyn:function(e,t){return!t&&1==e?"one":"other"},om:function(e,t){return!t&&1==e?"one":"other"},or:function(e,t){var n=String(e).split("."),n=Number(n[0])==e;return t?1==e||5==e||n&&7<=e&&e<=9?"one":2==e||3==e?"two":4==e?"few":6==e?"many":"other":1==e?"one":"other"},os:function(e,t){return!t&&1==e?"one":"other"},pa:function(e,t){return!t&&(0==e||1==e)?"one":"other"},pap:function(e,t){return!t&&1==e?"one":"other"},pl:function(e,t){var n=String(e).split("."),r=n[0],n=!n[1],o=r.slice(-1),i=r.slice(-2);return t?"other":1==e&&n?"one":n&&2<=o&&o<=4&&(i<12||14<i)?"few":n&&1!=r&&(0==o||1==o)||n&&5<=o&&o<=9||n&&12<=i&&i<=14?"many":"other"},prg:function(e,t){var n=String(e).split("."),r=n[1]||"",o=r.length,e=Number(n[0])==e,i=e&&n[0].slice(-1),n=e&&n[0].slice(-2),s=r.slice(-2),r=r.slice(-1);return t?"other":e&&0==i||11<=n&&n<=19||2==o&&11<=s&&s<=19?"zero":1==i&&11!=n||2==o&&1==r&&11!=s||2!=o&&1==r?"one":"other"},ps:function(e,t){return!t&&1==e?"one":"other"},pt:function(e,t){e=String(e).split(".")[0];return!t&&(0==e||1==e)?"one":"other"},"pt-PT":function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},rm:function(e,t){return!t&&1==e?"one":"other"},ro:function(e,t){var n=String(e).split("."),r=!n[1],n=Number(n[0])==e&&n[0].slice(-2);return t?1==e?"one":"other":1==e&&r?"one":!r||0==e||1!=e&&1<=n&&n<=19?"few":"other"},rof:function(e,t){return!t&&1==e?"one":"other"},root:function(e,t){return"other"},ru:function(e,t){var e=String(e).split("."),n=e[0],e=!e[1],r=n.slice(-1),n=n.slice(-2);return t?"other":e&&1==r&&11!=n?"one":e&&2<=r&&r<=4&&(n<12||14<n)?"few":e&&0==r||e&&5<=r&&r<=9||e&&11<=n&&n<=14?"many":"other"},rwk:function(e,t){return!t&&1==e?"one":"other"},sah:function(e,t){return"other"},saq:function(e,t){return!t&&1==e?"one":"other"},sc:function(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"},scn:function(e,t){var n=!String(e).split(".")[1];return t?11==e||8==e||80==e||800==e?"many":"other":1==e&&n?"one":"other"},sd:function(e,t){return!t&&1==e?"one":"other"},sdh:function(e,t){return!t&&1==e?"one":"other"},se:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},seh:function(e,t){return!t&&1==e?"one":"other"},ses:function(e,t){return"other"},sg:function(e,t){return"other"},sh:function(e,t){var e=String(e).split("."),n=e[0],r=e[1]||"",e=!e[1],o=n.slice(-1),n=n.slice(-2),i=r.slice(-1),r=r.slice(-2);return t?"other":e&&1==o&&11!=n||1==i&&11!=r?"one":e&&2<=o&&o<=4&&(n<12||14<n)||2<=i&&i<=4&&(r<12||14<r)?"few":"other"},shi:function(e,t){var n=String(e).split("."),n=Number(n[0])==e;return t?"other":0<=e&&e<=1?"one":n&&2<=e&&e<=10?"few":"other"},si:function(e,t){var n=String(e).split("."),r=n[0];return!t&&(0==e||1==e||0==r&&1==(n[1]||""))?"one":"other"},sk:function(e,t){var n=String(e).split("."),r=n[0],n=!n[1];return t?"other":1==e&&n?"one":2<=r&&r<=4&&n?"few":n?"other":"many"},sl:function(e,t){var e=String(e).split("."),n=e[0],e=!e[1],n=n.slice(-2);return t?"other":e&&1==n?"one":e&&2==n?"two":e&&(3==n||4==n)||!e?"few":"other"},sma:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smi:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smj:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},smn:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},sms:function(e,t){return t?"other":1==e?"one":2==e?"two":"other"},sn:function(e,t){return!t&&1==e?"one":"other"},so:function(e,t){return!t&&1==e?"one":"other"},sq:function(e,t){var n=String(e).split("."),r=Number(n[0])==e,o=r&&n[0].slice(-1),r=r&&n[0].slice(-2);return t?1==e?"one":4==o&&14!=r?"many":"other":1==e?"one":"other"},sr:function(e,t){var e=String(e).split("."),n=e[0],r=e[1]||"",e=!e[1],o=n.slice(-1),n=n.slice(-2),i=r.slice(-1),r=r.slice(-2);return t?"other":e&&1==o&&11!=n||1==i&&11!=r?"one":e&&2<=o&&o<=4&&(n<12||14<n)||2<=i&&i<=4&&(r<12||14<r)?"few":"other"},ss:function(e,t){return!t&&1==e?"one":"other"},ssy:function(e,t){return!t&&1==e?"one":"other"},st:function(e,t){return!t&&1==e?"one":"other"},sv:function(e,t){var n=String(e).split("."),r=!n[1],o=Number(n[0])==e,i=o&&n[0].slice(-1),o=o&&n[0].slice(-2);return t?1!=i&&2!=i||11==o||12==o?"other":"one":1==e&&r?"one":"other"},sw:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},syr:function(e,t){return!t&&1==e?"one":"other"},ta:function(e,t){return!t&&1==e?"one":"other"},te:function(e,t){return!t&&1==e?"one":"other"},teo:function(e,t){return!t&&1==e?"one":"other"},th:function(e,t){return"other"},ti:function(e,t){return!t&&(0==e||1==e)?"one":"other"},tig:function(e,t){return!t&&1==e?"one":"other"},tk:function(e,t){var n=String(e).split("."),n=Number(n[0])==e&&n[0].slice(-1);return t?6==n||9==n||10==e?"few":"other":1==e?"one":"other"},tl:function(e,t){var n=String(e).split("."),r=n[0],o=n[1]||"",n=!n[1],i=r.slice(-1),o=o.slice(-1);return t?1==e?"one":"other":n&&(1==r||2==r||3==r)||n&&4!=i&&6!=i&&9!=i||!n&&4!=o&&6!=o&&9!=o?"one":"other"},tn:function(e,t){return!t&&1==e?"one":"other"},to:function(e,t){return"other"},tr:function(e,t){return!t&&1==e?"one":"other"},ts:function(e,t){return!t&&1==e?"one":"other"},tzm:function(e,t){var n=String(e).split("."),n=Number(n[0])==e;return!t&&(0==e||1==e||n&&11<=e&&e<=99)?"one":"other"},ug:function(e,t){return!t&&1==e?"one":"other"},uk:function(e,t){var n=String(e).split("."),r=n[0],o=!n[1],e=Number(n[0])==e,i=e&&n[0].slice(-1),e=e&&n[0].slice(-2),n=r.slice(-1),r=r.slice(-2);return t?3==i&&13!=e?"few":"other":o&&1==n&&11!=r?"one":o&&2<=n&&n<=4&&(r<12||14<r)?"few":o&&0==n||o&&5<=n&&n<=9||o&&11<=r&&r<=14?"many":"other"},ur:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},uz:function(e,t){return!t&&1==e?"one":"other"},ve:function(e,t){return!t&&1==e?"one":"other"},vi:function(e,t){return t&&1==e?"one":"other"},vo:function(e,t){return!t&&1==e?"one":"other"},vun:function(e,t){return!t&&1==e?"one":"other"},wa:function(e,t){return!t&&(0==e||1==e)?"one":"other"},wae:function(e,t){return!t&&1==e?"one":"other"},wo:function(e,t){return"other"},xh:function(e,t){return!t&&1==e?"one":"other"},xog:function(e,t){return!t&&1==e?"one":"other"},yi:function(e,t){var n=!String(e).split(".")[1];return!t&&1==e&&n?"one":"other"},yo:function(e,t){return"other"},yue:function(e,t){return"other"},zh:function(e,t){return"other"},zu:function(e,t){return!t&&0<=e&&e<=1?"one":"other"}})?r.call(t,n,t,e):r)&&(e.exports=n)},function(e,t,n){e.exports={date:n(4),duration:n(5),number:n(6),time:n(7)}},function(e,t,n){function pt(e,t,n,r){this.message=e,this.expected=t,this.found=n,this.location=r,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,pt)}function r(){this.constructor=o}var o,i;o=pt,i=Error,r.prototype=i.prototype,o.prototype=new r,pt.buildMessage=function(e,t){var i={literal:function(e){return'"'+r(e.text)+'"'},class:function(e){for(var t="",n=0;n<e.parts.length;n++)t+=e.parts[n]instanceof Array?o(e.parts[n][0])+"-"+o(e.parts[n][1]):o(e.parts[n]);return"["+(e.inverted?"^":"")+t+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function r(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}return"Expected "+(e=>{for(var t,n,r=new Array(e.length),o=0;o<e.length;o++)r[o]=i[(n=e[o]).type](n);if(r.sort(),0<r.length){for(t=o=1;o<r.length;o++)r[o-1]!==r[o]&&(r[t]=r[o],t++);r.length=t}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}})(e)+" but "+(t?'"'+r(t)+'"':"end of input")+" found."},e.exports={SyntaxError:pt,parse:function(f,i){var h={},e={start:ot},t=ot,g="#",m=u("#",!1),v=function(){return M[0]},N=function(){return{type:"octothorpe"}},y=function(e){return e.join("")},b="{",x=u("{",!1),w="}",C=u("}",!1),P=function(e){return{type:"argument",arg:e}},j=",",S=u(",",!1),E="select",_=u("select",!1),B=function(e,t){return i.strict&&M.unshift(!1),t},U=function(e,t){return i.strict&&M.shift(),{type:"select",arg:e,cases:t}},T="plural",z=u("plural",!1),A="selectordinal",H=u("selectordinal",!1),V=function(e,t){return M.unshift(!0),t},$=function(t,n,e,r){var o=("selectordinal"===n?i.ordinal:i.cardinal)||["zero","one","two","few","many","other"];return o&&o.length&&r.forEach(function(e){if(isNaN(e.key)&&o.indexOf(e.key)<0)throw new Error("Invalid key `"+e.key+"` for argument `"+t+"`. Valid "+n+" keys for this locale are `"+o.join("`, `")+"`, and explicit keys like `=0`.")}),M.shift(),{type:n,arg:t,offset:e||0,cases:r}},K=function(e,t,n){return{type:"function",arg:e,key:t,param:n}},W=c("identifier"),G=/^[^\t-\r \x85\u200E\u200F\u2028\u2029!-\/:-@[-\^`{-~\xA1-\xA7\xA9\xAB\xAC\xAE\xB0\xB1\xB6\xBB\xBF\xD7\xF7\u2010-\u2027\u2030-\u203E\u2041-\u2053\u2055-\u205E\u2190-\u245F\u2500-\u2775\u2794-\u2BFF\u2E00-\u2E7F\u3001-\u3003\u3008-\u3020\u3030\uFD3E\uFD3F\uFE45\uFE46]/,q=l([["\t","\r"]," ","","","","\u2028","\u2029",["!","/"],[":","@"],["[","^"],"`",["{","~"],["",""],"","","","","","","","","","","",["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],["",""],"","","","",""],!0,!1),Y=function(e,t){return{key:e,tokens:t}},J=function(e){return e},X=c("plural offset"),Z="offset",Q=u("offset",!1),ee=":",te=u(":",!1),ne=function(e){return e},re="=",oe=u("=",!1),ie="number",se=u("number",!1),ae="date",ue=u("date",!1),le="time",ce=u("time",!1),de="spellout",pe=u("spellout",!1),fe="ordinal",he=u("ordinal",!1),ge="duration",me=u("duration",!1),ve=function(e){if(i.strict||/^\d/.test(e))return!1;switch(e.toLowerCase()){case"select":case"plural":case"selectordinal":return!1;default:return!0}},ye=function(e){return e},be=function(e){return!i.strict},xe=function(e){return{tokens:e}},we=function(e){return{tokens:[e.join("")]}},Ce=c("a valid (strict) function parameter"),je=/^[^'{}]/,Se=l(["'","{","}"],!0,!1),Ee=function(e){return e.join("")},s="'",a=u("'",!1),Te=function(e){return e},Ae=function(e){return"{"+e.join("")+"}"},Oe=c("doubled apostrophe"),Le="''",Fe=u("''",!1),De=function(){return"'"},ke=/^[^']/,Ie=l(["'"],!0,!1),Re="'{",Me=u("'{",!1),Ne=function(e){return"{"+e.join("")},Pe="'}",_e=u("'}",!1),Be=function(e){return"}"+e.join("")},Ue=c("escaped string"),ze="'#",He=u("'#",!1),Ve=function(e){return"#"+e.join("")},$e=function(e){return e[0]},Ke=c("plain char"),We=/^[^{}#\0-\x08\x0E-\x1F\x7F]/,Ge=l(["{","}","#",["\0","\b"],["",""],""],!0,!1),qe=function(e){return!M[0]},Ye=function(e){return e},Je=c("integer"),Xe=/^[0-9]/,Ze=l([["0","9"]],!1,!1),Qe=c("white space"),et=/^[\t-\r \x85\u200E\u200F\u2028\u2029]/,tt=l([["\t","\r"]," ","","","","\u2028","\u2029"],!1,!1),O=0,r=[{line:1,column:1}],n=0,o=[],L=0;if("startRule"in(i=void 0!==i?i:{})){if(!(i.startRule in e))throw new Error("Can't start parsing from rule \""+i.startRule+'".');t=e[i.startRule]}function u(e,t){return{type:"literal",text:e,ignoreCase:t}}function l(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function c(e){return{type:"other",description:e}}function nt(e){var t,n=r[e];if(!n){for(t=e-1;!r[t];)t--;for(n={line:(n=r[t]).line,column:n.column};t<e;)10===f.charCodeAt(t)?(n.line++,n.column=1):n.column++,t++;r[e]=n}return n}function rt(e,t){var n=nt(e),r=nt(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function F(e){O<n||(n<O&&(n=O,o=[]),o.push(e))}function ot(){for(var e=[],t=D();t!==h;)e.push(t),t=D();return e}function D(){var e,t,n,r,o,i,s,a,u,l,c,d,p;if(p=O,123===f.charCodeAt(O)?(l=b,O++):(l=h,0===L&&F(x)),(d=p=l!==h&&R()!==h&&(c=k())!==h&&R()!==h&&(125===f.charCodeAt(O)?(d=w,O++):(d=h,0===L&&F(C)),d!==h)?l=P(c):(O=p,h))===h&&(d=(()=>{var e,t,n,r,o,i,s,a,u=O;if(123===f.charCodeAt(O)?(e=b,O++):(e=h,0===L&&F(x)),e!==h)if(R()!==h)if((t=k())!==h)if(R()!==h)if(44===f.charCodeAt(O)?(n=j,O++):(n=h,0===L&&F(S)),n!==h)if(R()!==h)if(f.substr(O,6)===E?(r=E,O+=6):(r=h,0===L&&F(_)),(r=r!==h?B(t,r):r)!==h)if((r=R())!==h)if(44===f.charCodeAt(O)?(o=j,O++):(o=h,0===L&&F(S)),o!==h)if(R()!==h){if(i=[],(s=it())!==h)for(;s!==h;)i.push(s),s=it();else i=h;u=i!==h&&(s=R())!==h&&(125===f.charCodeAt(O)?(a=w,O++):(a=h,0===L&&F(C)),a!==h)?e=U(t,i):(O=u,h)}else O=u,u=h;else O=u,u=h;else O=u,u=h;else O=u,u=h;else O=u,u=h;else O=u,u=h;else O=u,u=h;else O=u,u=h;else O=u,u=h;else O=u,u=h;return u})())===h&&(d=(()=>{var e,t,n,r,o,i,s,a,u,l,c=O;if(123===f.charCodeAt(O)?(e=b,O++):(e=h,0===L&&F(x)),e!==h)if(R()!==h)if((t=k())!==h)if(R()!==h)if(44===f.charCodeAt(O)?(n=j,O++):(n=h,0===L&&F(S)),n!==h)if(R()!==h)if(f.substr(O,6)===T?(a=T,O+=6):(a=h,0===L&&F(z)),a===h&&(f.substr(O,13)===A?(a=A,O+=13):(a=h,0===L&&F(H))),(n=a=a!==h?V(t,a):a)!==h)if((a=R())!==h)if(44===f.charCodeAt(O)?(r=j,O++):(r=h,0===L&&F(S)),r!==h)if(R()!==h)if(L++,a=O,a=R()!==h&&(f.substr(O,6)===Z?(l=Z,O+=6):(l=h,0===L&&F(Q)),l!==h)&&R()!==h&&(58===f.charCodeAt(O)?(u=ee,O++):(u=h,0===L&&F(te)),u!==h)&&R()!==h&&(l=ct())!==h&&R()!==h?ne(l):(O=a,h),L--,a===h&&0===L&&F(X),(r=(r=a)===h?null:r)!==h){if(o=[],(i=st())!==h)for(;i!==h;)o.push(i),i=st();else o=h;c=o!==h&&(i=R())!==h&&(125===f.charCodeAt(O)?(s=w,O++):(s=h,0===L&&F(C)),s!==h)?e=$(t,n,r,o):(O=c,h)}else O=c,c=h;else O=c,c=h;else O=c,c=h;else O=c,c=h;else O=c,c=h;else O=c,c=h;else O=c,c=h;else O=c,c=h;else O=c,c=h;else O=c,c=h;else O=c,c=h;return c})())===h&&(c=O,123===f.charCodeAt(O)?(n=b,O++):(n=h,0===L&&F(x)),(d=c=n!==h&&R()!==h&&(l=k())!==h&&R()!==h&&(44===f.charCodeAt(O)?(i=j,O++):(i=h,0===L&&F(S)),i!==h)&&R()!==h&&(f.substr(O,6)===ie?(o=ie,O+=6):(o=h,0===L&&F(se)),o===h&&(f.substr(O,4)===ae?(o=ae,O+=4):(o=h,0===L&&F(ue)),o===h)&&(f.substr(O,4)===le?(o=le,O+=4):(o=h,0===L&&F(ce)),o===h)&&(f.substr(O,8)===de?(o=de,O+=8):(o=h,0===L&&F(pe)),o===h)&&(f.substr(O,7)===fe?(o=fe,O+=7):(o=h,0===L&&F(he)),o===h)&&(f.substr(O,8)===ge?(o=ge,O+=8):(o=h,0===L&&F(me)),o===h)&&(i=o=O,L++,f.substr(O,6)===E?(s=E,O+=6):(s=h,0===L&&F(_)),L--,o=(i=s===h?void 0:(O=i,h))!==h&&(s=O,L++,f.substr(O,6)===T?(a=T,O+=6):(a=h,0===L&&F(z)),L--,(s=a===h?void 0:(O=s,h))!==h)&&(a=O,L++,f.substr(O,13)===A?(u=A,O+=13):(u=h,0===L&&F(H)),L--,(a=u===h?void 0:(O=a,h))!==h)&&(u=k())!==h&&(ve(u)?void 0:h)!==h?i=ye(u):(O=o,h)),(i=o)!==h)&&R()!==h&&(p=(p=(()=>{var e,t,n,r=O;if(R()!==h)if(44===f.charCodeAt(O)?(e=j,O++):(e=h,0===L&&F(S)),e!==h){for(t=[],n=D();n!==h;)t.push(n),n=D();r=t!==h&&(n=(n=be(t))?void 0:h)!==h?xe(t):(O=r,h)}else O=r,r=h;else O=r,r=h;if(r===h)if(r=O,R()!==h)if(44===f.charCodeAt(O)?(e=j,O++):(e=h,0===L&&F(S)),e!==h){for(t=[],n=I();n!==h;)t.push(n),n=I();r=t!==h?we(t):(O=r,h)}else O=r,r=h;else O=r,r=h;return r})())===h?null:p)!==h&&(125===f.charCodeAt(O)?(r=w,O++):(r=h,0===L&&F(C)),r!==h)?n=K(l,i,p):(O=c,h))===h)&&(d=O,35===f.charCodeAt(O)?(e=g,O++):(e=h,0===L&&F(m)),(d=e!==h&&(t=(t=v())?void 0:h)!==h?e=N():(O=d,h))===h)){if(d=O,e=[],(t=lt())!==h)for(;t!==h;)e.push(t),t=lt();else e=h;d=e=e!==h?y(e):e}return d}function k(){var e,t,n;if(L++,e=O,t=[],G.test(f.charAt(O))?(n=f.charAt(O),O++):(n=h,0===L&&F(q)),n!==h)for(;n!==h;)t.push(n),G.test(f.charAt(O))?(n=f.charAt(O),O++):(n=h,0===L&&F(q));else t=h;return e=t!==h?f.substring(e,O):t,L--,e===h&&(t=h,0===L)&&F(W),e}function it(){var e,t,n=O;return n=R()!==h&&(e=k())!==h&&R()!==h&&(t=at())!==h?Y(e,t):(O=n,h)}function st(){var e,t,n,r=O;return r=R()!==h&&((e=k())===h&&(e=O,61===f.charCodeAt(O)?(t=re,O++):(t=h,0===L&&F(oe)),e=t!==h&&(n=ct())!==h?t=ne(n):(O=e,h)),(n=e)!==h)&&R()!==h&&(e=at())!==h?Y(n,e):(O=r,h)}function at(){var e,t,n,r,o,i=O;if(123===f.charCodeAt(O)?(e=b,O++):(e=h,0===L&&F(x)),e!==h)if(t=O,(t=(t=(n=R())!==h&&(r=O,L++,123===f.charCodeAt(O)?(o=b,O++):(o=h,0===L&&F(x)),L--,(r=o!==h?void(O=r):h)!==h)?n=[n,r]:(O=t,h))===h?null:t)!==h){for(n=[],r=D();r!==h;)n.push(r),r=D();i=n!==h&&(r=R())!==h&&(125===f.charCodeAt(O)?(o=w,O++):(o=h,0===L&&F(C)),o!==h)?e=J(n):(O=i,h)}else O=i,i=h;else O=i,i=h;return i}function I(){var e,t,n,r;if(L++,e=O,t=[],je.test(f.charAt(O))?(n=f.charAt(O),O++):(n=h,0===L&&F(Se)),n!==h)for(;n!==h;)t.push(n),je.test(f.charAt(O))?(n=f.charAt(O),O++):(n=h,0===L&&F(Se));else t=h;if((e=t=t!==h?Ee(t):t)===h&&(e=d())===h&&(e=O,39===f.charCodeAt(O)?(t=s,O++):(t=h,0===L&&F(a)),(e=t!==h&&(n=p())!==h&&(39===f.charCodeAt(O)?(r=s,O++):(r=h,0===L&&F(a)),r!==h)?t=Te(n):(O=e,h))===h))if(e=O,123===f.charCodeAt(O)?(t=b,O++):(t=h,0===L&&F(x)),t!==h){for(n=[],r=I();r!==h;)n.push(r),r=I();e=n!==h&&(125===f.charCodeAt(O)?(r=w,O++):(r=h,0===L&&F(C)),r!==h)?t=Ae(n):(O=e,h)}else O=e,e=h;return L--,e===h&&(t=h,0===L)&&F(Ce),e}function d(){var e,t;return L++,f.substr(O,2)===Le?(t=Le,O+=2):(t=h,0===L&&F(Fe)),t!==h&&(t=De()),L--,(e=t)===h&&(t=h,0===L)&&F(Oe),e}function p(){var e,t,n;if((e=d())===h){if(e=O,t=[],ke.test(f.charAt(O))?(n=f.charAt(O),O++):(n=h,0===L&&F(Ie)),n!==h)for(;n!==h;)t.push(n),ke.test(f.charAt(O))?(n=f.charAt(O),O++):(n=h,0===L&&F(Ie));else t=h;e=t=t!==h?y(t):t}return e}function ut(){var e,t,n,r,o,i;if(L++,(e=(()=>{var e,t,n,r=O;if(f.substr(O,2)===Re?(e=Re,O+=2):(e=h,0===L&&F(Me)),e!==h){for(t=[],n=p();n!==h;)t.push(n),n=p();r=t!==h&&(39===f.charCodeAt(O)?(n=s,O++):(n=h,0===L&&F(a)),n!==h)?e=Ne(t):(O=r,h)}else O=r,r=h;if(r===h)if(r=O,f.substr(O,2)===Pe?(e=Pe,O+=2):(e=h,0===L&&F(_e)),e!==h){for(t=[],n=p();n!==h;)t.push(n),n=p();r=t!==h&&(39===f.charCodeAt(O)?(n=s,O++):(n=h,0===L&&F(a)),n!==h)?e=Be(t):(O=r,h)}else O=r,r=h;return r})())===h){if(n=t=e=O,f.substr(O,2)===ze?(r=ze,O+=2):(r=h,0===L&&F(He)),r!==h){for(o=[],i=p();i!==h;)o.push(i),i=p();n=o!==h&&(39===f.charCodeAt(O)?(i=s,O++):(i=h,0===L&&F(a)),i!==h)?r=Ve(o):(O=n,h)}else O=n,n=h;(e=t=(t=n!==h&&(r=(r=v())?void 0:h)!==h?n=[n,r]:(O=t,h))!==h?$e(t):t)===h&&(39===f.charCodeAt(O)?(e=s,O++):(e=h,0===L&&F(a)))}return L--,e===h&&(t=h,0===L)&&F(Ue),e}function lt(){var e,t,n;return(e=d())===h&&(e=ut())===h&&(e=O,35===f.charCodeAt(O)?(t=g,O++):(t=h,0===L&&F(m)),(e=t!==h&&(qe(t)?void 0:h)!==h?t=Ye(t):(O=e,h))===h)&&(L++,We.test(f.charAt(O))?(n=f.charAt(O),O++):(n=h,0===L&&F(Ge)),L--,n===h&&0===L&&F(Ke),e=n),e}function ct(){var e,t,n;if(L++,e=O,t=[],Xe.test(f.charAt(O))?(n=f.charAt(O),O++):(n=h,0===L&&F(Ze)),n!==h)for(;n!==h;)t.push(n),Xe.test(f.charAt(O))?(n=f.charAt(O),O++):(n=h,0===L&&F(Ze));else t=h;return e=t!==h?f.substring(e,O):t,L--,e===h&&(t=h,0===L)&&F(Je),e}function R(){var e,t,n;for(L++,e=O,t=[],et.test(f.charAt(O))?(n=f.charAt(O),O++):(n=h,0===L&&F(tt));n!==h;)t.push(n),et.test(f.charAt(O))?(n=f.charAt(O),O++):(n=h,0===L&&F(tt));return e=t!==h?f.substring(e,O):t,L--,e===h&&(t=h,0===L)&&F(Qe),e}var dt,M=[!1];if((e=t())!==h&&O===f.length)return e;throw e!==h&&O<f.length&&F({type:"end"}),t=o,e=n<f.length?f.charAt(n):null,dt=rt(n,n<f.length?n+1:n),new pt(pt.buildMessage(t,e),t,e,dt)}}},function(e,t,n){var r=[{cardinal:["other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["other"]},{cardinal:["one","other"],ordinal:["one","other"]},{cardinal:["one","two","other"],ordinal:["other"]}];void 0!==(n="function"==typeof(r={af:r[1],ak:r[1],am:r[1],ar:{cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},ars:{cardinal:["zero","one","two","few","many","other"],ordinal:["other"]},as:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},asa:r[1],ast:r[1],az:{cardinal:["one","other"],ordinal:["one","few","many","other"]},be:{cardinal:["one","few","many","other"],ordinal:["few","other"]},bem:r[1],bez:r[1],bg:r[1],bh:r[1],bm:r[0],bn:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},bo:r[0],br:{cardinal:["one","two","few","many","other"],ordinal:["other"]},brx:r[1],bs:{cardinal:["one","few","other"],ordinal:["other"]},ca:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ce:r[1],cgg:r[1],chr:r[1],ckb:r[1],cs:{cardinal:["one","few","many","other"],ordinal:["other"]},cy:{cardinal:["zero","one","two","few","many","other"],ordinal:["zero","one","two","few","many","other"]},da:r[1],de:r[1],dsb:{cardinal:["one","two","few","other"],ordinal:["other"]},dv:r[1],dz:r[0],ee:r[1],el:r[1],en:{cardinal:["one","other"],ordinal:["one","two","few","other"]},eo:r[1],es:r[1],et:r[1],eu:r[1],fa:r[1],ff:r[1],fi:r[1],fil:r[2],fo:r[1],fr:r[2],fur:r[1],fy:r[1],ga:{cardinal:["one","two","few","many","other"],ordinal:["one","other"]},gd:{cardinal:["one","two","few","other"],ordinal:["one","two","few","other"]},gl:r[1],gsw:r[1],gu:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},guw:r[1],gv:{cardinal:["one","two","few","many","other"],ordinal:["other"]},ha:r[1],haw:r[1],he:{cardinal:["one","two","many","other"],ordinal:["other"]},hi:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},hr:{cardinal:["one","few","other"],ordinal:["other"]},hsb:{cardinal:["one","two","few","other"],ordinal:["other"]},hu:r[2],hy:r[2],ia:r[1],id:r[0],ig:r[0],ii:r[0],in:r[0],io:r[1],is:r[1],it:{cardinal:["one","other"],ordinal:["many","other"]},iu:r[3],iw:{cardinal:["one","two","many","other"],ordinal:["other"]},ja:r[0],jbo:r[0],jgo:r[1],ji:r[1],jmc:r[1],jv:r[0],jw:r[0],ka:{cardinal:["one","other"],ordinal:["one","many","other"]},kab:r[1],kaj:r[1],kcg:r[1],kde:r[0],kea:r[0],kk:{cardinal:["one","other"],ordinal:["many","other"]},kkj:r[1],kl:r[1],km:r[0],kn:r[1],ko:r[0],ks:r[1],ksb:r[1],ksh:{cardinal:["zero","one","other"],ordinal:["other"]},ku:r[1],kw:r[3],ky:r[1],lag:{cardinal:["zero","one","other"],ordinal:["other"]},lb:r[1],lg:r[1],lkt:r[0],ln:r[1],lo:{cardinal:["other"],ordinal:["one","other"]},lt:{cardinal:["one","few","many","other"],ordinal:["other"]},lv:{cardinal:["zero","one","other"],ordinal:["other"]},mas:r[1],mg:r[1],mgo:r[1],mk:{cardinal:["one","other"],ordinal:["one","two","many","other"]},ml:r[1],mn:r[1],mo:{cardinal:["one","few","other"],ordinal:["one","other"]},mr:{cardinal:["one","other"],ordinal:["one","two","few","other"]},ms:{cardinal:["other"],ordinal:["one","other"]},mt:{cardinal:["one","few","many","other"],ordinal:["other"]},my:r[0],nah:r[1],naq:r[3],nb:r[1],nd:r[1],ne:r[2],nl:r[1],nn:r[1],nnh:r[1],no:r[1],nqo:r[0],nr:r[1],nso:r[1],ny:r[1],nyn:r[1],om:r[1],or:{cardinal:["one","other"],ordinal:["one","two","few","many","other"]},os:r[1],pa:r[1],pap:r[1],pl:{cardinal:["one","few","many","other"],ordinal:["other"]},prg:{cardinal:["zero","one","other"],ordinal:["other"]},ps:r[1],pt:r[1],"pt-PT":r[1],rm:r[1],ro:{cardinal:["one","few","other"],ordinal:["one","other"]},rof:r[1],root:r[0],ru:{cardinal:["one","few","many","other"],ordinal:["other"]},rwk:r[1],sah:r[0],saq:r[1],sc:{cardinal:["one","other"],ordinal:["many","other"]},scn:{cardinal:["one","other"],ordinal:["many","other"]},sd:r[1],sdh:r[1],se:r[3],seh:r[1],ses:r[0],sg:r[0],sh:{cardinal:["one","few","other"],ordinal:["other"]},shi:{cardinal:["one","few","other"],ordinal:["other"]},si:r[1],sk:{cardinal:["one","few","many","other"],ordinal:["other"]},sl:{cardinal:["one","two","few","other"],ordinal:["other"]},sma:r[3],smi:r[3],smj:r[3],smn:r[3],sms:r[3],sn:r[1],so:r[1],sq:{cardinal:["one","other"],ordinal:["one","many","other"]},sr:{cardinal:["one","few","other"],ordinal:["other"]},ss:r[1],ssy:r[1],st:r[1],sv:r[2],sw:r[1],syr:r[1],ta:r[1],te:r[1],teo:r[1],th:r[0],ti:r[1],tig:r[1],tk:{cardinal:["one","other"],ordinal:["few","other"]},tl:r[2],tn:r[1],to:r[0],tr:r[1],ts:r[1],tzm:r[1],ug:r[1],uk:{cardinal:["one","few","many","other"],ordinal:["few","other"]},ur:r[1],uz:r[1],ve:r[1],vi:{cardinal:["other"],ordinal:["one","other"]},vo:r[1],vun:r[1],wa:r[1],wae:r[1],wo:r[0],xh:r[1],xog:r[1],yi:r[1],yo:r[0],yue:r[0],zh:r[0],zu:r[1]})?r.call(t,n,t,e):r)&&(e.exports=n)},function(e,t){function n(e,t,n){var r={day:"numeric",month:"short",year:"numeric"};switch(n){case"full":r.weekday="long";case"long":r.month="long";break;case"short":r.month="numeric"}return new Date(e).toLocaleDateString(t,r)}e.exports=function(){return n}},function(e,t){function n(e){var t,n;return isFinite(e)?(t="",n=(e=e<0?(t="-",Math.abs(e)):Number(e))%60,n=[Math.round(n)===n?n:n.toFixed(3)],e<60?n.unshift(0):(e=Math.round((e-n[0])/60),n.unshift(e%60),60<=e&&(e=Math.round((e-n[0])/60),n.unshift(e))),t+n.shift()+":"+n.map(function(e){return e<10?"0"+String(e):String(e)}).join(":")):String(e)}e.exports=function(){return n}},function(e,t){e.exports=function(e){e=function(e,t,n){var n=n&&n.split(":")||[],r={integer:{maximumFractionDigits:0},percent:{style:"percent"},currency:{style:"currency",currency:n[1]&&n[1].trim()||CURRENCY,minimumFractionDigits:2,maximumFractionDigits:2}};return new Intl.NumberFormat(t,r[n[0]]||{}).format(e)}.toString().replace("CURRENCY",JSON.stringify(e.currency||"USD")).match(/\(([^)]*)\)[^{]*{([\s\S]*)}/);return new Function(e[1],e[2])}},function(e,t){function n(e,t,n){var r={second:"numeric",minute:"numeric",hour:"numeric"};switch(n){case"full":case"long":r.timeZoneName="short";break;case"short":delete r.second}return new Date(e).toLocaleTimeString(t,r)}e.exports=function(){return n}},function(e,t,n){n.r(t);var r=n(1),r=n.n(r),u=n(2),o={break:!0,continue:!0,delete:!0,else:!0,for:!0,function:!0,if:!0,in:!0,new:!0,return:!0,this:!0,typeof:!0,var:!0,void:!0,while:!0,with:!0,case:!0,catch:!0,default:!0,do:!0,finally:!0,instanceof:!0,switch:!0,throw:!0,try:!0},i={debugger:!0,class:!0,enum:!0,extends:!0,super:!0,const:!0,export:!0,import:!0,null:!0,true:!0,false:!0,implements:!0,let:!0,private:!0,public:!0,yield:!0,interface:!0,package:!0,protected:!0,static:!0};function p(e,t){return/^[A-Z_$][0-9A-Z_$]*$/i.test(e)&&!o[e]?t?"".concat(t,".").concat(e):e:(e=JSON.stringify(e),t?t+"[".concat(e,"]"):e)}function f(e){e=e.trim().replace(/\W+/g,"_");return o[e]||i[e]||/^\d/.test(e)?"_"+e:e}var a=new RegExp("^"+["ar","ckb","fa","he","ks($|[^bfh])","lrc","mzn","pa-Arab","ps","ug","ur","uz-Arab","yi"].join("|^"));function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}s(m.prototype,[{key:"compile",value:function(e,t,n){var r,o=this;if("object"!=l(e))return(r=n[this.lc=t]||{cardinal:[],ordinal:[]}).strict=!!this.mf.options.strictNumberSign,r=Object(u.parse)(e,r).map(function(e){return o.token(e)}),"function(d) { return ".concat(r.join(" + ")||'""',"; }");var i,s={};for(i in e){var a=n.hasOwnProperty(i)?i:t;s[i]=this.compile(e[i],a,n)}return s}},{key:"cases",value:function(e,n){var r=this,o="select"===e.type||!this.mf.hasCustomPluralFuncs,t=e.cases.map(function(e){var t=e.key,e=("other"===t&&(o=!1),e.tokens.map(function(e){return r.token(e,n)}));return p(t)+": "+(e.join(" + ")||'""')});if(o)throw new Error("No 'other' form found in "+JSON.stringify(e));return"{ ".concat(t.join(", ")," }")}},{key:"token",value:function(e,t){var n,r=this;if("string"==typeof e)return JSON.stringify(e);var o,i,s=[p(e.arg,"d")];switch(e.type){case"argument":return this.mf.options.biDiSupport?(o=s[0],i=this.lc,i=a.test(i),i=JSON.stringify(i?"":""),"".concat(i," + ").concat(o," + ").concat(i)):s[0];case"select":n="select",t&&this.mf.options.strictNumberSign&&(t=null),s.push(this.cases(e,t)),this.runtime.select=!0;break;case"selectordinal":n="plural",s.push(0,f(this.lc),this.cases(e,e),1),this.locales[this.lc]=!0,this.runtime.plural=!0;break;case"plural":n="plural",s.push(e.offset||0,f(this.lc),this.cases(e,e)),this.locales[this.lc]=!0,this.runtime.plural=!0;break;case"function":if(!(e.key in this.mf.fmt)&&e.key in this.mf.constructor.formatters&&(o=this.mf.constructor.formatters[e.key],this.mf.fmt[e.key]=o(this.mf)),!this.mf.fmt[e.key])throw new Error("Formatting function ".concat(JSON.stringify(e.key)," not found!"));s.push(JSON.stringify(this.lc)),e.param&&(t&&this.mf.options.strictNumberSign&&(t=null),i=e.param.tokens.map(function(e){return r.token(e,t)}),s.push("("+(i.join(" + ")||'""')+").trim()")),n=p(e.key,"fmt"),this.formatters[e.key]=!0;break;case"octothorpe":if(!t)return'"#"';n="number",s=[p(t.arg,"d"),JSON.stringify(t.arg)],t.offset&&s.push(t.offset),this.runtime.number=!0}if(n)return"".concat(n,"(").concat(s.join(", "),")");throw new Error("Parser error for token "+JSON.stringify(e))}}]);var c=m,d=n(3),h=n.n(d),d=n(0),g=n.n(d);function m(e){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.mf=e,this.lc=null,this.locales={},this.runtime={},this.formatters={}}function v(e,t,n){function r(){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},n?(n=h.a[e]||{},r.cardinal=n.cardinal,r.ordinal=n.ordinal):(r.cardinal=[],r.ordinal=[]),r}function y(e,t){for(var n=t.pluralKeyChecks,r=String(e);r;r=r.replace(/[-_]?[^-_]*$/,"")){var o=g.a[r];if(o)return v(r,o,n)}throw new Error("Localisation function not found for locale "+JSON.stringify(e))}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}x(C.prototype,[{key:"setStrictNumber",value:function(e){this.number=e?C.strictNumber:C.defaultNumber}},{key:"toString",value:function(e,t){for(var n={},r=Object.keys(t.locales),o=0;o<r.length;++o){var i=r[o];n[f(i)]=e[i]}for(var s=Object.keys(t.runtime),a=0;a<s.length;++a){var u=s[a];n[u]=this[u]}var l=Object.keys(t.formatters);if(0<l.length){n.fmt={};for(var c=0;c<l.length;++c){var d=l[c];n.fmt[d]=this.mf.fmt[d]}}return function e(t,n){var r;if("object"!=b(t))return r=t.toString().replace(/^(function )\w*/,"$1"),(u=/([ \t]*)\S.*$/.exec(r))?r.replace(new RegExp("^"+u[1],"mg"),""):r;var o,i=[];for(o in t){var s=e(t[o],n+1);i.push(0===n?"var ".concat(o," = ").concat(s,";\n"):"".concat(p(o),": ").concat(s))}if(0===n)return i.join("");if(0===i.length)return"{}";for(var a="  ";--n;)a+="  ";var u=i.join(",\n").replace(/^/gm,a);return"{\n".concat(u,"\n}")}(n,0)}}]);var w=C;function C(e){if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");this.plural=function(e,t,n,r,o){if({}.hasOwnProperty.call(r,e))return r[e];t&&(e-=t);t=n(e,o);return t in r?r[t]:r.other},this.select=function(e,t){return{}.hasOwnProperty.call(t,e)?t[e]:t.other},this.mf=e,this.setStrictNumber(e.options.strictNumberSign)}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t,n){t&&S(e.prototype,t),n&&S(e,n)}w.defaultNumber=function(e,t,n){if(!n)return e;if(isNaN(e))throw new Error("Can't apply offset:"+n+" to argument `"+t+"` with non-numerical value "+JSON.stringify(e)+".");return e-n},w.strictNumber=function(e,t,n){if(isNaN(e))throw new Error("Argument `"+t+"` has non-numerical value "+JSON.stringify(e)+".");return e-(n||0)},n.d(t,"default",function(){return T});E(A,null,[{key:"escape",value:function(e,t){t=t?/[#{}]/g:/[{}]/g;return String(e).replace(t,"'$&'")}}]),E(A,[{key:"addFormatters",value:function(e){for(var t=Object.keys(e),n=0;n<t.length;++n){var r=t[n];this.fmt[r]=e[r]}return this}},{key:"disablePluralKeyChecks",value:function(){for(var e in this.options.pluralKeyChecks=!1,this.pluralFuncs){e=this.pluralFuncs[e];e&&(e.cardinal=[],e.ordinal=[])}return this}},{key:"setBiDiSupport",value:function(e){return this.options.biDiSupport=!!e||void 0===e,this}},{key:"setStrictNumberSign",value:function(e){return this.options.strictNumberSign=!!e||void 0===e,this.runtime.setStrictNumber(this.options.strictNumberSign),this}},{key:"compile",value:function(e,t){var n={};if(0===Object.keys(this.pluralFuncs).length)if(t){var r=y(t,this.options);if(!r)throw o=JSON.stringify(t),new Error("Locale ".concat(o," not found!"));n[t]=r}else t=this.defaultLocale,n=(e=>{for(var t=e.pluralKeyChecks,n={},r=Object.keys(g.a),o=0;o<r.length;++o){var i=r[o];n[i]=v(i,g.a[i],t)}return n})(this.options);else if(t){var o=this.pluralFuncs[t];if(!o)throw r=JSON.stringify(t),i=JSON.stringify(this.pluralFuncs),new Error("Locale ".concat(r," not found in ").concat(i,"!"));n[t]=o}else t=this.defaultLocale,n=this.pluralFuncs;var r=new c(this),i=r.compile(e,t,n);if("object"!=j(e))return new Function("number, plural, select, fmt",f(t),"return "+i)((o=this.runtime).number,o.plural,o.select,this.fmt,n[t]);var s=this.runtime.toString(n,r)+"\n",a=function e(t,n){if(n=n||0,"object"!=j(t))return t;for(var r="",o=0;o<n;++o)r+="  ";var i,s=[];for(i in t){var a=e(t[i],n+1);s.push("\n".concat(r,"  ").concat(p(i),": ").concat(a))}return"{".concat(s.join(","),"\n").concat(r,"}")}(i),e=new Function(s+"return "+a)();if(e.hasOwnProperty("toString"))throw new Error("The top-level message key `toString` is reserved");return e.toString=function(e){return e&&"export default"!==e?-1<e.indexOf(".")?s+e+" = "+a:s+["(function (root, G) {",'  if (typeof define === "function" && define.amd) { define(G); }','  else if (typeof exports === "object") { module.exports = G; }',"  else { "+p(e,"root")+" = G; }","})(this, "+a+");"].join("\n"):s+"export default "+a},e}}]);var T=A;function A(e,t){var n=this;if(!(this instanceof A))throw new TypeError("Cannot call a class as a function");if(this.options=Object.assign({biDiSupport:!1,customFormatters:null,pluralKeyChecks:!0,strictNumberSign:!1},t),this.pluralFuncs={},"string"==typeof e)this.pluralFuncs[e]=y(e,this.options),this.defaultLocale=e;else if(Array.isArray(e))e.forEach(function(e){n.pluralFuncs[e]=y(e,n.options)}),this.defaultLocale=e[0];else{if(e)for(var r=Object.keys(e),o=0;o<r.length;++o){var i,s=r[o];if("function"!=typeof e[s])throw i="Expected function value for locale "+String(s),new Error(i);this.pluralFuncs[s]=e[s],this.defaultLocale||(this.defaultLocale=s)}this.defaultLocale?this.hasCustomPluralFuncs=!0:(this.defaultLocale=A.defaultLocale,this.hasCustomPluralFuncs=!1)}this.fmt=Object.assign({},this.options.customFormatters),this.runtime=new w(this)}T.defaultLocale="en",T.formatters=r.a}],r={},o.m=n,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=8).default;function o(e){var t;return(r[e]||(t=r[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,o),t.l=!0,t)).exports}var n,r},"object"==typeof n&&"object"==typeof t?t.exports=o():"function"==typeof define&&define.amd?define([],o):"object"==typeof n?n.MessageFormat=o():r.MessageFormat=o()},{}],65:[function(e,t,n){var r,o,t=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}function a(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return(r=setTimeout)(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}var u,l=[],c=!1,d=-1;function p(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length)&&f()}function f(){if(!c){for(var e=a(p),t=(c=!0,l.length);t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,!function(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return(o=clearTimeout)(t);try{o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||c||a(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],66:[function(e,n,r){!function(i,s){!function(){var e,t;e=this,t=function(){return n=[function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r="swal-button";t.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:r,CONFIRM_BUTTON:r+"--confirm",CANCEL_BUTTON:r+"--cancel",DANGER_BUTTON:r+"--danger",BUTTON_LOADING:r+"--loading",BUTTON_LOADER:r+"__loader"},t.default=t.CLASS_NAMES},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.getNode=function(e){return document.querySelector("."+e)},t.stringToNode=function(e){var t=document.createElement("div");return t.innerHTML=e.trim(),t.firstChild},t.insertAfter=function(e,t){var n=t.nextSibling;t.parentNode.insertBefore(e,n)},t.removeNode=function(e){e.parentElement.removeChild(e)},t.throwErr=function(e){throw"SweetAlert: "+(e=e.replace(/ +(?= )/g,"")).trim()},t.isPlainObject=function(e){return"[object Object]"===Object.prototype.toString.call(e)&&(null===(e=Object.getPrototypeOf(e))||e===Object.prototype)},t.ordinalSuffixOf=function(e){var t=e%10,n=e%100;return 1==t&&11!=n?e+"st":2==t&&12!=n?e+"nd":3==t&&13!=n?e+"rd":e+"th"}},function(e,n,t){function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(t(25));var o=t(26),o=(n.overlayMarkup=o.default,r(t(27)),r(t(28)),r(t(29)),t(0)),t=o.default.MODAL_TITLE,i=o.default.MODAL_TEXT,s=o.default.ICON,o=o.default.FOOTER;n.iconMarkup='\n  <div class="'+s+'"></div>',n.titleMarkup='\n  <div class="'+t+'"></div>\n',n.textMarkup='\n  <div class="'+i+'"></div>',n.footerMarkup='\n  <div class="'+o+'"></div>\n'},function(e,n,t){Object.defineProperty(n,"__esModule",{value:!0});function s(e,t){return e=(e=>{switch(e){case n.CONFIRM_KEY:return u;case n.CANCEL_KEY:return a;default:var t=e.charAt(0).toUpperCase()+e.slice(1);return Object.assign({},i,{text:t,value:e})}})(e),!0===t?Object.assign({},e,{visible:!0}):"string"==typeof t?Object.assign({},e,{visible:!0,text:t}):o.isPlainObject(t)?Object.assign({visible:!0},e,t):Object.assign({},e,{visible:!1})}function r(e){var t={};switch(e.length){case 1:t[n.CANCEL_KEY]=Object.assign({},a,{visible:!1});break;case 2:t[n.CANCEL_KEY]=s(n.CANCEL_KEY,e[0]),t[n.CONFIRM_KEY]=s(n.CONFIRM_KEY,e[1]);break;default:o.throwErr("Invalid number of 'buttons' in array ("+e.length+").\n      If you want more than 2 buttons, you need to use an object!")}return t}var o=t(1),i=(n.CONFIRM_KEY="confirm",n.CANCEL_KEY="cancel",{visible:!0,text:null,value:null,className:"",closeModal:!0}),a=Object.assign({},i,{visible:!1,text:"Cancel",value:null}),u=Object.assign({},i,{text:"OK",value:!0});n.defaultButtonList={cancel:a,confirm:u};n.getButtonListOpts=function(e){var t=n.defaultButtonList;return"string"==typeof e?t[n.CONFIRM_KEY]=s(n.CONFIRM_KEY,e):Array.isArray(e)?t=r(e):o.isPlainObject(e)?t=(e=>{for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var o=r[n],i=e[o],i=s(o,i);t[o]=i}return t.cancel||(t.cancel=a),t})(e):!0===e?t=r([!0,!0]):!1===e?t=r([!1,!1]):void 0===e&&(t=n.defaultButtonList),t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e,t){(n=e).className=a,n.textContent="";var n=t.className;n&&e.classList.add(n)}var o=n(1),i=n(2),s=n(0),a=s.default.MODAL,u=s.default.OVERLAY,l=n(30),c=n(31),d=n(32),p=n(33);t.injectElIntoModal=function(e){var t=o.getNode(a),e=o.stringToNode(e);return t.appendChild(e),e},t.initModalContent=function(e){var t=o.getNode(a);r(t,e),l.default(e.icon),c.initTitle(e.title),c.initText(e.text),p.default(e.content),d.default(e.buttons,e.dangerMode)};t.default=function(){var e=o.getNode(u),t=o.stringToNode(i.modalMarkup);e.appendChild(t)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),o={isOpen:!1,promise:null,actions:{},timer:null},i=Object.assign({},o),s=(t.resetState=function(){i=Object.assign({},o)},t.setActionValue=function(e){if("string"==typeof e)return s(r.CONFIRM_KEY,e);for(var t in e)s(t,e[t])},function(e,t){i.actions[e]||(i.actions[e]={}),Object.assign(i.actions[e],{value:t})});t.setActionOptionsFor=function(e,t){t=(void 0===t?{}:t).closeModal;Object.assign(i.actions[e],{closeModal:void 0===t||t})},t.default=i},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(3),i=n(0),s=i.default.OVERLAY,a=i.default.SHOW_MODAL,u=i.default.BUTTON,l=i.default.BUTTON_LOADING,c=n(5);t.openModal=function(){r.getNode(s).classList.add(a),c.default.isOpen=!0};t.onAction=function(e){void 0===e&&(e=o.CANCEL_KEY);var t=c.default.actions[e],n=t.value;!1===t.closeModal?r.getNode(u+"--"+e).classList.add(l):(r.getNode(s).classList.remove(a),c.default.isOpen=!1),c.default.promise.resolve(n)},t.getState=function(){var e=Object.assign({},c.default);return delete e.promise,delete e.timer,e},t.stopLoading=function(){for(var e=document.querySelectorAll("."+u),t=0;t<e.length;t++)e[t].classList.remove(l)}},function(e,t){var n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(t,e,n){!function(e){t.exports=e.sweetAlert=n(9)}.call(e,n(7))},function(t,e,n){!function(e){t.exports=e.swal=n(10)}.call(e,n(7))},function(e,t,n){"undefined"!=typeof window&&n(11),n(16);n=n(23).default;e.exports=n},function(e,t,n){var r=n(12),o=("string"==typeof r&&(r=[[e.i,r,""]]),{insertAt:"top"});o.transform=void 0,n(14)(r,o),r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(13)(void 0)).push([e.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button[not:disabled]:hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel[not:disabled]:hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger[not:disabled]:hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(e,t){function r(e,t){var n=e[1]||"",r=e[3];return r?(t&&"function"==typeof btoa?(e="/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */",[n].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([e])):[n]).join("\n"):n}e.exports=function(n){var s=[];return s.toString=function(){return this.map(function(e){var t=r(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},s.i=function(e,t){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&n[i[0]]||(t&&!i[2]?i[2]=t:t&&(i[2]="("+i[2]+") and ("+t+")"),s.push(i))}},s}},function(e,t,n){function u(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=g[r.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](r.parts[i]);for(;i<r.parts.length;i++)o.parts.push(f(r.parts[i],t))}else{for(var s=[],i=0;i<r.parts.length;i++)s.push(f(r.parts[i],t));g[r.id]={id:r.id,refs:1,parts:s}}}}function l(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],s=t.base?i[0]+t.base:i[0],i={css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(i):n.push(r[s]={id:s,parts:[i]})}return n}function a(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function c(e){null!==e.parentNode&&(e.parentNode.removeChild(e),0<=(e=b.indexOf(e)))&&b.splice(e,1)}function d(e){var t=document.createElement("style");return e.attrs.type="text/css",p(t,e.attrs),a(e,t),t}function p(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function f(t,e){var n,r,o,i,s;if(e.transform&&t.css){if(!(i=e.transform(t.css)))return function(){};t.css=i}return o=e.singleton?(i=y++,n=v=v||d(e),r=h.bind(null,n,i,!1),h.bind(null,n,i,!0)):t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=e,s=document.createElement("link"),i.attrs.type="text/css",i.attrs.rel="stylesheet",p(s,i.attrs),a(i,s),n=s,r=function(e,t,n){var r=n.css,n=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&n,t=((t.convertToAbsoluteUrls||o)&&(r=x(r)),n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */"),new Blob([r],{type:"text/css"})),o=e.href;e.href=URL.createObjectURL(t),o&&URL.revokeObjectURL(o)}.bind(null,n,e),function(){c(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(e),r=function(e,t){var n=t.css,t=t.media;if(t&&e.setAttribute("media",t),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),function(){c(n)}),r(t),function(e){e?e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap||r(t=e):o()}}function h(e,t,n,r){var n=n?"":r.css;e.styleSheet?e.styleSheet.cssText=w(t,n):(r=document.createTextNode(n),(n=e.childNodes)[t]&&e.removeChild(n[t]),n.length?e.insertBefore(r,n[t]):e.appendChild(r))}var r,o,i,g={},m=function(){return o=void 0===o?function(){return window&&document&&document.all&&!window.atob}.apply(this,arguments):o},s=(r={},function(e){return void 0===r[e]&&(r[e]=function(e){return document.querySelector(e)}.call(this,e)),r[e]}),v=null,y=0,b=[],x=n(15),w=(e.exports=function(e,s){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(s=s||{}).attrs="object"==typeof s.attrs?s.attrs:{},s.singleton||(s.singleton=m()),s.insertInto||(s.insertInto="head"),s.insertAt||(s.insertAt="bottom");var a=l(e,s);return u(a,s),function(e){for(var t=[],n=0;n<a.length;n++){var r=a[n];(o=g[r.id]).refs--,t.push(o)}e&&u(l(e,s),s);for(var o,n=0;n<t.length;n++)if(0===(o=t[n]).refs){for(var i=0;i<o.parts.length;i++)o.parts[i]();delete g[o.id]}}},i=[],function(e,t){return i[e]=t,i.filter(Boolean).join("\n")})},function(e,t){e.exports=function(e){var n,r,t="undefined"!=typeof window&&window.location;if(t)return e&&"string"==typeof e?(n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/"),e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){t=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(t)?e:(e=0===t.indexOf("//")?t:0===t.indexOf("/")?n+t:r+t.replace(/^\.\//,""),"url("+JSON.stringify(e)+")")})):e;throw new Error("fixUrls requires window.location")}},function(e,t,n){var r=n(17);"undefined"==typeof window||window.Promise||(window.Promise=r),n(21),String.prototype.includes||(String.prototype.includes=function(e,t){return!((t="number"!=typeof t?0:t)+e.length>this.length)&&-1!==this.indexOf(e,t)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0!=r)for(var o,i,t=0|t,s=Math.max(0<=t?t:r-Math.abs(t),0);s<r;){if((o=n[s])===(i=e)||"number"==typeof o&&"number"==typeof i&&isNaN(o)&&isNaN(i))return!0;s++}return!1}}),"undefined"!=typeof window&&[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})},function(d,e,t){!function(t){function r(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function o(n,r){for(;3===n._state;)n=n._value;if(0===n._state)return n._deferreds.push(r);n._handled=!0,i._immediateFn(function(){var e,t=1===n._state?r.onFulfilled:r.onRejected;if(null===t)(1===n._state?s:a)(r.promise,n._value);else{try{e=t(n._value)}catch(e){return void a(r.promise,e)}s(r.promise,e)}})}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void u(e);if("function"==typeof n)return void c((r=n,o=t,function(){r.apply(o,arguments)}),e)}e._state=1,e._value=t,u(e)}catch(t){a(e,t)}var r,o}function a(e,t){e._state=2,e._value=t,u(e)}function u(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)o(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,a(t,e))})}catch(e){n||(n=!0,a(t,e))}}var e,n;e=this,n=setTimeout,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return o(this,new l(e,t,n)),n},i.all=function(e){var a=Array.prototype.slice.call(e);return new i(function(o,i){if(0===a.length)return o([]);for(var s=a.length,e=0;e<a.length;e++)!function t(n,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if("function"==typeof r)return r.call(e,function(e){t(n,e)},i)}a[n]=e,0==--s&&o(a)}catch(e){i(e)}}(e,a[e])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(o){return new i(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},i._immediateFn="function"==typeof t?function(e){t(e)}:function(e){n(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==d&&d.exports?d.exports=i:e.Promise||(e.Promise=i)}.call(e,t(18).setImmediate)},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var o=Function.prototype.apply;t.setTimeout=function(){return new r(o.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(o.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(19),t.setImmediate=i,t.clearImmediate=s},function(e,t,n){!function(e,t){function i(e){delete l[e]}function s(e){if(c)setTimeout(s,0,e);else{var t=l[e];if(t){c=!0;try{var n=t,r=n.callback,o=n.args;switch(o.length){case 0:r();break;case 1:r(o[0]);break;case 2:r(o[0],o[1]);break;case 3:r(o[0],o[1],o[2]);break;default:r.apply(a,o)}}finally{i(e),c=!1}}}}function n(e){e.source===r&&"string"==typeof e.data&&0===e.data.indexOf(h)&&s(+e.data.slice(h.length))}var r,a,o,u,l,c,d,p,f,h;(r="undefined"==typeof self?void 0===e?this:e:self).setImmediate||(u=1,c=!(l={}),d=r.document,e=(e=Object.getPrototypeOf&&Object.getPrototypeOf(r))&&e.setTimeout?e:r,o="[object process]"==={}.toString.call(r.process)?function(e){t.nextTick(function(){s(e)})}:(()=>{var e,t;if(r.postMessage&&!r.importScripts)return e=!0,t=r.onmessage,r.onmessage=function(){e=!1},r.postMessage("","*"),r.onmessage=t,e})()?(h="setImmediate$"+Math.random()+"$",r.addEventListener?r.addEventListener("message",n,!1):r.attachEvent("onmessage",n),function(e){r.postMessage(h+e,"*")}):r.MessageChannel?((f=new MessageChannel).port1.onmessage=function(e){s(e.data)},function(e){f.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(p=d.documentElement,function(e){var t=d.createElement("script");t.onreadystatechange=function(){s(e),t.onreadystatechange=null,p.removeChild(t),t=null},p.appendChild(t)}):function(e){setTimeout(s,0,e)},e.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];return l[u]={callback:e,args:t},o(u),u++},e.clearImmediate=i)}.call(t,n(7),n(20))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(l===setTimeout)return setTimeout(t,0);if((l===n||!l)&&setTimeout)return(l=setTimeout)(t,0);try{return l(t,0)}catch(e){try{return l.call(null,t,0)}catch(e){return l.call(this,t,0)}}}function i(){f&&d&&(f=!1,d.length?p=d.concat(p):h=-1,p.length)&&s()}function s(){if(!f){var e=o(i);f=!0;for(var t=p.length;t;){for(d=p,p=[];++h<t;)d&&d[h].run();h=-1,t=p.length}d=null,f=!1,function(t){if(c===clearTimeout)return clearTimeout(t);if((c===r||!c)&&clearTimeout)return(c=clearTimeout)(t);try{c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}(e)}}function a(e,t){this.fun=e,this.array=t}function u(){}var l,c,e=e.exports={};try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{c="function"==typeof clearTimeout?clearTimeout:r}catch(e){c=r}var d,p=[],f=!1,h=-1;e.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new a(e,t)),1!==p.length||f||o(s)},a.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={},e.on=u,e.addListener=u,e.once=u,e.off=u,e.removeListener=u,e.removeAllListeners=u,e.emit=u,e.prependListener=u,e.prependOnceListener=u,e.listeners=function(e){return[]},e.binding=function(e){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(e){throw new Error("process.chdir is not supported")},e.umask=function(){return 0}},function(e,t,n){n(22).polyfill()},function(e,t,n){function r(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),s=0,a=i.length;s<a;s++){var u=i[s],l=Object.getOwnPropertyDescriptor(o,u);void 0!==l&&l.enumerable&&(n[u]=o[u])}}return n}e.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(){for(var n,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if("undefined"!=typeof window)return n=a.getOpts.apply(void 0,e),new Promise(function(e,t){s.default.promise={resolve:e,reject:t},o.default(n),setTimeout(function(){i.openModal()})})}var o=n(24),i=n(6),s=n(5),a=n(36);r.close=i.onAction,r.getState=i.getState,r.setActionValue=s.setActionValue,r.stopLoading=i.stopLoading,r.setDefaults=a.setDefaults,t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(0).default.MODAL,i=n(4),s=n(34),a=n(35),u=n(1);t.init=function(e){r.getNode(o)||(document.body||u.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),s.default(),i.default()),i.initModalContent(e),a.default(e)},t.default=t.init},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});n=n(0).default.MODAL;t.modalMarkup='\n  <div class="'+n+'" role="dialog" aria-modal="true"></div>',t.default=t.modalMarkup},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});n=n(0).default.OVERLAY;t.default='<div \n    class="'+n+'"\n    tabIndex="-1">\n  </div>'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(0).default.ICON;t.errorIconMarkup=function(){var e=r+"--error",t=e+"__line";return'\n    <div class="'+e+'__x-mark">\n      <span class="'+t+" "+t+'--left"></span>\n      <span class="'+t+" "+t+'--right"></span>\n    </div>\n  '},t.warningIconMarkup=function(){var e=r+"--warning";return'\n    <span class="'+e+'__body">\n      <span class="'+e+'__dot"></span>\n    </span>\n  '},t.successIconMarkup=function(){var e=r+"--success";return'\n    <span class="'+e+"__line "+e+'__line--long"></span>\n    <span class="'+e+"__line "+e+'__line--tip"></span>\n\n    <div class="'+e+'__ring"></div>\n    <div class="'+e+'__hide-corners"></div>\n  '}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});n=n(0).default.CONTENT;t.contentMarkup='\n  <div class="'+n+'">\n\n  </div>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var n=n(0),r=n.default.BUTTON_CONTAINER,o=n.default.BUTTON,n=n.default.BUTTON_LOADER;t.buttonMarkup='\n  <div class="'+r+'">\n\n    <button\n      class="'+o+'"\n    ></button>\n\n    <div class="'+n+'">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  </div>\n'},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o=n(4),i=n(2),n=n(0),s=n.default.ICON,a=n.default.ICON_CUSTOM,u=["error","warning","success","info"],l={error:i.errorIconMarkup(),warning:i.warningIconMarkup(),success:i.successIconMarkup()};t.default=function(e){var t,n,r;e&&(t=o.injectElIntoModal(i.iconMarkup),u.includes(e)?(r=e,(n=t).classList.add(s+"--"+r),(r=l[r])&&(n.innerHTML=r)):(n=e,(r=t).classList.add(a),(e=document.createElement("img")).src=n,r.appendChild(e)))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function o(e){navigator.userAgent.includes("AppleWebKit")&&(e.style.display="none",e.style.display="")}var i=n(2),s=n(4);t.initTitle=function(e){var t;e&&((t=s.injectElIntoModal(i.titleMarkup)).textContent=e,o(t))},t.initText=function(e){var r;e&&(r=document.createDocumentFragment(),e.split("\n").forEach(function(e,t,n){r.appendChild(document.createTextNode(e)),t<n.length-1&&r.appendChild(document.createElement("br"))}),(e=s.injectElIntoModal(i.textMarkup)).appendChild(r),o(e))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),s=n(4),r=n(0),l=r.default.BUTTON,c=r.default.DANGER_BUTTON,d=n(3),p=n(2),f=n(6),h=n(5);t.default=function(e,t){var n,r=s.injectElIntoModal(p.footerMarkup);for(n in e){var o=e[n],i=((e,t,n)=>{var r=t.text,o=t.value,i=t.className,t=t.closeModal,s=u.stringToNode(p.buttonMarkup),a=s.querySelector("."+l);return a.classList.add(l+"--"+e),i&&(Array.isArray(i)?i:i.split(" ")).filter(function(e){return 0<e.length}).forEach(function(e){a.classList.add(e)}),n&&e===d.CONFIRM_KEY&&a.classList.add(c),a.textContent=r,(i={})[e]=o,h.setActionValue(i),h.setActionOptionsFor(e,{closeModal:t}),a.addEventListener("click",function(){return f.onAction(e)}),s})(n,o,t);o.visible&&r.appendChild(i)}0===r.children.length&&r.remove()}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),l=n(4),c=n(2),o=n(5),i=n(6),d=n(0).default.CONTENT,p=function(e){e.addEventListener("input",function(e){e=e.target.value;o.setActionValue(e)}),e.addEventListener("keyup",function(e){if("Enter"===e.key)return i.onAction(r.CONFIRM_KEY)}),setTimeout(function(){e.focus(),o.setActionValue("")},0)};t.default=function(e){if(e){var t=l.injectElIntoModal(c.contentMarkup),n=e.element,e=e.attributes;if("string"==typeof n){var r,o=t,i=n,s=e,a=document.createElement(i);for(r in a.classList.add(d+"__"+i),s){var u=s[r];a[r]=u}"input"===i&&p(a),o.appendChild(a)}else t.appendChild(n)}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=n(2);t.default=function(){var e=r.stringToNode(o.overlayMarkup);document.body.appendChild(e)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function r(e){if(o.default.isOpen&&"Escape"===e.key)return i.onAction(a.CANCEL_KEY)}var o=n(5),i=n(6),s=n(1),a=n(3),n=n(0),u=n.default.MODAL,l=n.default.BUTTON,c=n.default.OVERLAY,d=function(e){e.preventDefault(),g()},p=function(e){e.preventDefault(),m()},f=function(e){if(o.default.isOpen&&"Tab"===e.key)return d(e)},h=function(e){return o.default.isOpen&&"Tab"===e.key&&e.shiftKey?p(e):void 0},g=function(){var e=s.getNode(l);e&&(e.tabIndex=0,e.focus())},m=function(){var e=s.getNode(u).querySelectorAll("."+l),e=e[e.length-1];e&&e.focus()},v=function(e){e[e.length-1].addEventListener("keydown",f)},y=function(e){e[0].addEventListener("keydown",h)},b=function(e){if(s.getNode(c)===e.target)return i.onAction(a.CANCEL_KEY)};t.default=function(e){var t,n;e.closeOnEsc?document.addEventListener("keyup",r):document.removeEventListener("keyup",r),(e.dangerMode?g:m)(),(n=s.getNode(u).querySelectorAll("."+l)).length&&(v(n),y(n)),n=e.closeOnClickOutside,(t=s.getNode(c)).removeEventListener("click",b),n&&t.addEventListener("click",b),n=e.timer,o.default.timer&&clearTimeout(o.default.timer),n&&(o.default.timer=window.setTimeout(function(){return i.onAction(a.CANCEL_KEY)},n))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});function s(e,t){u.throwErr(h(t)+" argument ('"+e+"') is invalid")}function a(e,t){t=t[e+=1],u.isPlainObject(t)||void 0===t||u.throwErr("Expected "+h(e)+" argument ('"+t+"') to be a plain object")}function i(e,t,n,r){var o="string"==typeof t,i=t instanceof Element;return o?0===n?{text:t}:1===n?{text:t,title:r[0]}:2===n?(a(n,r),{icon:t}):void s(t,n):i&&0===n?(a(n,r),{content:t}):u.isPlainObject(t)?(o=n,void 0!==(i=(i=r)[o+=1])&&u.throwErr("Unexpected "+h(o)+" argument ("+i+")"),t):void s(t,n)}var u=n(1),l=n(3),c=n(37),d=n(38),p={title:null,text:null,icon:null,buttons:l.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},f=Object.assign({},p),h=(t.setDefaults=function(e){f=Object.assign({},p,e)},function(e){return u.ordinalSuffixOf(e+1)});t.getOpts=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var r={},t=(n.forEach(function(e,t){e=i(0,e,t,n);Object.assign(r,e)}),t=(o=r)&&o.button,o=o&&o.buttons,void 0!==t&&void 0!==o&&u.throwErr("Cannot set both 'button' and 'buttons' options!"),void 0!==t?{confirm:t}:o),o=(r.buttons=l.getButtonListOpts(t),delete r.button,r.content=c.getContentOpts(r.content),Object.assign({},p,f,r));return Object.keys(o).forEach(function(e){d.DEPRECATED_OPTS[e]&&d.logDeprecation(e)}),o}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o={element:"input",attributes:{placeholder:""}};t.getContentOpts=function(e){return r.isPlainObject(e)?Object.assign({},e):e instanceof Element?{element:e}:"input"===e?o:null}},function(e,i,t){Object.defineProperty(i,"__esModule",{value:!0}),i.logDeprecation=function(e){var t=i.DEPRECATED_OPTS[e],n=t.onlyRename,r=t.replacement,o=t.subOption,t=t.link,e='SweetAlert warning: "'+e+'" option has been '+(n?"renamed":"deprecated")+".",n=(r&&(e+=" Please use"+(o?' "'+o+'" in ':" ")+'"'+r+'" instead.'),"https://sweetalert.js.org");e+=t?" More details: "+n+t:" More details: "+n+"/guides/#upgrading-from-1x",console.warn(e)},i.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}],o={},r.m=n,r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8);function r(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},n[e].call(t.exports,t,t.exports,r),t.l=!0,t)).exports}var n,o},"object"==typeof r&&"object"==typeof n?n.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof r?r.swal=t():e.swal=t()}.call(this)}.call(this,e("timers").setImmediate,e("timers").clearImmediate)},{timers:67}],67:[function(u,e,l){!function(n,a){!function(){var r=u("process/browser.js").nextTick,e=Function.prototype.apply,o=Array.prototype.slice,i={},s=0;function t(e,t){this._id=e,this._clearFn=t}l.setTimeout=function(){return new t(e.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new t(e.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(e){e.close()},t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},l.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},l._unrefActive=l.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},l.setImmediate="function"==typeof n?n:function(e){var t=s++,n=!(arguments.length<2)&&o.call(arguments,1);return i[t]=!0,r(function(){i[t]&&(n?e.apply(null,n):e.call(null),l.clearImmediate(t))}),t},l.clearImmediate="function"==typeof a?a:function(e){delete i[e]}}.call(this)}.call(this,u("timers").setImmediate,u("timers").clearImmediate)},{"process/browser.js":65,timers:67}],68:[function(e,t,n){function r(e){var o=e;return{putToAutoDefineHelper:function(e,t){var n=o,r=i.getConf();e.get(r.i18nDomainVarName)&&(n+=r.inDefineDelimiter+r.i18nDomainVarName),"["!==n[0]&&(n="["+n+"]"),t.put(r.i18nDomainVarName,n)},dependsOn:function(){return[]},update:function(){},toString:function(){return o},type:r.id}}var i=e("../../context.js");r.id="i18n:domain",r.build=function(e){return e?new r(e.trim()):null},t.exports=r},{"../../context.js":87}],69:[function(e,t,n){function r(e){var t=e;return{putToAutoDefineHelper:function(e){e.put(o.getConf().i18nLanguageVarName,t)},dependsOn:function(){return[]},update:function(){},toString:function(){return"I18NLanguage: "+t},type:r.id}}var o=e("../../context.js");r.id="i18n:language",r.build=function(e){return e?new r(e.trim()):null},t.exports=r},{"../../context.js":87}],70:[function(e,t,n){function r(e){var t=e;return{process:function(e,t){return!(t.style.display="none")},dependsOn:function(){return[]},toString:function(){return"METALDefineMacro: "+t},type:r.id}}r.id="metal:define-macro",r.build=function(e){return new r(e.trim())},t.exports=r},{}],71:[function(r,e,t){function s(e,t,n){var r=e,o=t,i=n;return{process:function(){},dependsOn:function(e){return a.buildDependsOnList(void 0,e,o)},update:function(e){e.updateNode(i)},toString:function(){return"METALFillSlot: "+r},type:s.id}}var a=r("../../expressions/expressionsUtils.js");s.id="metal:fill-slot",s.build=function(e,t){var n=r("../../expressions/expressionBuilder.js");return new s(e,n.build(e),t)},e.exports=s},{"../../expressions/expressionBuilder.js":106,"../../expressions/expressionsUtils.js":108}],72:[function(r,e,t){function o(e,t,n){var r=e,d=t,p=n;return{process:function(e,t,n,r){var o=b.getMacroKey(d,e),i=f.getTags(),s=b.getNode(o,e),a=(t.style.display="none",s.removeAttribute("style"),s),u=i,l=t,c=r;return v.updateAttribute(a,p),(o=b.getMacroData(o)).url&&(n.put(f.getConf().externalMacroUrlVarName,"'"+o.url+"'"),n.updateNode(a)),c&&a.setAttribute(u.relatedId,l.getAttribute(u.id)),((e,t,n,r,o)=>{for(var i=t.querySelectorAll("["+b.filterSelector(n.metalFillSlot)+"]"),s=0;c=i[s++];){var a=c.getAttribute(n.metalFillSlot),u=h.build(a).evaluate(e);if(o&&(l=m.getByAttributeClass(y,a,c,o,e,function(){return y.build(a,t)}),g.add(c,l,e)),!u)return;var l=c.cloneNode(!0),c=r.querySelector("["+b.filterSelector(n.metalDefineSlot)+"='"+u+"']");if(!c)throw'Slot "'+u+'" in expression "'+a+'" not found!';c.parentNode.insertBefore(l,c.nextSibling),l.removeAttribute(n.metalFillSlot),l.setAttribute(n.id,f.nextExpressionCounter()),c.remove()}})(e,t,i,s,r),t.parentNode.insertBefore(s,t.nextSibling),s},dependsOn:function(e){return i.buildDependsOnList(void 0,e,d)},update:function(e,t){e.updateNode(t)},toString:function(){return"METALUseMacro: "+r},type:o.id}}var f=r("../../context.js"),h=r("../../expressions/expressionBuilder.js"),i=r("../../expressions/expressionsUtils.js"),g=r("../attributeIndex.js"),m=r("../../cache/attributeCache.js"),v=r("../TAL/talDefine.js"),y=r("./metalFillSlot.js"),b=r("../../resolver.js");o.id="metal:use-macro",o.build=function(e,t){var n=r("../../expressions/expressionBuilder.js");return new o(e,n.build(e.trim()),t?t.trim():void 0)},e.exports=o},{"../../cache/attributeCache.js":84,"../../context.js":87,"../../expressions/expressionBuilder.js":106,"../../expressions/expressionsUtils.js":108,"../../resolver.js":157,"../TAL/talDefine.js":78,"../attributeIndex.js":83,"./metalFillSlot.js":71}],73:[function(e,t,n){var r,i=e("../../context.js"),s=e("../../expressions/expressionBuilder.js"),o=e("../../expressions/evaluateHelper.js");t.exports=(r={BUTTON:1,LABEL:1,LEGEND:1,FIELDSET:1,OPTION:1},{build:function(e,t,n){var r=t.trim(),o=0===r.indexOf(i.getConf().htmlStructureExpressionPrefix+" "),r=o?r.substr(1+i.getConf().htmlStructureExpressionPrefix.length):r;if(r)return n(t,s.build(r),o,r);throw e+" expression void."},updateNode:function(e,t,n){return o.isDefault(n)||(o.isNothing(n)&&(n=""),e.innerHTML=n,t)||(e["form"in e&&!r[e.tagName]?"value":"innerText"]=n),!0}})},{"../../context.js":87,"../../expressions/evaluateHelper.js":104,"../../expressions/expressionBuilder.js":106}],74:[function(u,e,t){function l(e,t){function o(e,t,n){for(var r=0;r<c.length;r++){var o=c[r],i=o.name;if(!n||i===n){o=o.expression.evaluate(e);if(i)d(t,i,o);else{l=u=a=s=void 0;var s=t,a=o;if(a){if(!f.isPlainObject(a))throw'Invalid attribute value: "'+a+'". Object expected.';for(var u in a){var l=a[u];d(s,u,l)}}}}}}var n=e,c=t,d=function(e,t,n){if(p.isBooleanAttribute(t))n?e.setAttribute(t,""):e.removeAttribute(t);else if(null!=n)if(p.isAltAttribute(t))switch(t){case"innerHTML":throw e;case"style":e.style.cssText=n;break;case"class":t="className";default:e[t]=n}else e.setAttribute(t,n)};return{process:o,dependsOn:function(e){for(var t=[],n={},r=0;r<c.length;r++){var o=c[r],i=s.buildDependsOnList(void 0,e,o.expression);i&&0<i.length&&(n[o.name]=i)}return 0<Object.keys(n).length&&t.push(n),t},update:function(e,t,n,r){o(n,t,r.groupId)},toString:function(){return"TALAttributes: "+n},type:l.id}}var p=u("../../context.js"),c=u("../../expressions/expressionTokenizer.js"),s=u("../../expressions/expressionsUtils.js"),f=u("../../utils.js");l.id="tal:attributes",l.build=function(e){for(var t=u("../../expressions/expressionBuilder.js"),n=[],r=e.trim(),o=new c(r,p.getConf().attributeDelimiter,!0);o.hasMoreTokens();){var i=o.nextToken().trim(),s=i.indexOf(p.getConf().inAttributeDelimiter),a=(-1===s&&n.push({name:void 0,expression:t.build(i)}),i.substring(0,s)),i=i.substring(s+1).trim();n.push({name:a,expression:t.build(i)})}return new l(e,n)},e.exports=l},{"../../context.js":87,"../../expressions/expressionBuilder.js":106,"../../expressions/expressionTokenizer.js":107,"../../expressions/expressionsUtils.js":108,"../../utils.js":161}],75:[function(n,e,t){function o(e,t){var n=e,r=t;return{process:function(e,t){e=i.evaluateBoolean(e,r);return t.setAttribute(a.getTags().conditionResult,e),t.style.display=e?"":"none",e},dependsOn:function(e){return s.buildDependsOnList(void 0,e,r)},update:function(e,t){e.updateNode(t,!0)},updatableFromAction:function(e,t){e=e.getNodeScope(t);return i.evaluateBoolean(e,r)!==("true"===t.getAttribute(a.getTags().conditionResult))},toString:function(){return"TALCondition: "+n},type:o.id}}var i=n("../../expressions/evaluateHelper.js"),s=n("../../expressions/expressionsUtils.js"),a=n("../../context.js");o.id="tal:condition",o.build=function(e){var t=n("../../expressions/expressionBuilder.js");return new o(e,t.build(e))},e.exports=o},{"../../context.js":87,"../../expressions/evaluateHelper.js":104,"../../expressions/expressionBuilder.js":106,"../../expressions/expressionsUtils.js":108}],76:[function(e,t,n){function a(e,t,n){function r(e,t){return l.updateNode(t,s,u.evaluateToNotNull(e,i))}var o=e,i=t,s=n;return{process:r,dependsOn:function(e){return c.buildDependsOnList(void 0,e,i)},update:function(e,t,n){r(n,t)},toString:function(){return"TALContent: "+o},type:a.id}}var u=e("../../expressions/evaluateHelper.js"),l=e("./contentHelper.js"),c=e("../../expressions/expressionsUtils.js");a.id="tal:content",a.build=function(e){return l.build("TALContent",e,function(e,t,n){return new a(e,t,n)})},t.exports=a},{"../../expressions/evaluateHelper.js":104,"../../expressions/expressionsUtils.js":108,"./contentHelper.js":73}],77:[function(p,e,t){function h(e,t){var n=e,d=t,p=function(e,t,n,r,o,i){var s=[],a=e.get(t);if(void 0===a&&void 0!==i){o=c(e,t,n,o,i);if(o)return s.push(o),s;a=e.get(t)}i=u(t,n,a),i&&s.push(i),o=l(t,r,a);return o&&s.push(o),s},u=function(e,t,n){var r;if(t)return(r=o(n))!==t.toLowerCase()&&"Expected value type ("+t.toLowerCase()+") of "+e+" property does not match type ("+r+'), value is "'+n+'".'},o=function(e){var t={}.toString.call(e).split(" ")[1].slice(0,-1).toLowerCase();return"object"===t?e.constructor.name.toLowerCase():t},l=function(e,t,n){return!0===t&&void 0===n&&"Required value must not be undefined: "+e},c=function(e,t,n,r,o){try{var i=o.evaluate(e);return e.set(t,i),!1}catch(e){return"Error trying to evaluate default value of field "+t+", expression ["+r+"]: "+e}},f=function(e){if(0!==e.length)throw e};return{process:function(e,t){var n=e,r=g.getConf().strictModeVarName;!0!==n.get(r)&&t.put(r,"true");for(var r=g.getConf().declaredVarsVarName,o=n.get(r)||[],i=0;i<d.length;i++){var s=d[i];o.push(s.name)}t.put(r,m.buildList(o,!0));for(var a=e,u=[],l=0;l<d.length;l++){var c=d[l],c=p(a,c.name,c.type,c.required,c.defaultValueString,c.defaultValueExpression);u=u.concat(c)}return f(u),0===u.length},dependsOn:function(){return[]},update:function(){},toString:function(){return"TALDeclare: "+n},type:h.id}}var g=p("../../context.js"),f=p("../../expressions/expressionTokenizer.js"),m=p("../../expressions/expressionsUtils.js");h.id="tal:declare",h.build=function(e){for(var t=p("../../expressions/expressionBuilder.js"),n=[],r=["undefined","null"],o=new f(e.trim(),g.getConf().declareDelimiter,!0);o.hasMoreTokens();){for(var i=new f(o.nextToken().trim(),g.getConf().inDeclareDelimiter,!0),s=void 0,a=void 0,u=void 0,l=!1,c=1;i.hasMoreTokens();){var d=i.nextToken();if(h.tokenIsRequired(d))l=!0;else{switch(c){case 1:s=d;break;case 2:-1===r.indexOf(d.toLowerCase())&&(a=d);break;case 3:u=d;break;default:throw"Too many arguments in talDeclare item: "+e.trim()}++c}}s&&n.push({name:s,type:a,required:l,defaultValueString:u,defaultValueExpression:null==u?void 0:t.build(u)})}return new h(e,n)},h.tokenIsRequired=function(e){return"required"===e.toLowerCase()},e.exports=h},{"../../context.js":87,"../../expressions/expressionBuilder.js":106,"../../expressions/expressionTokenizer.js":107,"../../expressions/expressionsUtils.js":108}],78:[function(f,e,t){function h(e,t){var n=e,o=t;return{process:function(e,t){for(var n=0;n<o.length;n++){var r=o[n];e.set(r.name,r.nocall?r.expression:r.expression.evaluate(e),t||r.global,r.nocall,r.expression)}},dependsOn:function(){return[]},update:function(){},toString:function(){return"TALDefine: "+n},type:h.id}}var g=f("../../context.js"),m=f("../../expressions/expressionTokenizer.js");h.id="tal:define",h.build=function(e){for(var t=f("../../expressions/expressionBuilder.js"),n=[],r=e.trim(),o=new m(r,g.getConf().defineDelimiter,!0);o.hasMoreTokens();){var i=o.nextToken().trim(),s=i.indexOf(g.getConf().inDefineDelimiter);if(-1===s)throw"Bad variable definition: "+i;var a=!1,u=!1,l=i.substring(0,s),c=i.substring(s+1).trim(),d=!1;do{var p=!1}while(g.getConf().globalVariableExpressionPrefix===l?p=u=!0:g.getConf().nocallVariableExpressionPrefix===l&&(p=a=!0),p?(s=c.indexOf(g.getConf().inDefineDelimiter),l=c.substring(0,s),c=c.substring(s+1).trim()):(n.push({name:l,expression:t.build(c),global:u,nocall:a}),d=!0),!d&&-1!==s)}return new h(e,n)},h.appendStrings=function(){for(var e=arguments[0],t=1;t<arguments.length;++t){var n=arguments[t];n&&(e=e?e+g.getConf().defineDelimiter+n:n)}return e},h.updateAttribute=function(e,t){var n=g.getTags(),r=e.getAttribute(n.talDefine),t=h.appendStrings(t,r);t&&e.setAttribute(n.talDefine,t)},e.exports=h},{"../../context.js":87,"../../expressions/expressionBuilder.js":106,"../../expressions/expressionTokenizer.js":107}],79:[function(r,e,t){function o(e,t){var n=e,i=t;return{process:function(e,t,n){if(!i.evaluate(e))return!1;n.defaultContent(t);for(var r=a.getTags(),o=t.parentNode;t.firstChild;)1===t.firstChild.nodeType&&t.firstChild.setAttribute(r.qdup,1),o.appendChild(t.firstChild);return o.removeChild(t),!0},dependsOn:function(e){return s.buildDependsOnList(void 0,e,i)},update:function(){},toString:function(){return"TALOmitTag: "+n},type:o.id}}var i=r("../../expressions/path/literals/booleanLiteral.js"),s=r("../../expressions/expressionsUtils.js"),a=r("../../context.js");o.id="tal:omit-tag",o.build=function(e){var t=r("../../expressions/expressionBuilder.js"),n=e.trim(),t=""==n?new i(!0):t.build(n);return new o(e,t)},e.exports=o},{"../../context.js":87,"../../expressions/expressionBuilder.js":106,"../../expressions/expressionsUtils.js":108,"../../expressions/path/literals/booleanLiteral.js":119}],80:[function(e,t,n){function o(e,t){var n=e,r=t;return{putToAutoDefineHelper:function(e){e.put(i.getConf().onErrorVarName,n,!0),e.put(i.getConf().onErrorStructureVarName,r,!1)},dependsOn:function(){return[]},update:function(){},toString:function(){return"TALOnError: "+n},type:o.id}}var i=e("../../context.js"),r=e("./contentHelper.js");o.id="tal:on-error",o.build=function(e){return r.build("TALOnError",e,function(e,t,n,r){return new o(r,n)})},t.exports=o},{"../../context.js":87,"./contentHelper.js":73}],81:[function(e,t,n){function a(e,t,n){var r=e,o=t,i=n,s=l.build(i);return{process:function(e){return new c(o,i,e)},dependsOn:function(e){return u.buildDependsOnList(void 0,e,s)},update:function(e,t){e.updateNode(t)},toString:function(){return"TALRepeat: "+r},type:a.id,getExpressionString:function(){return i},getVarName:function(){return o}}}var u=e("../../expressions/expressionsUtils.js"),l=e("../../expressions/expressionBuilder.js"),c=e("../../parsers/loop.js");a.id="tal:repeat",a.build=function(e){var t=e.trim(),n=t.indexOf(" ");if(-1===n)throw"Bad repeat expression: "+t;var r=t.substring(0,n),t=t.substring(n+1);return new a(e,r,t)},t.exports=a},{"../../expressions/expressionBuilder.js":106,"../../expressions/expressionsUtils.js":108,"../../parsers/loop.js":148}],82:[function(e,t,n){function s(e,t,n){var r=e,o=t,i=n;return{process:function(e,t){var e=a.evaluateToNotNull(e,o);return a.isDefault(e)||(a.isNothing(e)&&(e=""),i?t.outerHTML=e:(e=t.ownerDocument.createTextNode(e),t.parentNode.replaceChild(e,t))),!0},dependsOn:function(e){return u.buildDependsOnList(void 0,e,o)},update:function(){},toString:function(){return"TALReplace: "+r},type:s.id}}var a=e("../../expressions/evaluateHelper.js"),r=e("./contentHelper.js"),u=e("../../expressions/expressionsUtils.js");s.id="tal:replace",s.build=function(e){return r.build("TALReplace",e,function(e,t,n){return new s(e,t,n)})},t.exports=s},{"../../expressions/evaluateHelper.js":104,"../../expressions/expressionsUtils.js":108,"./contentHelper.js":73}],83:[function(e,t,n){var s,o,i,a,u,l,c=e("../utils.js"),d=e("../context.js");function r(){s={}}t.exports=(r(),o=function(e,t,n,r){for(var o=0;o<n.length;o++)a(e,t,n[o],r)},i=function(e,t,n){for(var r in n)a(e,t,n[r],r)},a=function(e,t,n,r){c.isPlainObject(n)?i(e,t,n):(Array.isArray(n)?o:u)(e,t,n,r)},u=function(e,t,n,r){var o=s[n],i=(o||(s[n]=o=[]),{attributeInstance:t,nodeId:e.getAttribute(d.getTags().id),groupId:r}),n=o.findIndex(function(e){return c.deepEqual(e,i)});-1===n?o.push(i):o[n]=i},l=function(e){return window.document.querySelector("["+d.getTags().id+'="'+e+'"]')},{add:function(e,t,n){o(e,t,t.dependsOn(n))},getVarsList:function(e){e=s[e];if(void 0===e)return[];for(var t=e,n=[],r=0;r<t.length;++r)l(t[r].nodeId)||n.push(r);for(var o=n.length-1;0<=o;--o){var i=n[o];t.splice(i,1)}return[].concat(e)},reset:r})},{"../context.js":87,"../utils.js":161}],84:[function(e,t,n){var o,l,c,d,i=e("./cacheHelper.js"),p=e("../context.js"),f=e("../logHelper.js"),r=e("../attributes/attributeIndex.js");function s(){o={}}t.exports=(s(),l=function(e,t){e=o[e];return e?e[i.hashCode(t)]:null},c=function(e,t,n){var r=o[e];r||(o[e]=r={}),r[i.hashCode(t)]=n},d=function(e,t,n){return e?(f.debug("Must index!"),r.add(e,t,n)):f.debug("Not indexed!"),t},{getByAttributeClass:function(e,t,n,r,o,i){var s=e.id,a=t,i=i||function(){return e.build(t)},u=!1,r=r?n:void 0,n=o;if(f.debug('Request building of ZPT attribute "'+a+'", force "'+u+'"'),u||!p.getConf().attributeCacheOn)f.debug("Cache OFF!");else{f.debug("Cache ON!");u=l(s,a);if(u)return f.debug("Found in cache!"),d(r,u,n);f.debug("NOT found in cache!")}return f.debug("Must build!"),u=i(),c(s,a,u),d(r,u,n)},reset:s})},{"../attributes/attributeIndex.js":83,"../context.js":87,"../logHelper.js":134,"./cacheHelper.js":85}],85:[function(e,t,n){t.exports={hashCode:function(e){if(Array.prototype.reduce)return e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0);var t=0;if(0!==e.length)for(var n=0,r=e.length;n<r;n++){t=(t<<5)-t+e.charCodeAt(n);t|=0}return t}}},{}],86:[function(e,t,n){var r,o,i,s;t.exports=(r=e("./cacheHelper.js"),o=e("../context.js"),i=e("../logHelper.js"),s={},{get:function(e,t,n){if(i.debug('Request building of expression "'+e+'", force "'+n+'"'),!n&&o.getConf().expressionCacheOn){i.debug("Cache ON!");n=s[r.hashCode(e)];if(n)return i.debug("Found in cache!"),n;i.debug("NOT found in cache!")}else i.debug("Cache OFF!");i.debug("Must build!");n=t();return t=n,s[r.hashCode(e)]=t,n},clean:function(){s={}}})},{"../context.js":87,"../logHelper.js":134,"./cacheHelper.js":85}],87:[function(e,t,n){var r,o,i,s,a,u,l,c,d,p,f,h,g,m,v,y,b=e("log4javascript"),x=e("./utils.js"),w=e("./parsers/loopItem.js"),e=e("./parsers/dictionaryActions/cssAnimationManager.js");function C(e){i=e,s=""}t.exports=(o={talCondition:"tal:condition",talRepeat:"tal:repeat",talAttributes:"tal:attributes",talContent:"tal:content",talDefine:"tal:define",talAutoDefine:"tal:auto-define",talOmitTag:"tal:omit-tag",talReplace:"tal:replace",talOnError:"tal:on-error",talDeclare:"tal:declare",metalDefineMacro:"metal:define-macro",metalUseMacro:"metal:use-macro",metalDefineSlot:"metal:define-slot",metalFillSlot:"metal:fill-slot",metalMacro:"data-mmacro",i18nDomain:"i18n:domain",i18nLanguage:"i18n:language",rootKey:"data-root-key",qdup:"data-qdup",id:"data-id",relatedId:"data-related-id",conditionResult:"data-condition-result"},i={talCondition:"data-condition",talRepeat:"data-repeat",talAttributes:"data-attributes",talContent:"data-content",talDefine:"data-define",talAutoDefine:"data-tauto-define",talOmitTag:"data-omit-tag",talReplace:"data-replace",talOnError:"data-on-error",talDeclare:"data-declare",metalDefineMacro:"data-define-macro",metalUseMacro:"data-use-macro",metalDefineSlot:"data-define-slot",metalFillSlot:"data-fill-slot",metalMacro:"data-mmacro",i18nDomain:"data-domain",i18nLanguage:"data-language",rootKey:"data-root-key",qdup:"data-qdup",id:"data-id",relatedId:"data-related-id",conditionResult:"data-condition-result"},s="",u={pathDelimiter:"|",pathSegmentDelimiter:"/",expressionDelimiter:" ",intervalDelimiter:":",propertyDelimiter:"/",defineDelimiter:";",inDefineDelimiter:" ",attributeDelimiter:";",inAttributeDelimiter:" ",domainDelimiter:" ",i18nOptionsDelimiter:";",inI18nOptionsDelimiter:" ",argumentsDelimiter:",",macroDelimiter:"@",declareDelimiter:";",inDeclareDelimiter:" ",i18nConfResourceId:"/CONF/",htmlStructureExpressionPrefix:"structure",globalVariableExpressionPrefix:"global",nocallVariableExpressionPrefix:"nocall",templateErrorVarName:"error",onErrorVarName:"_on-error",onErrorStructureVarName:"_on-error-structure",i18nDomainVarName:"_i18nDomain",i18nLanguageVarName:"_i18nLanguage",externalMacroUrlVarName:"_externalMacroUrl",strictModeVarName:"_strictMode",declaredVarsVarName:"_declaredVars",repeatVarName:"_repeat",windowVarName:"window",contextVarName:"context",nothingVarName:"nothing",defaultVarName:"default",nothingVarValue:"___nothing___",defaultVarValue:"___default___",loggingOn:!(a={lowerCase:function(e){return e.toLocaleLowerCase()},upperCase:function(e){return e.toLocaleUpperCase()},localeDate:function(e){return e.toLocaleDateString},localeTime:function(e){return e.toLocaleTimeString},localeString:function(e,t){return t?e.toLocaleString(e,t):e.toLocaleString(e)},fix:function(e,t){return e.toFixed(t)}}),loggingLevel:b.Level.ERROR,externalMacroPrefixURL:"",variableNameRE:/^[A-Za-z0-9_/-]+$/,expressionCacheOn:!0,attributeCacheOn:!0,expressionSuffix:":",stringExpression:"string:",existsExpression:"exists:",notExpression:"not:",javaScriptExpression:"js:",equalsExpression:"eq:",greaterExpression:"gt:",lowerExpression:"lt:",addExpression:"+:",subExpression:"-:",mulExpression:"*:",divExpression:"/:",modExpression:"%:",orExpression:"or:",andExpression:"and:",condExpression:"cond:",formatExpression:"format:",trExpression:"tr:",trNumberExpression:"trNumber:",trCurrencyExpression:"trCurrency:",trDateTimeExpression:"trDate:",inExpression:"in:",queryExpression:"query:",pathExpression:"",firstIndexIdentifier:"_first_",lastIndexIdentifier:"_last_"},l=function(){return u},c={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1},d={className:1,class:1,href:1,htmlFor:1,id:1,innerHTML:1,label:1,style:1,src:1,text:1,title:1,value:1},x.extend(d,c),h=!(f=[]),m=g=0,v=e,y={getTags:function(){return i},setTags:C,getTal:function(){if(""===s){var e,t=0,n=i.qdup;for(e in i)n!==i[e]&&(0<t++&&(s+=","),s+="*["+i[e]+"]")}return s},getFormatter:function(e){return a[e]},registerFormatter:function(e,t){a[e]=t},unregisterFormatter:function(e){delete a[e]},getConf:l,setConf:function(e){u=e},getLogger:function(){var e;return!r&&l().loggingOn&&((e=b.getDefaultLogger()).setLevel(l().loggingLevel),r=e),r},setLogger:function(e){r=e},useOriginalTags:function(){C(o)},getBooleanAttributes:function(){return c},setBooleanAttributes:function(e){c=e},isBooleanAttribute:function(e){return 1===c[e]},getAltAttributes:function(){return d},setAltAttributes:function(e){d=e},isAltAttribute:function(e){return 1===d[e]},errorFunction:p=function(e){e=Array.isArray(e)?e.join("\n"):e;throw window.alert(e),e},setErrorFunction:function(e){y.errorFunction=e},asyncError:function(e,t,n){e="Error trying to get "+e+": "+t;(n||p)(e)},repeat:function(e,t,n){return new w(e,t,n)},setFolderDictionaries:function(e){f=e},getFolderDictionaries:function(){return f},setStrictMode:function(e){h=e},isStrictMode:function(){return h},nextExpressionCounter:function(){return++g},setExpressionCounter:function(e){g=e},nextRunCounter:function(){return++m},getAnimationManager:function(){return v},setAnimationManager:function(e){v=e}})},{"./parsers/dictionaryActions/cssAnimationManager.js":144,"./parsers/loopItem.js":149,"./utils.js":161,log4javascript:63}],88:[function(e,t,n){function o(e,t){var n=e,r=t;return{evaluate:function(e){return i.evaluate(n,e,r,o.mathOperation,function(e,t){return e+t})},dependsOn:function(e,t){return s.buildDependsOnList(e,t,r)},toString:function(){return n}}}var r=e("../../context.js"),i=e("./arithmethicHelper.js"),s=e("../expressionsUtils.js");o.removePrefix=!0,o.getPrefix=function(){return r.getConf().addExpression},o.getId=o.mathOperation="add",o.build=function(e){var t=i.build(e,o.mathOperation);return new o(e,t)},t.exports=o},{"../../context.js":87,"../expressionsUtils.js":108,"./arithmethicHelper.js":89}],89:[function(r,e,t){function d(e,t,n,r,o,i){if(s.isNumber(t))return 0==e?Number(t):r(n,Number(t));throw"Error trying doing math operation, value '"+t+"' is not a valid number in expression '"+o+" "+i+"'"}var o,i,s;e.exports=(o=r("../../context.js"),i=r("../expressionTokenizer.js"),s=r("../evaluateHelper.js"),{build:function(e,t){var n=r("../expressionBuilder.js");if(0===e.length)throw t+" expression void.";t=new i(e,o.getConf().expressionDelimiter,!1);return n.buildList(t)},evaluate:function(e,t,n,r,o){for(var i=0,s=0,a=0;a<n.length;a++){var u=n[a],l=u.evaluate(t);if(Array.isArray(l))for(var c=0;c<l.length;c++)i=d(s++,l[c],i,o,r,u);else i=d(s++,l,i,o,r,u)}if(s<2)throw'Error in expression "'+e+'". Only one element in evaluation of "'+r+'" expression, please add at least one more.';return i}})},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionBuilder.js":106,"../expressionTokenizer.js":107}],90:[function(e,t,n){function o(e,t){var n=e,r=t;return{evaluate:function(e){return i.evaluate(n,e,r,o.mathOperation,function(e,t){return e/t})},dependsOn:function(e,t){return s.buildDependsOnList(e,t,r)},toString:function(){return n}}}var r=e("../../context.js"),i=e("./arithmethicHelper.js"),s=e("../expressionsUtils.js");o.removePrefix=!0,o.getPrefix=function(){return r.getConf().divExpression},o.getId=o.mathOperation="divide",o.build=function(e){var t=i.build(e,o.mathOperation);return new o(e,t)},t.exports=o},{"../../context.js":87,"../expressionsUtils.js":108,"./arithmethicHelper.js":89}],91:[function(e,t,n){function o(e,t){var n=e,r=t;return{evaluate:function(e){return i.evaluate(n,e,r,o.mathOperation,function(e,t){return e%t})},dependsOn:function(e,t){return s.buildDependsOnList(e,t,r)},toString:function(){return n}}}var r=e("../../context.js"),i=e("./arithmethicHelper.js"),s=e("../expressionsUtils.js");o.removePrefix=!0,o.getPrefix=function(){return r.getConf().modExpression},o.getId=o.mathOperation="mod",o.build=function(e){var t=i.build(e,o.mathOperation);return new o(e,t)},t.exports=o},{"../../context.js":87,"../expressionsUtils.js":108,"./arithmethicHelper.js":89}],92:[function(e,t,n){function o(e,t){var n=e,r=t;return{evaluate:function(e){return i.evaluate(n,e,r,o.mathOperation,function(e,t){return e*t})},dependsOn:function(e,t){return s.buildDependsOnList(e,t,r)},toString:function(){return n}}}var r=e("../../context.js"),i=e("./arithmethicHelper.js"),s=e("../expressionsUtils.js");o.removePrefix=!0,o.getPrefix=function(){return r.getConf().mulExpression},o.getId=o.mathOperation="multiply",o.build=function(e){var t=i.build(e,o.mathOperation);return new o(e,t)},t.exports=o},{"../../context.js":87,"../expressionsUtils.js":108,"./arithmethicHelper.js":89}],93:[function(e,t,n){function o(e,t){var n=e,r=t;return{evaluate:function(e){return i.evaluate(n,e,r,o.mathOperation,function(e,t){return e-t})},dependsOn:function(e,t){return s.buildDependsOnList(e,t,r)},toString:function(){return n}}}var r=e("../../context.js"),i=e("./arithmethicHelper.js"),s=e("../expressionsUtils.js");o.removePrefix=!0,o.getPrefix=function(){return r.getConf().subExpression},o.getId=o.mathOperation="substract",o.build=function(e){var t=i.build(e,o.mathOperation);return new o(e,t)},t.exports=o},{"../../context.js":87,"../expressionsUtils.js":108,"./arithmethicHelper.js":89}],94:[function(n,e,t){function r(e,t){var n=e,r=t;return{evaluate:function(e){for(var t=0;t<r.length;t++){var n=r[t];if(!i.evaluateBoolean(e,n))return!1}return!0},dependsOn:function(e,t){return s.buildDependsOnList(e,t,r)},toString:function(){return n}}}var o=n("../../context.js"),i=n("../evaluateHelper.js"),s=n("../expressionsUtils.js");r.removePrefix=!0,r.getId=r.getPrefix=function(){return o.getConf().andExpression},r.build=function(e){var t=n("./boolHelper.js").build(e,"And");return new r(e,t)},e.exports=r},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionsUtils.js":108,"./boolHelper.js":95}],95:[function(e,t,n){var r,o,i;t.exports=(r=e("../../context.js"),o=e("../expressionTokenizer.js"),i=e("../expressionBuilder.js"),{build:function(e,t){e=e.trim();if(0===e.length)throw t+" expression void.";var n=new o(e,r.getConf().expressionDelimiter,!1);if(1===n.countTokens())throw'Syntax error in expression "'+e+'". Only one element in '+t+" expression, please add at least one more.";return i.buildList(n)}})},{"../../context.js":87,"../expressionBuilder.js":106,"../expressionTokenizer.js":107}],96:[function(r,e,t){function o(e,t,n,r){var o=e,i=t,s=n,a=r;return{evaluate:function(e){return(l.evaluateBoolean(e,i)?s:a).evaluate(e)},dependsOn:function(e,t){return u.buildDependsOnList(e,t,i,s,a)},toString:function(){return o}}}var i=r("../../context.js"),s=r("../expressionTokenizer.js"),u=r("../expressionsUtils.js"),l=r("../evaluateHelper.js");o.removePrefix=!0,o.getId=o.getPrefix=function(){return i.getConf().condExpression},o.build=function(e){var t=r("../expressionBuilder.js"),e=e.trim();if(0===e.length)throw"Cond expression void.";var n=new s(e,i.getConf().expressionDelimiter,!1);if(3!==n.countTokens())throw'Syntax error in cond expression "'+e+'". 3 element are needed.';return new o(e,t.build(n.nextToken()),t.build(n.nextToken()),t.build(n.nextToken()))},e.exports=o},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108}],97:[function(n,e,t){function r(e,t){var n=e,r=t;return{evaluate:function(e){return!i.evaluateBoolean(e,r)},dependsOn:function(e,t){return s.buildDependsOnList(e,t,r)},toString:function(){return n}}}var o=n("../../context.js"),i=n("../evaluateHelper.js"),s=n("../expressionsUtils.js");r.removePrefix=!0,r.getId=r.getPrefix=function(){return o.getConf().notExpression},r.build=function(e){var t=n("../expressionBuilder.js").build(e);return new r(e,t)},e.exports=r},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionBuilder.js":106,"../expressionsUtils.js":108}],98:[function(n,e,t){function r(e,t){var n=e,r=t;return{evaluate:function(e){for(var t=0;t<r.length;t++){var n=r[t];if(i.evaluateBoolean(e,n))return!0}return!1},dependsOn:function(e,t){return s.buildDependsOnList(e,t,r)},toString:function(){return n}}}var o=n("../../context.js"),i=n("../evaluateHelper.js"),s=n("../expressionsUtils.js");r.removePrefix=!0,r.getId=r.getPrefix=function(){return o.getConf().orExpression},r.build=function(e){var t=n("./boolHelper.js").build(e,"Or");return new r(e,t)},e.exports=r},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionsUtils.js":108,"./boolHelper.js":95}],99:[function(o,e,t){var i,s,r;e.exports=(i=o("../../context.js"),s=o("../expressionTokenizer.js"),r=o("../evaluateHelper.js"),{build:function(e,t){var n=o("../expressionBuilder.js"),e=e.trim();if(0===e.length)throw t+" expression void.";var r=new s(e,i.getConf().expressionDelimiter,!1);if(2!==r.countTokens())throw'Wrong number of elements in expression "'+e+'", '+t+" expressions only support two.";return{expression1:n.build(r.nextToken()),expression2:n.build(r.nextToken())}},evaluate:function(e,t,n){return{number1:r.evaluateNumber(e,t),number2:r.evaluateNumber(e,n)}}})},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionBuilder.js":106,"../expressionTokenizer.js":107}],100:[function(r,e,t){function o(e,t){var n=e,r=t;return{evaluate:function(e){for(var t=r[0].evaluate(e),n=1;n<r.length;n++)if(t!=r[n].evaluate(e))return!1;return!0},dependsOn:function(e,t){return a.buildDependsOnList(e,t,r)},toString:function(){return n}}}var i=r("../../context.js"),s=r("../expressionTokenizer.js"),a=r("../expressionsUtils.js");o.removePrefix=!0,o.getId=o.getPrefix=function(){return i.getConf().equalsExpression},o.build=function(e){var t=r("../expressionBuilder.js"),e=e.trim();if(0===e.length)throw"Equals expression void.";var n=new s(e,i.getConf().expressionDelimiter,!1);if(1===n.countTokens())throw'Only one element in equals expression "'+e+'", please add at least one more.';return new o(e,t.buildList(n))},e.exports=o},{"../../context.js":87,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108}],101:[function(e,t,n){function r(e,t,n){var r=e,o=t,i=n;return{evaluate:function(e){e=s.evaluate(e,o,i);return e.number1>e.number2},dependsOn:function(e,t){return a.buildDependsOnList(e,t,o,i)},toString:function(){return r}}}var o=e("../../context.js"),s=e("./comparisonHelper.js"),a=e("../expressionsUtils.js");r.removePrefix=!0,r.getId=r.getPrefix=function(){return o.getConf().greaterExpression},r.build=function(e){var t=s.build(e,"greater");return new r(e,t.expression1,t.expression2)},t.exports=r},{"../../context.js":87,"../expressionsUtils.js":108,"./comparisonHelper.js":99}],102:[function(r,e,t){function o(e,t){var n=e,i=t;return{evaluate:function(e){for(var t=i[0].evaluate(e),n=1;n<i.length;n++){var r=i[n].evaluate(e);if(Array.isArray(r)){for(var o=0;o<r.length;o++)if(t==r[o])return!0}else if(t==r)return!0}return!1},dependsOn:function(e,t){return a.buildDependsOnList(e,t,i)},toString:function(){return n}}}var i=r("../../context.js"),s=r("../expressionTokenizer.js"),a=r("../expressionsUtils.js");o.removePrefix=!0,o.getId=o.getPrefix=function(){return i.getConf().inExpression},o.build=function(e){var t=r("../expressionBuilder.js"),e=e.trim();if(0===e.length)throw"In expression void.";var n=new s(e,i.getConf().expressionDelimiter,!1);if(1===n.countTokens())throw'Only one element in in expression "'+e+'", please add at least one more.';return new o(e,t.buildList(n))},e.exports=o},{"../../context.js":87,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108}],103:[function(e,t,n){function r(e,t,n){var r=e,o=t,i=n;return{evaluate:function(e){e=s.evaluate(e,o,i);return e.number1<e.number2},dependsOn:function(e,t){return a.buildDependsOnList(e,t,o,i)},toString:function(){return r}}}var o=e("../../context.js"),s=e("./comparisonHelper.js"),a=e("../expressionsUtils.js");r.removePrefix=!0,r.getId=r.getPrefix=function(){return o.getConf().lowerExpression},r.build=function(e){var t=s.build(e,"lower");return new r(e,t.expression1,t.expression2)},t.exports=r},{"../../context.js":87,"../expressionsUtils.js":108,"./comparisonHelper.js":99}],104:[function(e,t,n){var r=e("../context.js");function o(e){return!isNaN(parseFloat(e))||!isFinite(e)}t.exports={evaluateToNotNull:function(e,t){t=t.evaluate(e);return null==t?"undefined":t},evaluateBoolean:function(e,t){t=t.evaluate(e);return void 0!==t&&null!=t&&"false"!=t&&0!=t},evaluateNumber:function(e,t,n){e=t.evaluate(e);if(o(e))return e;throw n||'Expression "'+t+'" is not a valid number.'},isNumber:o,evaluateExpressionList:function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(o.evaluate(t))}return n},isDefault:function(e){return e===r.getConf().defaultVarValue},isNothing:function(e){return e===r.getConf().nothingVarValue}}},{"../context.js":87}],105:[function(n,e,t){function r(e,t){var n=e,r=t;return{evaluate:function(e){try{return void 0!==r.evaluate(e)}catch(e){return!1}},dependsOn:function(e,t){return i.buildDependsOnList(e,t,r)},toString:function(){return n}}}var o=n("../context.js"),i=n("./expressionsUtils.js");r.removePrefix=!0,r.getId=r.getPrefix=function(){return o.getConf().existsExpression},r.build=function(e){var t=n("./expressionBuilder.js").build(e);return new r(e,t)},e.exports=r},{"../context.js":87,"./expressionBuilder.js":106,"./expressionsUtils.js":108}],106:[function(e,t,n){function r(e,t){!(u[t||e.getPrefix()||e.getId()]=e).removePrefix&&e.getPrefix()&&(l[e.getPrefix()]=e)}function o(i,e){return a.get(i,function(){var e=i,t=(e=p(e.trim())).indexOf(s.getConf().expressionSuffix),n=void 0,r=!1,t=(r=-1===t||(n=e.substring(0,t)+":",!u.hasOwnProperty(n)),!1),o=void 0,o=(r?o=d(e):t=!0,o||u[n]),r=void 0;return r=t&&o.removePrefix?e.substr(n.length):e,o.build(r)},e)}var s,i,a,u,l,c,d,p;t.exports=(s=e("../context.js"),i=e("./expressionTokenizer.js"),t=e("./path/pathExpression.js"),a=e("../cache/expressionCache.js"),u={},l={},c=t.getId(),r(e("./existsExpression.js")),r(e("./formatExpression.js")),r(e("./stringExpression.js")),r(e("./path/pathExpression.js")),r(e("./comparison/equalsExpression.js")),r(e("./comparison/greaterExpression.js")),r(e("./comparison/lowerExpression.js")),r(e("./comparison/inExpression.js")),r(e("./arithmethic/addExpression.js")),r(e("./arithmethic/substractExpression.js")),r(e("./arithmethic/multiplyExpression.js")),r(e("./arithmethic/divideExpression.js")),r(e("./arithmethic/modExpression.js")),r(e("./bool/andExpression.js")),r(e("./bool/condExpression.js")),r(e("./bool/notExpression.js")),r(e("./bool/orExpression.js")),r(e("./i18n/trCurrencyExpression.js")),r(e("./i18n/trDateTimeExpression.js")),r(e("./i18n/trNumberExpression.js")),r(e("./i18n/trStringExpression.js")),r(e("./scripting/javascriptExpression.js")),r(e("./scripting/queryExpression.js")),d=function(e){for(var t in l)if(0===e.indexOf(t))return l[t];return u[c]},{register:r,unregister:function(e,t){delete u[t||e.getPrefix()||e.getId()]},registerAll:void 0,build:o,buildList:function(e){for(var t=[];e.hasMoreTokens();)t.push(o(e.nextToken().trim()));return t},removePrefix:function(e,t){return e.substr(t.length)},removePrefixAndBuild:function(e,t){return o(e.substr(t.length))},removeParenthesisIfAny:p=function(e){e=e.trim();return""!=e&&"("===e.charAt(0)?p(e.substring(1,e.lastIndexOf(")")).trim()):e},endsWith:function(e,t){return-1!==e.indexOf(t,e.length-t.length)},getArgumentsFromString:function(e){for(var t=new i(e,s.getConf().argumentsDelimiter,!0),n=[];t.hasMoreTokens();){var r=t.nextToken().trim();n.push(o(r))}return n}})},{"../cache/expressionCache.js":86,"../context.js":87,"./arithmethic/addExpression.js":88,"./arithmethic/divideExpression.js":90,"./arithmethic/modExpression.js":91,"./arithmethic/multiplyExpression.js":92,"./arithmethic/substractExpression.js":93,"./bool/andExpression.js":94,"./bool/condExpression.js":96,"./bool/notExpression.js":97,"./bool/orExpression.js":98,"./comparison/equalsExpression.js":100,"./comparison/greaterExpression.js":101,"./comparison/inExpression.js":102,"./comparison/lowerExpression.js":103,"./existsExpression.js":105,"./expressionTokenizer.js":107,"./formatExpression.js":109,"./i18n/trCurrencyExpression.js":110,"./i18n/trDateTimeExpression.js":111,"./i18n/trNumberExpression.js":113,"./i18n/trStringExpression.js":114,"./path/pathExpression.js":123,"./scripting/javascriptExpression.js":128,"./scripting/queryExpression.js":129,"./stringExpression.js":130}],107:[function(i,e,t){e.exports=function(e,c,d){function t(){return o<f.length}function n(){var e,t;return p.hasNext()?(e=p.next(),e=parseInt(e),t=f.substring(o,e).trim(),o=e+1,h--):(t=f.substring(o).trim(),o=f.length),r(t)}var p,r=i("./expressionBuilder.js").removeParenthesisIfAny,f=e.trim(),o=0,h=0,g=[];(()=>{for(var e,t,n=" "===c,r=0,o=!1,i="",s=f.length,a=0;a<s;a++){var u=f.charAt(a);if(u===c){if(0===r&&!o){if(n&&(i===c||"\n"===i))continue;var l=a+1<s?f.charAt(a+1):"";d&&l===c?(f=f.substring(0,a+1)+f.substring(a+2),s--):(h++,g.push(a))}}else if("("===u||"["===u)r++;else if(")"===u||"]"===u){if(--r<0)throw"Syntax error. Unmatched right parenthesis: "+f}else"'"===u&&(o=!o);i=u}if(0<r)throw"Syntax error: unmatched left parenthesis: "+f;if(o)throw"Syntax error: runaway quotation: "+f;e=g,t=0,p={next:function(){return t<e.length?e[t++]:void 0},hasNext:function(){return t<e.length}}})();return{hasMoreTokens:t,nextToken:n,countTokens:function(){return t()?h+1:0},nextTokenIfAny:function(e){return t()?n():e}}}},{"./expressionBuilder.js":106}],108:[function(e,t,n){var a,u,r=e("./evaluateHelper.js"),o=e("../utils.js"),i=e("../parsers/depsDataItem.js");t.exports=(a=function(e,t,n){var r=[];if(n){if(!Array.isArray(n))return u(e,t,n);for(var o=n,i=0;i<o.length;i++)var s=o[i],r=r.concat(Array.isArray(s)?a(t,s):u(e,t,s))}return r},u=function(e,t,n){return!o.isFunction(n.dependsOn)||o.isFunction(n.getVarName)&&e===n.getVarName()?[]:n.dependsOn(e,t)},{buildLiteral:function(e){return r.isNumber(e)?""+e:"'"+e+"'"},buildList:function(e,t){for(var n="[",r=t?"'":"",o=0;o<e.length;o++)n+=r+e[o]+r+" ";return n+="]"},buildDependsOnList:function(){for(var e=[],t=(t=arguments[0])||new i,n=arguments[1],r=2;r<arguments.length;r++)e=e.concat(a(t,n,arguments[r]));return e}})},{"../parsers/depsDataItem.js":137,"../utils.js":161,"./evaluateHelper.js":104}],109:[function(u,e,t){function s(e,t,n){var o=e,r=t,i=n,s=function(e,t){var n=c.getFormatter(t);if(a(n)||(n=e.get(t)),!a(n))try{var r=u("./expressionBuilder.js").build(t).evaluate(e);return s(e,r)}catch(e){}if(a(n))return n;throw"No valid formatter found: "+o},a=function(e){return e&&l.isFunction(e)};return{evaluate:function(e){var t=s(e,r),e=p.evaluateExpressionList(i,e);return t.apply(t,e)},dependsOn:function(e,t){return d.buildDependsOnList(e,t,r,i)},toString:function(){return o}}}var l=u("../utils.js"),c=u("../context.js"),a=u("./expressionTokenizer.js"),d=u("./expressionsUtils.js"),p=u("./evaluateHelper.js");s.removePrefix=!0,s.getId=s.getPrefix=function(){return c.getConf().formatExpression},s.build=function(e){var t=u("./expressionBuilder.js"),e=e.trim();if(0===e.length)throw"Format expression void.";var n=new a(e,c.getConf().expressionDelimiter,!1);if(1===n.countTokens())throw'Only one element in format expression: "'+e+'". Please add at least one more.';for(var r=n.nextToken().trim(),o=[];n.hasMoreTokens();){var i=t.build(n.nextToken());o.push(i)}return new s(e,r,o)},e.exports=s},{"../context.js":87,"../utils.js":161,"./evaluateHelper.js":104,"./expressionBuilder.js":106,"./expressionTokenizer.js":107,"./expressionsUtils.js":108}],110:[function(e,t,n){function r(e,t,n,r){var o=e,i=t,s=n,a=r;return{evaluate:function(e){return u.evaluate(e,i,s,"currency",a)},dependsOn:function(e,t){return u.dependsOn(e,t,i,s)},toString:function(){return o}}}var o=e("../../context.js"),u=e("./trHelper.js");r.removePrefix=!0,r.getId=r.getPrefix=function(){return o.getConf().trCurrencyExpression},r.build=function(e){var t=u.build(e,r.getPrefix(),2,3,!0);return new r(e,t.expression,t.argsExpressions,t.subformat)},t.exports=r},{"../../context.js":87,"./trHelper.js":112}],111:[function(e,t,n){function r(e,t,n){var r=e,o=t,i=n;return{evaluate:function(e){return s.evaluate(e,o,i,"datetime",null)},dependsOn:function(e,t){return s.dependsOn(e,t,o,i)},toString:function(){return r}}}var o=e("../../context.js"),s=e("./trHelper.js");r.removePrefix=!0,r.getId=r.getPrefix=function(){return o.getConf().trDateTimeExpression},r.build=function(e){var t=s.build(e,r.getPrefix(),1,2,!1);return new r(e,t.expression,t.argsExpressions)},t.exports=r},{"../../context.js":87,"./trHelper.js":112}],112:[function(u,e,t){var l=u("../../context.js"),c=u("../expressionTokenizer.js"),s=u("../../i18n/i18nHelper.js"),a=u("../evaluateHelper.js"),o=u("../expressionsUtils.js"),i=u("../path/variableExpression.js");e.exports={build:function(e,t,n,r,o){var i=u("../expressionBuilder.js");if(0===e.length)throw t+" expression void.";var s=new c(e.trim(),l.getConf().expressionDelimiter,!1),a=s.countTokens();if(a<n)throw"Too few elements in "+t+" expression (minimum is "+n+", "+a+" present): "+e.trim();if(r<a)throw"Too many elements in "+t+" expression (maximum is "+r+", "+a+" present):"+e.trim();n=o?i.build(s.nextToken()):void 0;return{expression:i.build(s.nextToken().trim()),argsExpressions:(e=>{var t=u("../expressionBuilder.js"),n={};if(e)for(var r=new c(e,l.getConf().i18nOptionsDelimiter,!0);r.hasMoreTokens();){var o=r.nextToken().trim(),o=new c(o,l.getConf().inI18nOptionsDelimiter,!0);if(2!==o.countTokens())throw"2 elements are needed in i18n expression.";var i=o.nextToken().trim(),o=t.build(o.nextToken().trim());n[i]=o}return n})(s.hasMoreTokens()?s.nextToken().trim():void 0),subformat:n}},evaluate:function(e,t,n,r,o){var i,n=((e,t)=>{var n,r={};for(n in t){var o=t[n],o=a.evaluateToNotNull(e,o);r[n]=o}return r})(e,n),o=o?a.evaluateToNotNull(e,o):void 0,t=a.evaluateToNotNull(e,t);return t=t,n=n,r=r,o=o,i=(e=e).get(l.getConf().i18nDomainVarName),e=e.get(l.getConf().i18nLanguageVarName),s.tr(i,t,n,r,o,e)},dependsOn:function(e,t,n,r){return o.buildDependsOnList(e,t,new i(l.getConf().i18nDomainVarName),new i(l.getConf().i18nLanguageVarName),n,r)}}},{"../../context.js":87,"../../i18n/i18nHelper.js":133,"../evaluateHelper.js":104,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108,"../path/variableExpression.js":127}],113:[function(e,t,n){function r(e,t,n){var r=e,o=t,i=n;return{evaluate:function(e){return s.evaluate(e,o,i,"number",null)},dependsOn:function(e,t){return s.dependsOn(e,t,o,i)},toString:function(){return r}}}var o=e("../../context.js"),s=e("./trHelper.js");r.removePrefix=!0,r.getId=r.getPrefix=function(){return o.getConf().trNumberExpression},r.build=function(e){var t=s.build(e,r.getPrefix(),1,2,!1);return new r(e,t.expression,t.argsExpressions)},t.exports=r},{"../../context.js":87,"./trHelper.js":112}],114:[function(e,t,n){function r(e,t,n){var r=e,o=t,i=n;return{evaluate:function(e){return s.evaluate(e,o,i,"string",null)},dependsOn:function(e,t){return s.dependsOn(e,t,o,i)},toString:function(){return r}}}var o=e("../../context.js"),s=e("./trHelper.js");r.removePrefix=!0,r.getId=r.getPrefix=function(){return o.getConf().trExpression},r.build=function(e){var t=s.build(e,r.getPrefix(),1,2,!1);return new r(e,t.expression,t.argsExpressions)},t.exports=r},{"../../context.js":87,"./trHelper.js":112}],115:[function(a,e,t){function u(e,t){var i=e,s=t;return{evaluate:function(e){for(var t=i.evaluate(e),n=0;n<s.length;n++)t=t[s[n].evaluate(e)];return t},dependsOn:function(e,t){var n=l.buildDependsOnList(e,t,i);if(0===n.length)return[];if(1<n.length)return l.buildDependsOnList(e,t,i,s);for(var r=n[0],o=0;o<s.length;++o)r+="["+s[o].evaluate(t)+"]";return[r]},toString:function(){return i+"["+s+"]"}}}var l=a("../expressionsUtils.js");u.build=function(e,t){for(var n=a("../expressionBuilder.js"),r=[],o=!1;!o;){var i=t.indexOf("]");if("["!==t.charAt(0)||-1===i)throw"Bad array accessor: "+t;var s=n.build(t.substring(1,i));r.push(s),i++,t.length>i?t=t.substring(i):o=!0}return new u(e,r)},u.buildArrayData=function(e){var t=u.findArrayAccessor(e);if(!(t<=0))return{arrayAccessor:e.substring(t).trim(),token:e.substring(0,t).trim()}},u.findArrayAccessor=function(e){for(var t=e.length,n=0,r=0,o=0;o<t;o++){var i=e.charAt(o);switch(n){case 1:")"===i?0===--r&&(n=0):"("===i&&r++;break;case 2:"'"===i&&(n=0);break;case 0:if("'"===i)n=2;else if("("===i)r++,n=1;else if("["===i)return o}}return-1},e.exports=u},{"../expressionBuilder.js":106,"../expressionsUtils.js":108}],116:[function(o,e,t){function i(e,t,n){var r=e,o=t,i=n;return{evaluate:function(e){var t=s.evaluateExpressionList(i,e),e=e.get(o);return e?e.apply(e,t):void 0},dependsOn:function(){return[]},toString:function(){return r}}}var s=o("../evaluateHelper.js");i.build=function(e){var t,n=o("../expressionBuilder.js"),r=e.indexOf("(");if(-1!==r){if(n.endsWith(e,")"))return t=e.substring(0,r).trim(),r=e.substring(r+1,e.length-1),n=n.getArgumentsFromString(r),new i(e,t,n);throw"Syntax error. Bad function call: "+e}},e.exports=i},{"../evaluateHelper.js":104,"../expressionBuilder.js":106}],117:[function(e,t,n){function r(e){var n=e;return{evaluate:function(e,t){return t[e.get(n)]},dependsOn:function(){return[]},toString:function(){return"?"+n}}}r.build=function(e){if("?"===e.charAt(0))return new r(e.substring(1))},t.exports=r},{}],118:[function(s,e,t){function a(e,t){var n=e,o=t;return{evaluate:function(e){for(var t=[],n=0;n<o.length;n++){var r=o[n].evaluate(e);Array.isArray(r)?t=t.concat(r):t.push(r)}return t},dependsOn:function(e,t){return r.buildDependsOnList(e,t,o)},toString:function(){return n}}}var u=s("../../context.js"),l=s("../expressionTokenizer.js"),r=s("../expressionsUtils.js"),c=s("./rangeExpression.js");a.build=function(e){var t=s("../expressionBuilder.js");if("["===e.charAt(0)&&"]"===e.charAt(e.length-1)){for(var e=e.substring(1,e.length-1),n=[],r=new l(e,u.getConf().expressionDelimiter,!0);r.hasMoreTokens();){var o=r.nextToken().trim(),i=c.build(o);n.push(i||t.build(o))}return new a(e,n)}},e.exports=a},{"../../context.js":87,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108,"./rangeExpression.js":126}],119:[function(e,t,n){function r(e){var t=e;return{evaluate:function(e){return t},dependsOn:function(){return[]},toString:function(){return""+t}}}r.build=function(e){return"true"===e?new r(!0):"false"===e?new r(!1):void 0},t.exports=r},{}],120:[function(e,t,n){function r(e){var t=e;return{evaluate:function(e){return t},dependsOn:function(){return[]},toString:function(){return t}}}r.build=function(e){if(isFinite(e)){var t=parseInt(e);if(t==e)return new r(t);t=parseFloat(e);if(t==e)return new r(t)}},t.exports=r},{}],121:[function(e,t,n){function r(e){var t=e;return{evaluate:function(e){return t},dependsOn:function(){return[]},toString:function(){return t}}}r.build=function(e){if("'"===e.charAt(0)&&"'"===e.charAt(e.length-1))return new r(e.substring(1,e.length-1))},t.exports=r},{}],122:[function(o,e,t){function i(e,t,n){var r=e,o=t,i=n;return{evaluate:function(e,t){e=s.evaluateExpressionList(i,e);return t[o].apply(t,e)},dependsOn:function(){},toString:function(){return r}}}var s=o("../evaluateHelper.js");i.build=function(e){var t,n=o("../expressionBuilder.js"),r=e.indexOf("(");if(-1!==r){if(n.endsWith(e,")"))return t=e.substring(0,r).trim(),r=e.substring(r+1,e.length-1),n=n.getArgumentsFromString(r),new i(e,t,n);throw"Syntax error. Bad method call: "+e}},e.exports=i},{"../evaluateHelper.js":104,"../expressionBuilder.js":106}],123:[function(s,e,t){function a(e,t){var n=e,o=t;return{evaluate:function(e){for(var t=void 0,n=0;n<o.length;n++)try{var r=o[n].evaluate(e);if(null!=r)return r}catch(e){t=e}if(t)throw t;return null},dependsOn:function(e,t){return r.buildDependsOnList(e,t,o)},toString:function(){return n}}}var u=s("../../context.js"),l=s("../expressionTokenizer.js"),c=s("./literals/stringLiteral.js"),d=s("./pathSegmentExpression.js"),r=s("../expressionsUtils.js");a.removePrefix=!1,a.getPrefix=function(){return u.getConf().pathExpression},a.getId=function(){return"path"},a.build=function(e){var t=s("../expressionBuilder.js"),n=e.trim();if(0===n.length)return c.build("");var r=new l(n,u.getConf().pathDelimiter,!1);if(1===r.countTokens())return d.build(n);for(var o=[];r.hasMoreTokens();){var i=r.nextToken();if(!i)throw"Null token inside path expression: "+n;o.push(t.build(i))}return new a(n,o)},e.exports=a},{"../../context.js":87,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108,"./literals/stringLiteral.js":121,"./pathSegmentExpression.js":124}],124:[function(e,t,n){function o(e,t){var o=e,s=t;return{evaluate:function(e){for(var t=s[0],n=t.evaluate(e),r=1;r<s.length;r++){if(null==n)throw'Error evaluating "'+o+'": "'+t+'" is null';n=(t=s[r]).evaluate(e,n)}return n},dependsOn:function(e,t){e=a.buildDependsOnList(e,t,s[0]);if(0===e.length)return[];if(1<e.length)return e;for(var n=e[0],r=[n],o=1;o<s.length;o++){var i=s[o].dependsOn(n);if(!i)break;r.push(n+=i)}return r},toString:function(){return o}}}var i=e("../../context.js"),s=e("../expressionTokenizer.js"),a=e("../expressionsUtils.js"),r=e("./arrayExpression.js"),u=e("./literals/stringLiteral.js"),l=e("./literals/numericLiteral.js"),c=e("./literals/booleanLiteral.js"),d=e("./listExpression.js"),p=e("./functionExpression.js"),f=e("./variableExpression.js"),h=e("./indirectionExpression.js"),g=e("./methodExpression.js"),m=e("./propertyExpression.js");o.build=function(e){var t=[];if(0===e.length)return t.push(u.build("")),t;var n=new s(e,i.getConf().pathSegmentDelimiter,!1),r=n.nextToken().trim();for(t.push(o.buildFirstPathToken(r));n.hasMoreTokens();)r=n.nextToken().trim(),t.push(o.buildNextPathToken(r));return new o(e,t)},o.buildFirstPathToken=function(e){var t=r.buildArrayData(e),n=t?t.arrayAccessor:void 0,t=t?t.token:e,e=u.build(t);if(void 0===e&&void 0===(e=l.build(t))&&void 0===(e=c.build(t))&&void 0===(e=d.build(t))&&void 0===(e=p.build(t))&&void 0===(e=f.build(t)))throw"Unknown expression: "+t;return e=void 0!==n?r.build(e,n):e},o.buildNextPathToken=function(e){var t=r.buildArrayData(e),n=t?t.arrayAccessor:void 0,t=t?t.token:e,e=h.build(t);return void 0===e&&void 0===(e=g.build(t))&&(e=m.build(t)),e=void 0!==n?r.build(e,n):e},t.exports=o},{"../../context.js":87,"../expressionTokenizer.js":107,"../expressionsUtils.js":108,"./arrayExpression.js":115,"./functionExpression.js":116,"./indirectionExpression.js":117,"./listExpression.js":118,"./literals/booleanLiteral.js":119,"./literals/numericLiteral.js":120,"./literals/stringLiteral.js":121,"./methodExpression.js":122,"./propertyExpression.js":125,"./variableExpression.js":127}],125:[function(e,t,n){function r(e){var n=e;return{evaluate:function(e,t){return t[n]},dependsOn:function(e){return"."+n},toString:function(){return n}}}r.build=function(e){return new r(e)},t.exports=r},{}],126:[function(s,e,t){function a(e,t,n,r){var o=e,a=t,u=n,l=r;return{evaluate:function(e){for(var t=c.evaluateNumber(e,a),n=c.evaluateNumber(e,u),r=c.evaluateNumber(e,l),o=[],i=0<r,s=t;i?s<=n:n<=s;)o.push(s),s+=r;return o},dependsOn:function(e,t){return i.buildDependsOnList(e,t,a,u,l)},toString:function(){return o}}}var u=s("../../context.js"),l=s("../expressionTokenizer.js"),i=s("../expressionsUtils.js"),c=s("../evaluateHelper.js"),d=s("./literals/numericLiteral.js");a.build=function(e){var t=s("../expressionBuilder.js");if(e){e=e.trim();if(-1===e.indexOf(" ")){var n,r,o=new l(e,u.getConf().intervalDelimiter,!1),i=o.countTokens();if(2===i||3===i)return n=""==(n=o.nextToken().trim())?d.build(0):t.build(n),r=t.build(o.nextToken()),i=3===i?t.build(o.nextToken()):d.build(1),new a(e,n,r,i)}}},e.exports=a},{"../../context.js":87,"../evaluateHelper.js":104,"../expressionBuilder.js":106,"../expressionTokenizer.js":107,"../expressionsUtils.js":108,"./literals/numericLiteral.js":120}],127:[function(e,t,n){function r(e){var r=e;return{evaluate:function(e){if(e.isValidVariable(r))return e.get(r);throw"Not declared variable found using strict mode:"+r},dependsOn:function(e,t){if(!e.mustAddVar(r))return[];var n=t.getVarExpression(r);if(!n)return e.add1NonExpressionVar(r),[r];e.add1ExpressionVar(r);n=n.dependsOn(e,t);return e.addAllVars(n,t),n},getVarName:function(){return r},toString:function(){return r}}}var o=e("../../context.js");r.build=function(e){return o.getConf().variableNameRE.test(e)?new r(e):void 0},t.exports=r},{"../../context.js":87}],128:[function(_dereq_,module,exports){var context=_dereq_("../../context.js"),expressionsUtils=_dereq_("../expressionsUtils.js"),StringExpression=_dereq_("../stringExpression.js"),JavascriptExpression=function(expressionToApply){var stringExpression=expressionToApply,evaluate=function(scope){var evaluatedString=stringExpression.evaluate(scope);return eval(evaluatedString)},dependsOn=function(e,t){return expressionsUtils.buildDependsOnList(e,t,stringExpression)},toString=function(){return stringExpression};return{evaluate:evaluate,dependsOn:dependsOn,toString:toString}};JavascriptExpression.removePrefix=!0,JavascriptExpression.getPrefix=function(){return void 0===JavascriptExpression.prefix&&(JavascriptExpression.prefix=context.getConf().javaScriptExpression),JavascriptExpression.prefix},JavascriptExpression.getId=JavascriptExpression.getPrefix,JavascriptExpression.build=function(e){return new JavascriptExpression(StringExpression.build(e))},module.exports=JavascriptExpression},{"../../context.js":87,"../expressionsUtils.js":108,"../stringExpression.js":130}],129:[function(n,e,t){function r(e,t){var i=e,s=t;return{evaluate:function(e){try{var t=s.evaluate(e),n=window.document.querySelectorAll(t);if(1===n.length)return n[0].innerText;for(var r=[],o=0;o<n.length;++o)r.push(n[o].innerText);return r}catch(e){return'Query expression error in "'+i+'": '+e}},dependsOn:function(e,t){return a.buildDependsOnList(e,t,s)},toString:function(){return i}}}var o=n("../../context.js"),a=n("../expressionsUtils.js");r.removePrefix=!0,r.getId=r.getPrefix=function(){return o.getConf().queryExpression},r.build=function(e){var t=n("../expressionBuilder.js").build(e);return new r(e,t)},e.exports=r},{"../../context.js":87,"../expressionBuilder.js":106,"../expressionsUtils.js":108}],130:[function(e,t,n){function a(e,t){var n=e,r=t;return{evaluate:function(e){for(var t="",n=0;n<r.length;n++)t+=r[n].evaluate(e);return t},dependsOn:function(e,t){return o.buildDependsOnList(e,t,r)},toString:function(){return n}}}var r=e("../context.js"),u=e("./path/literals/stringLiteral.js"),l=e("./path/pathExpression.js"),o=e("./expressionsUtils.js");a.removePrefix=!0,a.getId=a.getPrefix=function(){return r.getConf().stringExpression},a.build=function(e){for(var t=[],n="",r="",o=0,i=0;i<e.length;i++){var s=e.charAt(i);switch(o){case 0:"$"===s?o=1:n+=s;break;case 1:"$"===s?(n+="$",o=0):(o="{"===s?(r="",3):(r+=s,2),n&&(t.push(new u(n)),n=""));break;case 3:case 2:3===o&&"}"===s||2===o&&" "==s?(t.push(l.build(r)),2===o&&(n+=s),o=0):r+=s}}if(3===o)throw"Unclosed left curly brace: "+e;return 2==o&&t.push(l.build(r)),n&&t.push(new u(n)),new a(e,t)},t.exports=a},{"../context.js":87,"./expressionsUtils.js":108,"./path/literals/stringLiteral.js":121,"./path/pathExpression.js":123}],131:[function(a,e,t){e.exports=function(e,t){var n=a("messageformat"),r=a("../context.js"),o=a("../utils.js"),d=t,p=new n(e),f={},i={},h={},s=r.getConf().i18nConfResourceId,g=function(){return d[s].locale},m=function(e){return e&&o.isFunction(e.toSource)?e.toSource():""},v=function(e,t){var n=m(t),r=i[n];return r||(r=new Intl.NumberFormat(g(),t),i[n]=r),r.format(e)};return{getLanguage:function(){return d[s].language},getLocale:g,exists:function(e){return void 0!==d[e]},tr:function(e,t,n,r){switch(n){case"string":var o=e,i=t,s=f[o];return s||(s=p.compile(d[o]),f[o]=s),s(i);case"number":return v(e,t);case"currency":return o=e,s=r,(i=t).style="currency",i.currency=s,v(o,i);case"datetime":var a=e,u=t,l=m(u),c=h[l];return c||(c=new Intl.DateTimeFormat(g(),u),h[l]=c),c.format(a)}throw"I18n format type not supported: "+n}}}},{"../context.js":87,"../utils.js":161,messageformat:64}],132:[function(e,t,n){t.exports=function(){for(var s={},t=void 0,e=function(e){s[e.getLanguage()]=e,t=t||e},n=0;n<arguments.length;n++)e(arguments[n]);return{add:e,exists:function(e){return t.exists(e)},tr:function(e,t,n,r,o){if(!o)throw"Language not defined! Please, use data-iLanguage to define it before trying to translate anything!";var i=s[o];if(i)return i.tr(e,t,n,r);throw'Language "'+o+'" not found in I18nBundle!'}}}},{}],133:[function(e,t,n){var a,u=e("../utils.js"),p=e("./i18n.js"),l=e("../context.js");function s(e,t,n){a({},t,n,e,e.length-1)}t.exports=(a=function(t,n,r,o,i){var s=o[i];u.getJSON({url:s,done:function(e){t[s]=e,0<i?a(t,n,r,o,--i):n(t)},fail:function(e,t,n){l.asyncError(s,n,r)}})},{tr:function(e,t,n,r,o,i){if(!e)return"No I18n instance defined!";var s=e.length;if(!s)return"Void I18n list!";for(var a=0;a<s;a++){var u=e[a];if("string"!==r||u.exists(t))return u.tr(t,n,r,o,i)}return'I18n resource "'+t+'" not found!'},loadAsync:s,loadAsyncAuto:function(a,u,l,e){if(u&&u.files&&Object.keys(u.files).length){var t,c=Object.keys(u.files).length,n=[],d=u.urlPrefix||"";for(t in u.files){var r,o=u.files[t];for(r in o){var i=o[r];n.push(d+i)}}s(n,function(e){for(var t in u.files){var n,r=u.files[t],o=[];for(n in a["i18n"+t.toUpperCase()+"Array"]=o,1===c&&(a.i18nArray=o),r){var i=r[n],s=new p(t,e[d+i]);a["i18n"+i.substr(0,i.lastIndexOf(".")).toUpperCase()]=s,o.unshift(s)}}l()},e)}else l()}})},{"../context.js":87,"../utils.js":161,"./i18n.js":131}],134:[function(e,t,n){var r;t.exports=(r=e("./context.js"),{trace:function(){var e=r.getLogger();e&&e.trace.apply(e,arguments)},debug:function(){var e=r.getLogger();e&&e.debug.apply(e,arguments)},info:function(){var e=r.getLogger();e&&e.info.apply(e,arguments)},warn:function(){var e=r.getLogger();e&&e.warn.apply(e,arguments)},error:function(){var e=r.getLogger();e&&e.error.apply(e,arguments)},fatal:function(){var e=r.getLogger();e&&e.fatal.apply(e,arguments)}})},{"./context.js":87}],135:[function(t,e,n){n.run=function(e){return t("./parsers/parser.js").run(e)},n.I18n=t("./i18n/i18n.js"),n.I18nBundle=t("./i18n/i18nBundle.js"),n.i18nHelper=t("./i18n/i18nHelper.js"),n.context=t("./context.js"),n.logHelper=t("./logHelper.js"),n.expressionBuilder=t("./expressions/expressionBuilder.js"),n.evaluateHelper=t("./expressions/evaluateHelper.js"),n.ExpressionTokenizer=t("./expressions/expressionTokenizer.js"),n.ReactiveDictionary=t("./scopes/reactiveDictionary.js"),n.version=t("./version.js"),"function"==typeof define&&define.amd&&(define("zpt.run",n.run),define("zpt.I18n",n.I18n),define("zpt.I18nBundle",n.I18nBundle),define("zpt.i18nHelper",n.i18nHelper),define("zpt.context",n.context),define("zpt.logHelper",n.logHelper),define("zpt.expressionBuilder",n.expressionBuilder),define("zpt.evaluateHelper",n.evaluateHelper),define("zpt.ExpressionTokenizer",n.ExpressionTokenizer),define("zpt.ReactiveDictionary",n.ReactiveDictionary),define("zpt.version",n.version))},{"./context.js":87,"./expressions/evaluateHelper.js":104,"./expressions/expressionBuilder.js":106,"./expressions/expressionTokenizer.js":107,"./i18n/i18n.js":131,"./i18n/i18nBundle.js":132,"./i18n/i18nHelper.js":133,"./logHelper.js":134,"./parsers/parser.js":152,"./scopes/reactiveDictionary.js":158,"./version.js":162}],136:[function(e,t,n){var a=e("../context.js");e("../attributes/TAL/talDefine.js");t.exports=function(e){var r=a.getConf().defineDelimiter,o=a.getConf().inDefineDelimiter,i=a.getConf().nocallVariableExpressionPrefix,t=a.getTags().talAutoDefine,s="";e&&e.getAttribute(t)&&(s=e.getAttribute(t));return{put:function(e,t,n){""!==s&&(s+=r),s+=(n?i+o:"")+e+o+t},updateNode:function(e){if(s)return e.setAttribute(t,s),s}}}},{"../attributes/TAL/talDefine.js":78,"../context.js":87}],137:[function(e,t,n){function r(){this.nonExpressionVars={},this.expressionVars={}}r.prototype.mustAddVar=function(e){return void 0===this.nonExpressionVars[e]&&void 0===this.expressionVars[e]},r.prototype.addAllVars=function(e,t){for(var n in e)this.add1Var(e[n],t)},r.prototype.add1ExpressionVar=function(e){this.expressionVars[e]=!0},r.prototype.add1NonExpressionVar=function(e){this.nonExpressionVars[e]=!0},r.prototype.add1Var=function(e,t){return(t.isLocalVar(e)?this.expressionVars:this.nonExpressionVars)[e]=!0},t.exports=r},{}],138:[function(e,t,n){function r(e,t){if(this.id=e.id,this.var=e.var,this.currentElement=e.currentElement,this.animation=e.animation,this.animationCallback=e.animationCallback,e.search){if(this.id||this.var)throw"Error in action: you can not set a search and then and id: if you set a search ZPT-JS will set the id for you!";this.initializeUsingSearch(e.search,t)}}var o=e("../../utils.js"),i=e("../../context.js");r.prototype.initializeUsingSearch=function(e,t){this.id="",this.var=t;for(var n=0;n<e.length;++n){var r=e[n];o.isPlainObject(r)?r=this.search(this.var,r):r===i.getConf().firstIndexIdentifier?r=0:r===i.getConf().lastIndexIdentifier&&(r=this.var.length-1),Number.isInteger(r)?this.id+="["+r+"]":this.id+=(0===n?"":".")+r,this.var=this.var[r]}},r.prototype.search=function(e,t){for(var n=0;n<e.length;++n)if(r.elementMaches(e[n],t))return n;throw"No record found matching your criteria!"},r.elementMaches=function(e,t){if(null==t)throw"Expression to match must not be null!";if(Array.isArray(t))throw"Expression "+o.genericToString(t)+" to match must not be an array!";if(o.isPlainObject(t)){for(var n in t)if(t[n]!==e[n])return!1;return!0}return e===t},r.prototype.getValue=function(e){return void 0===this.var?e[this.id]:this.var},r.prototype.resolveThisNode=function(e,t){e=t.findNodeById(e.nodeId);return e?(t.addUpdatedToStatistics(),e):(t.addRemovedToStatistics(),!1)},r.prototype.attributeInstanceIsRelated=function(e){throw"Error: attributeInstanceIsRelated must be implemented!"},r.prototype.updateDictionary=function(){throw"Error: updateDictionary must be implemented!"},r.prototype.updateHTML=function(){throw"Error: updateHTML must be implemented!"},t.exports=r},{"../../context.js":87,"../../utils.js":161}],139:[function(e,t,n){function r(e,t){i.call(this,e,t),this.index=e.index}var i=e("./abstractAction.js"),s=e("../../utils.js"),a=e("../../context.js");r.prototype=Object.create(i.prototype),r.getIndexNumericValue=function(e){if(void 0!==e)return e===a.getConf().firstIndexIdentifier?0:e===a.getConf().lastIndexIdentifier?-1:e},r.prototype.getIndexNumericValue=function(){return r.getIndexNumericValue(this.index)},r.prototype.getIndexToUse=function(e){if(void 0===this.index&&void 0===this.currentElement)throw"index or currentElement must be defined in "+this.id+" array action!";var t=this.getIndexNumericValue();if(void 0!==t)return t;for(var n=this.getValue(e),r=0;r<n.length;++r){var o=n[r];if(i.elementMaches(o,this.currentElement))return r}throw"currentElement "+s.genericToString(this.currentElement)+" not found in "+this.id+" array action!"},r.prototype.attributeInstanceIsRelated=function(e){return r.staticAttributeInstanceIsRelated(e)},r.staticAttributeInstanceIsRelated=function(e){return"tal:repeat"===e.type},r.prototype.updateDictionary=function(){throw"Error: updateDictionary must be implemented!"},r.prototype.updateHTML=function(){throw"Error: updateHTML must be implemented!"},r.prototype.resolveChildNode=function(e,t){var n=t.findNodeById(e.nodeId);return n?(t.addUpdatedToStatistics(),-1===this.indexToUse?null:this.getIndexOfLoop(n.parentNode,e.nodeId,this.indexToUse)):(t.addRemovedToStatistics(),!1)},r.prototype.getIndexOfLoop=function(e,t,n){for(var r=e.childElementCount,o=0;o<r;++o)if(e.children[o].getAttribute(a.getTags().id)===t)return e.children[1+o+n];return null},t.exports=r},{"../../context.js":87,"../../utils.js":161,"./abstractAction.js":138}],140:[function(e,t,n){function r(e,t){o.call(this,e,t),this.property=e.property,this.id+="."+e.property}var o=e("./abstractAction.js");(r.prototype=Object.create(o.prototype)).attributeInstanceIsRelated=function(e){return!0},r.prototype.updateHTML=function(e,t,n){e=this.resolveThisNode(e,t);if(e)return t.updateNode(e),t.runAnimation(n,e),!0;throw"No node found to update"},t.exports=r},{"./abstractAction.js":138}],141:[function(e,t,n){function c(e,t){r.call(this,e,t),this.newElement=e.newElement}var r=e("./abstractArrayAction.js"),s=e("../../context.js"),a=e("../../parsers/parserNodeRenderer.js"),d=e("../../utils.js");(c.prototype=Object.create(r.prototype)).updateDictionary=function(e){this.indexToUse=this.getIndexToUse(e);e=this.getValue(e);-1===this.indexToUse?(this.resolvedIndex=e.length,e.push(this.newElement)):(this.resolvedIndex=this.indexToUse,e.splice(this.indexToUse,0,this.newElement))},c.prototype.updateHTML=function(e,t,n){var r,o,i=this.resolveThisNode(e,t);if(i)return o=s.getTags(),r=i.parentNode,i=a.cloneAndConfigureNode(i,!0,o,i.getAttribute(o.id)),a.configureNodeForNewItem(i,o,r,e,this.resolvedIndex),o=-1===this.indexToUse?null:r.children[1+this.indexToUse],r.insertBefore(i,o),t.updateNode(i),t.runAnimation(n,i),!0;throw"No node found to clone"},c.buildMultiple=function(e,t){for(var n=[],r=d.copyArray(e.newElement),o=(e.newElement=r[0],new c(e,t)),i=(n.push(o),o.getIndexNumericValue()),s=-1===i,a=1;a<r.length;++a){var u=r[a],l=d.deepExtend(e),u=(l.newElement=u,l.index=s?-1:i+a,new c(l,t));n.push(u)}return n},t.exports=c},{"../../context.js":87,"../../parsers/parserNodeRenderer.js":153,"../../utils.js":161,"./abstractArrayAction.js":139}],142:[function(e,t,n){function u(e,t){r.call(this,e,t)}var r=e("./abstractArrayAction.js"),l=e("../../utils.js"),i=(e("../../attributes/attributeIndex.js"),e("../nodeRemover.js"));(u.prototype=Object.create(r.prototype)).updateDictionary=function(e){this.indexToUse=this.getIndexToUse(e),this.getValue(e).splice(this.indexToUse,1)},u.prototype.updateHTML=function(e,t,n,r){var o=this.resolveChildNode(e,t);if(o)return t.runAnimation(n,o,function(){i.removeNode(o),t.continueUpdateHTML(r)}),!1;throw"No node found to be deleted at this index: "+this.indexToUse},u.buildMultiple=function(e,t){for(var n=[],r=e.index?"index":"currentElement",o=l.copyArray(e[r]),i=0;i<o.length;++i){var s=o[i],a=l.deepExtend(e),s=(a[r]=s,new u(a,t));s.index=s.getIndexToUse(t),n.push(s)}return n.sort(function(e,t){return t.index-e.index}),n},t.exports=u},{"../../attributes/attributeIndex.js":83,"../../utils.js":161,"../nodeRemover.js":151,"./abstractArrayAction.js":139}],143:[function(e,t,n){function r(e,t){o.call(this,e,t),this.newElement=e.newElement}var o=e("./abstractArrayAction.js");(r.prototype=Object.create(o.prototype)).updateDictionary=function(e){this.indexToUse=this.getIndexToUse(e),this.getValue(e)[this.indexToUse]=this.newElement},r.prototype.updateHTML=function(e,t,n){e=this.resolveChildNode(e,t);if(e)return t.updateNode(e,!0),t.runAnimation(n,e),!0;throw"No node found to be updated at this index: "+this.indexToUse},t.exports=r},{"./abstractArrayAction.js":139}],144:[function(e,t,n){t.exports={animate:function(e,t,n){e.animation?(t.style.animation="none",setTimeout(function(){t.addEventListener("animationend",function(e){n&&n()}),t.style.animation=e.animation},10)):n&&n()},reset:function(e){e.style.animation="none"}}},{}],145:[function(e,t,n){var r=e("./arrayUpdate.js"),o=e("./arrayDelete.js"),i=e("./arrayCreate.js"),s=e("./objectUpdate.js"),a=e("./objectDelete.js");t.exports={build:function(e,t){switch(e.action){case"updateArray":return new r(e,t);case"deleteArray":return Array.isArray(e.index)||Array.isArray(e.currentElement)?o.buildMultiple(e,t):new o(e,t);case"createArray":return Array.isArray(e.newElement)?i.buildMultiple(e,t):new i(e,t);case"updateObject":return e.editedProperties||e.deletedProperties?s.buildMultiple(e,t):new s(e,t);case"deleteObject":return new a(e,t);default:throw"Unknown dictionary action: "+e.action}}}},{"./arrayCreate.js":141,"./arrayDelete.js":142,"./arrayUpdate.js":143,"./objectDelete.js":146,"./objectUpdate.js":147}],146:[function(e,t,n){function r(e,t){o.call(this,e,t)}var o=e("./abstractObjectAction.js");(r.prototype=Object.create(o.prototype)).updateDictionary=function(e){delete this.getValue(e)[this.property]},t.exports=r},{"./abstractObjectAction.js":140}],147:[function(e,t,n){function p(e,t){r.call(this,e,t),this.newElement=e.newElement}var r=e("./abstractObjectAction.js"),f=e("./objectDelete.js"),h=e("../../utils.js");(p.prototype=Object.create(r.prototype)).updateDictionary=function(e){this.getValue(e)[this.property]=this.newElement},p.buildMultiple=function(e,t){var n=[],r=h.deepExtend(e),o=r.editedProperties,i=r.deletedProperties;if(delete r.editedProperties,delete r.deletedProperties,o)for(var s in r.action="updateObject",o){var a=o[s],u=h.deepExtend(r),l=(u.property=s,u.newElement=a,new p(u,t));n.push(l)}if(i){r.action="deleteObject";for(var c=0;c<i.length;++c){var d=i[c];(u=h.deepExtend(r)).property=d,l=new f(u,t),n.push(l)}}return n},t.exports=p},{"../../utils.js":161,"./abstractObjectAction.js":140,"./objectDelete.js":146}],148:[function(e,t,n){function c(e,t,n){var r=e,o=t,i=d.build(o),s=i.evaluate(n),a=-1,u=s?s.length-1:-1,l=0;return{setOffset:function(e){l=e},repeat:function(){return a++<u?c.buildAutoDefineHelper(r,a,o,s.length,l):null},getItems:function(){return s},getExpression:function(){return i}}}var s=e("./autoDefineHelper.js"),d=e("../expressions/expressionBuilder.js"),a=e("../context.js");c.buildAutoDefineHelper=function(e,t,n,r,o){var i=new s;return i.put(e+"-index",t),i.put(e+"-all",n),i.put(e,e+"-all["+e+"-index]"),i.put(e+"-repeat","context/repeat("+e+"-index,"+r+","+o+")"),i},c.setAutoDefineAttribute=function(e,t,n,r,o,i){e.setAttribute(a.getTags().talAutoDefine,t+"-index "+n+";"+t+"-all "+r+";"+t+" "+t+"-all["+t+"-index];"+t+"-repeat context/repeat("+t+"-index,"+o+","+i+")")},t.exports=c},{"../context.js":87,"../expressions/expressionBuilder.js":106,"./autoDefineHelper.js":136}],149:[function(e,t,n){function r(e,t,n){this.currentIndex=e,this.itemsLength=t,this.offset=n}r.prototype.index=function(){return this.offset+this.currentIndex},r.prototype.number=function(){return this.index()+1},r.prototype.even=function(){return this.index()%2==0},r.prototype.odd=function(){return this.index()%2==1},r.prototype.start=function(){return 0===this.index()},r.prototype.end=function(){return this.currentIndex===this.itemsLength-1},r.prototype.length=function(){return this.offset+this.itemsLength},r.prototype.letter=function(){return this.formatLetter(this.index(),"a")},r.prototype.Letter=function(){return this.formatLetter(this.index(),"A")},r.prototype.formatLetter=function(e,t){var n=e,r="",o=t.charCodeAt(0),e=n%26;for(r+=String.fromCharCode(o+e);25<n;)n/=26,r+=String.fromCharCode(o+(n-1)%26);return r.split("").reverse().join("")},r.prototype.roman=function(){return this.formatRoman(this.index()+1,0)},r.prototype.Roman=function(){return this.formatRoman(this.index()+1,1)},r.prototype.formatRoman=function(e,t){var n=e;if(4e3<=n)return"Overflow formatting roman!";for(var r="",o=0;0!==n;o++){var i=n%10;0<i&&(i--,r+=this.romanArray[o][i][t]),n=n/10>>0}return r.split("").reverse().join("")},r.prototype.romanArray=[[["i","I"],["ii","II"],["iii","III"],["vi","VI"],["v","V"],["iv","IV"],["iiv","IIV"],["iiiv","IIIV"],["xi","XI"]],[["x","X"],["xx","XX"],["xxx","XXX"],["lx","LX"],["l","L"],["xl","XL"],["xxl","XXL"],["xxxl","XXXL"],["cx","CX"]],[["c","C"],["cc","CC"],["ccc","CCC"],["dc","DC"],["d","D"],["cd","CD"],["ccd","CCD"],["cccd","CCCD"],["mc","MC"]],[["m","M"],["mm","MM"],["mmm","MMM"]]],t.exports=r},{}],150:[function(e,t,n){function r(e,t){var n=o.getTags();this.talDefine=e.getAttribute(n.talDefine),this.talCondition=e.getAttribute(n.talCondition),this.talRepeat=e.getAttribute(n.talRepeat),this.talContent=e.getAttribute(n.talContent),this.talAttributes=e.getAttribute(n.talAttributes),this.talOmitTag=e.getAttribute(n.talOmitTag),this.talReplace=e.getAttribute(n.talReplace),this.talOnError=e.getAttribute(n.talOnError),this.talDeclare=e.getAttribute(n.talDeclare),this.metalDefineMacro=e.getAttribute(n.metalDefineMacro),this.metalUseMacro=e.getAttribute(n.metalUseMacro),this.metalDefineSlot=e.getAttribute(n.metalDefineSlot),this.metalFillSlot=e.getAttribute(n.metalFillSlot),this.i18nDomain=e.getAttribute(n.i18nDomain),this.i18nLanguage=e.getAttribute(n.i18nLanguage),this.qdup=e.getAttribute(n.qdup),t&&this.isDynamicContentOn()&&(this.id=e.getAttribute(n.id),this.id||(this.id=o.nextExpressionCounter(),e.setAttribute(n.id,this.id)))}var o=e("../context.js");r.prototype.isDynamicContentOn=function(){return this.talDefine||this.talCondition||this.talRepeat||this.talContent||this.talAttributes||this.talOmitTag||this.talReplace||this.talOnError||this.talDeclare||this.metalUseMacro||this.metalFillSlot||this.i18nDomain||this.i18nLanguage},t.exports=r},{"../context.js":87}],151:[function(e,t,n){var r,o,i,s,a,u=e("../context.js");function l(e){if(Array.isArray(e)){for(var t=[],n=0;n<e.length;n++)t=t.concat(c(e[n]));return t}return c(e)}function c(e){var t=[];return t=(t=t.concat(o(e,r.qdup))).concat(o(e,r.metalMacro))}t.exports=(r=u.getTags(),o=function(e,t){e=e.querySelectorAll("*["+t+"]");return i(e)},i=function(e){for(var t,n=[],r=0;t=e[r++];){var o=a(t);void 0!==o&&n.push(o),s(t,n),t.parentNode.removeChild(t)}return n},s=function(e,t){for(var n,r=u.getTags().id,o=e.querySelectorAll("["+r+"]"),i=0;n=o[i++];)t.push(n.getAttribute(r))},a=function(e){var t=u.getTags().id;return e.hasAttribute(t)?e.getAttribute(t):void 0},{removeGeneratedNodes:l,removeNode:function(e){var t=a(e),n=e.parentNode;return n&&n.removeChild(e),t},removeMultipleNodes:function(e,t){var n=(e=>(e=e.parentNode.querySelectorAll("["+u.getTags().relatedId+'="'+e.getAttribute(u.getTags().id)+'"]'),i(e)))(e);return n=t?n.concat(l(e)):n}})},{"../context.js":87}],152:[function(e,t,n){var d,p=e("../context.js"),f=e("./parserRenderer.js"),h=e("./parserUpdater.js"),g=e("./parserPreloader.js"),m=e("../scopes/reactiveDictionary.js");t.exports=(d={command:void 0,root:void 0,dictionary:{},indexExpressions:!0},{run:function(e){var t,n,r,o,i,s,a,u,l=e||{},c=(e=l,d.command=e.command||"fullRender",d.root=(void 0===e.root?d:e).root,d.dictionary=(e.dictionary instanceof m?e.dictionary._getNonReactiveDictionary():e.dictionary)||d.dictionary,d.indexExpressions=(void 0===e.indexExpressions?d:e).indexExpressions,l.command||"fullRender");switch(c){case"preload":return u=l.callback,r=l.failCallback,o=l.declaredRemotePageUrls||[],i=l.i18n,s=l.notRemoveGeneratedTags,a=l.maxFolderDictionaries,(u=new g(d,u,r,o,i,s,a)).run(),u;case"fullRender":case"partialRender":return r="partialRender"===c?l.target:d.root,o=l.dictionaryExtension,i=l.notRemoveGeneratedTags,s=d.indexExpressions&&"fullRender"===c,a=void 0===l.goToURLHash&&1===p.nextRunCounter(),(u=new f(d,r,o,i,s,a)).run(),u;case"update":return n=l.dictionaryChanges,t=l.dictionaryActions,(n=new h(n,t,d)).run(),n;default:throw"Unknown command: "+c}},getOptions:function(){return d}})},{"../context.js":87,"../scopes/reactiveDictionary.js":158,"./parserPreloader.js":154,"./parserRenderer.js":155,"./parserUpdater.js":156}],153:[function(t,n,e){!function(e){!function(){function T(e,t,n){var r=e,l=t,c=n,d=A.getTags(),o=function(t){try{var e=new L(t,c);l.startElement(),(null!=e.talRepeat?i:f)(t,e),l.endElement()}catch(e){if(!s(t,e))throw e}},p=function(e){var t=-1,n=e;do{if(++t,!(n=n.nextElementSibling))return{nextSibling:null,counter:t}}while(n.hasAttribute(d.qdup));return{nextSibling:n,counter:t}},i=function(e,t){var n=F.getByAttributeClass($,t.talRepeat,e,c,l).process(l,e);if(I.isDefault(n.getItems()))f(e,t);else{e.removeAttribute(d.talRepeat),e.removeAttribute("style"),e.setAttribute(d.qdup,1);var r,o=e.getAttribute("id"),i=(e.removeAttribute("id"),e.getAttribute(d.id)),s=(e.removeAttribute(d.id),p(e)),a=s.nextSibling;for(n.setOffset(s.counter);r=n.repeat();){l.startElement();var u=T.cloneAndConfigureNode(e,c,d,i);if(e.parentNode.insertBefore(u,a),!f(u,t,r))return l.endElement(),!1;l.endElement()}e.style.display="none",e.setAttribute(d.talRepeat,t.talRepeat),""!==o&&null!=o&&e.setAttribute("id",o),""!==i&&null!=i&&e.setAttribute(d.id,i),e.removeAttribute(d.qdup)}return!0},s=function(e,t){try{var n={type:t.name,value:t.message,traceback:t.stack},r=(l.set(A.getConf().templateErrorVarName,n),l.get(A.getConf().onErrorVarName));return null==r?(O.fatal(t),l.endElement(),!1):(O.error(t),l.endElement(),G.updateNode(e,l.get(A.getConf().onErrorStructureVarName),r),r)}catch(e){throw O.fatal(e),l.endElement(),e}},f=function(e,t,n){var r,o;return!(t.metalFillSlot||!y(e,t.metalDefineMacro)||(n=n||new k(e),!v(e,t.talDeclare,n))||(u(e,t.talOnError,n),m(e,t.i18nLanguage,n),g(e,t.i18nDomain,n),h(e,n),T.processDefine(e,t.talDefine,!1,l,c),!x(e,t.talCondition))||(r=C(e,t.talOmitTag),o=w(e,t.talReplace),r||o||(S(e,t.talAttributes),j(e,t.talContent))||a(e),b(e,t.metalUseMacro,t.talDefine,n),0))},a=function(e){var t=e.childNodes;if(t)for(var n=0;n<t.length;n++){var r=t[n];r&&1===r.nodeType&&!r.getAttribute(d.qdup)&&o(r)}},u=function(e,t,n){if(t)return F.getByAttributeClass(V,t,e,c,l).putToAutoDefineHelper(n)},h=function(e,t){t=t.updateNode(e);if(t)return F.getByAttributeClass(z,t,e,c,l).process(l,!1)},g=function(e,t,n){if(t)return F.getByAttributeClass(R,t,e,c,l).putToAutoDefineHelper(l,n)},m=function(e,t,n){if(t)return F.getByAttributeClass(M,t,e,c,l).putToAutoDefineHelper(n)},v=function(e,t,n){return!t||F.getByAttributeClass(W,t,e,c,l).process(l,n)},y=function(e,t){return!t||N.build(t).process(l,e)},b=function(e,t,n,r){if(t)return(n=(t=P.build(t,n,l)).process(l,e,r,c)).setAttribute(d.qdup,1),c&&D.add(e,t,l),o(n)},x=function(e,t){return!t||F.getByAttributeClass(B,t,e,c,l).process(l,e)},w=function(e,t){return!!t&&F.getByAttributeClass(K,t,e,c,l).process(l,e)},C=function(e,t){return null!=t&&F.getByAttributeClass(H,t,e,c,l).process(l,e,E)},j=function(e,t){return!!t&&F.getByAttributeClass(U,t,e,c,l).process(l,e)},S=function(e,t){if(t)return F.getByAttributeClass(_,t,e,c,l).process(l,e)},E={run:function(){o(r)},defaultContent:a};return E}var A=t("../context.js"),O=t("../logHelper.js"),L=t("./nodeAttributes.js"),F=t("../cache/attributeCache.js"),D=t("../attributes/attributeIndex.js"),k=t("./autoDefineHelper.js"),I=t("../expressions/evaluateHelper.js"),i=t("./loop.js"),R=t("../attributes/I18N/i18nDomain.js"),M=t("../attributes/I18N/i18nLanguage.js"),N=t("../attributes/METAL/metalDefineMacro.js"),P=t("../attributes/METAL/metalUseMacro.js"),_=t("../attributes/TAL/talAttributes.js"),B=t("../attributes/TAL/talCondition.js"),U=t("../attributes/TAL/talContent.js"),z=t("../attributes/TAL/talDefine.js"),H=t("../attributes/TAL/talOmitTag.js"),V=t("../attributes/TAL/talOnError.js"),$=t("../attributes/TAL/talRepeat.js"),K=t("../attributes/TAL/talReplace.js"),W=t("../attributes/TAL/talDeclare.js"),G=t("../attributes/TAL/contentHelper.js");T.processDefine=function(e,t,n,r,o){if(t)return F.getByAttributeClass(z,t,e,o,r).process(r,n)},T.cloneAndConfigureNode=function(e,t,n,r){e=e.cloneNode(!0);return"form"in e&&(e.checked=!1),t&&(e.setAttribute(n.id,A.nextExpressionCounter()),e.setAttribute(n.relatedId,r)),e},T.configureNodeForNewItem=function(e,t,n,r,o){e.removeAttribute(t.talRepeat),e.removeAttribute("style"),e.setAttribute(t.qdup,1),i.setAutoDefineAttribute(e,r.attributeInstance.getVarName(),o,r.attributeInstance.getExpressionString(),n.childElementCount,0)},n.exports=T}.call(this)}.call(this,t("_process"))},{"../attributes/I18N/i18nDomain.js":68,"../attributes/I18N/i18nLanguage.js":69,"../attributes/METAL/metalDefineMacro.js":70,"../attributes/METAL/metalUseMacro.js":72,"../attributes/TAL/contentHelper.js":73,"../attributes/TAL/talAttributes.js":74,"../attributes/TAL/talCondition.js":75,"../attributes/TAL/talContent.js":76,"../attributes/TAL/talDeclare.js":77,"../attributes/TAL/talDefine.js":78,"../attributes/TAL/talOmitTag.js":79,"../attributes/TAL/talOnError.js":80,"../attributes/TAL/talRepeat.js":81,"../attributes/TAL/talReplace.js":82,"../attributes/attributeIndex.js":83,"../cache/attributeCache.js":84,"../context.js":87,"../expressions/evaluateHelper.js":104,"../logHelper.js":134,"./autoDefineHelper.js":136,"./loop.js":148,"./nodeAttributes.js":150,_process:65}],154:[function(e,t,n){var h=e("../context.js"),g=e("../logHelper.js"),m=e("./nodeRemover.js"),v=e("../scopes/scope.js"),y=e("../i18n/i18nHelper.js"),b=e("../resolver.js");e("../attributes/attributeIndex.js");t.exports=function(e,t,n,r,o,i,s){var a=e,u=t,l=n,c=r,d=o,p=i,f=s;return{run:function(){try{p||m.removeGeneratedNodes(a.root);var e=new v(a.dictionary,a.dictionaryExtension,!0);e.loadFolderDictionariesAsync(f,window.location,function(){h.setFolderDictionaries(e.folderDictionaries),y.loadAsyncAuto(a.dictionary,d,function(){b.loadRemotePages(e,c,u,l)},l)})}catch(e){throw g.fatal("Exiting init method of ZPT with errors: "+e),e}}}}},{"../attributes/attributeIndex.js":83,"../context.js":87,"../i18n/i18nHelper.js":133,"../logHelper.js":134,"../resolver.js":157,"../scopes/scope.js":159,"./nodeRemover.js":151}],155:[function(t,n,e){!function(e){!function(){var g=t("../context.js"),m=t("../logHelper.js"),v=t("../cache/attributeCache.js"),y=t("../attributes/attributeIndex.js"),b=t("./nodeRemover.js"),x=t("../scopes/scopeBuilder.js"),w=t("./parserNodeRenderer.js");n.exports=function(e,t,n,r,o,i){var s=e,a=t,u=n,l=r,c=o,d=i,p=function(){if(Array.isArray(a))for(var e=0;e<a.length;e++)f(a[e]);else f(a)},f=function(e){new w(e,x.build(s,e,u,"partialRender"===s.command),s.indexExpressions).run()},h=function(){var e=decodeURI(window.location.hash).substr(1);e&&(window.document.getElementById(e)?window.location.href="#"+e:m.warn('Unable to go to URL hash. Element with id "'+e+'" not found!'))};return{run:function(){try{if(!a)throw"Unable to process null root or target!";l||b.removeGeneratedNodes(a),c&&(y.reset(),v.reset()),p(),d&&h()}catch(e){m.fatal("Exiting run method of ZPT with errors: "+e),g.errorFunction(e)}}}}}.call(this)}.call(this,t("_process"))},{"../attributes/attributeIndex.js":83,"../cache/attributeCache.js":84,"../context.js":87,"../logHelper.js":134,"../scopes/scopeBuilder.js":160,"./nodeRemover.js":151,"./parserNodeRenderer.js":153,_process:65}],156:[function(e,t,n){var S=e("../context.js"),E=e("../logHelper.js"),T=e("../attributes/attributeIndex.js"),A=e("../scopes/scopeBuilder.js"),O=e("./parserNodeRenderer.js"),L=e("./nodeRemover.js"),F=e("../utils.js"),D=e("./dictionaryActions/dictionaryActionBuilder.js"),k=e("./dictionaryActions/abstractArrayAction.js");t.exports=function(e,t,n){var o,i,s,a=e,r=t,u=n,l={};if(s=[],r)for(var c=0;c<r.length;++c){var d=r[c],d=D.build(d,u.dictionary);Array.isArray(d)?s=s.concat(d):s.push(d)}var p=function(){a&&F.extend(u.dictionary,a)},f=function(e){for(var t=e;t<s.length;++t){var n=s[t],r=(n.updateDictionary(u.dictionary),T.getVarsList(n.id));if(r&&!h(n,t,0,r))return!1}return!0},h=function(e,t,n,r){for(var o=n;o<r.length;o++){var i=r[o];if(e.attributeInstanceIsRelated(i.attributeInstance)){if(!e.updateHTML(i,j,e,{actionInstance:e,i:t,initialJ:o,list:r}))return!1}else F.isFunction(i.attributeInstance.updatableFromAction)&&!i.attributeInstance.updatableFromAction(j,b(i.nodeId))||v(e.id)}return!0},g=function(){for(var e in p(),a)m(e);for(var t in o){var n,r=o[t];for(n in r)w(r[n])}},m=function(e){var t=T.getVarsList(e);y(e,t)},v=function(e){var t=T.getVarsList(e).filter(function(e,t,n){return!k.staticAttributeInstanceIsRelated(e.attributeInstance)});y(e,t)},y=function(e,t){if(t)for(var n=t.length,r=0;r<n;r++)x(e,t[r])},b=function(e){return window.document.querySelector("["+S.getTags().id+'="'+e+'"]')},x=function(e,t){var n,r=t.attributeInstance;return b(t.nodeId)?((n=o[t.nodeId])||(o[t.nodeId]=n={}),n[t.groupId?r.type+"/"+t.groupId:r.type]=t,!0):(++i.removedNodeUpdates,!1)},w=function(e){var t=e.attributeInstance,n=b(e.nodeId);if(!n)return++i.removedNodeUpdates,!1;++i.totalUpdates;var r=C(n,e.nodeId);return t.update(j,n,r,e),!0},C=function(e,t){t=t||e.getAttribute(S.getTags().id);var n=l[t];return n||(n=A.build(u,e,void 0,!0),l[t]=n),n},j={run:function(){try{if(!u.indexExpressions)throw"Unable to update, no index built! Set indexExpressions to true!";o={},i={totalUpdates:0,removedNodeUpdates:0},f(0)&&g()}catch(e){E.fatal("Exiting run method of update command of ZPT with errors: "+e),S.errorFunction(e)}},updateNode:function(e,t){L.removeMultipleNodes(e,t),new O(e,A.build(u,e,void 0,!0),!0).run()},findNodeById:b,getNodeScope:C,getStatistics:function(){return i},addUpdatedToStatistics:function(){++i.totalUpdates},addRemovedToStatistics:function(){++i.removedNodeUpdates},runAnimation:function(e,t,n){S.getAnimationManager().animate(e,t,function(){n?n():S.getAnimationManager().reset(t),e.animationCallback&&e.animationCallback()})},continueUpdateHTML:function(e){h(e.actionInstance,e.i,e.initialJ+1,e.list),f(e.i+1)&&g()}};return j}},{"../attributes/attributeIndex.js":83,"../context.js":87,"../logHelper.js":134,"../scopes/scopeBuilder.js":160,"../utils.js":161,"./dictionaryActions/abstractArrayAction.js":139,"./dictionaryActions/dictionaryActionBuilder.js":145,"./nodeRemover.js":151,"./parserNodeRenderer.js":153}],157:[function(e,t,n){var r,u,o,l,i,s,a,c,d,p=e("./utils.js"),f=e("./context.js"),h=e("./expressions/expressionBuilder.js");function g(e){return e.startsWith("/")?e:f.getConf().externalMacroPrefixURL+e}t.exports=(r={},u={},o=function(e,t){e=e.evaluate(t);return e?i(e,t):{macroId:null,url:null}},l=function(e,t){e=h.build(e);return o(e,t)},s=function(e){return"["+d(f.getTags().metalDefineMacro)+"='"+e+"']"},a=function(e,t){var n=u[t.url];if(!n)throw"Macros in URL "+t.url+" not preloaded!";var r=s(t.macroId),n=n.querySelector(r);if(n)return c(n.cloneNode(!0),t.macroId,e)},c=function(e,t,n){return e.removeAttribute(f.getTags().metalDefineMacro),e.setAttribute(f.getTags().metalMacro,t),r[n]=e},{getNode:function(e,t){var n=r[e];return(n=n||((e,t)=>{var n=i(e,t);if(n.url)return a(e,n);t=t.get(f.getConf().externalMacroUrlVarName);if(t){n.url=t;t=a(e,n);if(t)return t}var t=n.macroId,n=s(t),r=window.document.querySelector(n);if(r)return c(r.cloneNode(!0),t,e);throw"Node using selector '"+n+"' is null!"})(e,t))?n.cloneNode(!0):void 0},loadRemotePages:function(e,t,n,r){var o=((e,t)=>{for(var n=t.slice(),r=document.querySelectorAll("["+d(f.getTags().metalUseMacro)+"]"),o=0;i=r[o++];){var i=i.getAttribute(f.getTags().metalUseMacro);try{var s=l(i,e).url;s&&-1===n.indexOf(s)&&n.push(s)}catch(e){}}return n})(e,t),i=o.length;if(u={},i)for(var s=0;s<o.length;s++){var a=g(o[s]);p.ajax({url:a,done:function(e){var t=document.createElement("div");t.innerHTML=e,u[this.url]=t,0==--i&&n&&p.isFunction(n)&&n()},fail:function(e,t,n){f.asyncError(a,n,r)}})}else n&&p.isFunction(n)&&n()},getMacroData:i=function(e,t){var n=e.indexOf(f.getConf().macroDelimiter);return-1===n?{macroId:e,url:null}:{macroId:e.substring(0,n),url:g(e.substring(1+n))}},getMacroKey:function(e,t){e=o(e,t);return e.url?e.macroId+f.getConf().macroDelimiter+e.url:e.macroId},filterSelector:d=function(e){return e.replace(/:/gi,"\\:")}})},{"./context.js":87,"./expressions/expressionBuilder.js":106,"./utils.js":161}],158:[function(e,t,n){var r=e("../main.js");t.exports=function(e,i){var s=this;this._privateScope={nonReactiveDictionary:e,autoCommit:!0,dictionaryChanges:{},dictionaryActions:[],commit:function(){r.run({command:"update",dictionaryChanges:s._privateScope.dictionaryChanges,dictionaryActions:s._privateScope.dictionaryActions}),s._privateScope.dictionaryChanges={},s._privateScope.dictionaryActions=[]}},this._getNonReactiveDictionary=function(){return this._privateScope.nonReactiveDictionary},this._isAutoCommit=function(){return this._privateScope.autoCommit},this._setAutoCommit=function(e){this._privateScope.autoCommit=e},this._commit=function(){this._privateScope.commit()},this._addActions=function(e){s._privateScope.dictionaryActions=s._privateScope.dictionaryActions.concat(e),s._isAutoCommit()&&s._privateScope.commit()},this._addVariable=function(e,t){s._privateScope.nonReactiveDictionary[e]=t,this._defineProperty(this._privateScope.nonReactiveDictionary,e)},this._defineProperty=function(e,t){Object.defineProperty(s,t,{enumerable:!0,configurable:!0,get:function(){return e[t]},set:function(e){s._privateScope.dictionaryChanges[t]=e,s._isAutoCommit()&&s._privateScope.commit()}})},this._initialize=function(e){void 0!==i&&this._setAutoCommit(i);for(var t=Object.keys(e),n=0;n<t.length;n++){var r=t[n],o=Object.getOwnPropertyDescriptor(e,r);o&&!1===o.configurable||s._defineProperty(e,r)}},this._initialize(this._privateScope.nonReactiveDictionary)}},{"../main.js":135}],159:[function(e,t,n){function r(e,t,n,r){this.dictionary=e||{},this.dictionaryExtension=t||{},this.vars={},this.changesStack=[],this.nocallVars={},this.folderDictionaries=r||[],this.globalVarsExpressions={},n&&this.setCommonVars(),this.setMandatoryVars()}var o=e("../context.js"),i=e("../utils.js"),a=e("loadjs");r.prototype.setMandatoryVars=function(){this.setVar(o.getConf().nothingVarName,o.getConf().nothingVarValue),this.setVar(o.getConf().defaultVarName,o.getConf().defaultVarValue)},r.prototype.setCommonVars=function(){window&&this.setVar(o.getConf().windowVarName,window),this.setVar(o.getConf().contextVarName,o)},r.prototype.startElement=function(){var e={varsToUnset:[],varsToSet:{},expressions:{},impliedDeclaredVars:[]};return this.changesStack.push(e),e},r.prototype.currentVars=function(){return this.changesStack[this.changesStack.length-1]},r.prototype.setVar=function(e,t){this.vars[e]=t},r.prototype.getWithoutEvaluating=function(e){var t=this.vars[e];if(void 0!==t)return t;if(void 0!==(t=this.dictionaryExtension[e]))return t;if(void 0!==(t=this.dictionary[e]))return t;for(var n=0;n<this.folderDictionaries.length;++n)if(void 0!==(t=this.folderDictionaries[n][e]))return t},r.prototype.get=function(e){var t=this.getWithoutEvaluating(e);return this.nocallVars[e]?t&&i.isFunction(t.evaluate)?t.evaluate(this):'Error evaluating property "'+e+'": '+t:t},r.prototype.unset=function(e){delete this.vars[e]},r.prototype.endElement=function(){for(var e,t=this.changesStack.pop(),n=t.varsToUnset,r=t.varsToSet,o=0;o<n.length;++o)this.unset(n[o]);for(e in r){var i=r[e];this.setVar(e,i)}},r.prototype.set=function(e,t,n,r,o){var i,o=void 0===o?null:o;n?this.globalVarsExpressions[e]=o:(n=this.currentVars(),null!=(i=this.getWithoutEvaluating(e))?n.varsToSet[e]=i:n.varsToUnset.push(e),n.expressions[e]=o,this.isStrictMode()&&n.impliedDeclaredVars.push(e)),this.setVar(e,t),r&&(this.nocallVars[e]=!0)},r.prototype.loadFolderDictionariesAsync=function(e,t,n){e?(t=this.buildUrlListOfFolderDictionaries(e,t),this.loadFolderDictionary(e,n,t,0)):n()},r.prototype.loadFolderDictionary=function(n,r,o,i){function e(e,t){t&&window.folderDictionary&&s.folderDictionaries.push(window.folderDictionary),i===o.length?r():s.loadFolderDictionary(n,r,o,i)}var s=this,t=o[i++];a(t,{success:function(){e(0,!0)},error:function(){e(0,!1)}})},r.prototype.buildUrlListOfFolderDictionaries=function(e,t){for(var n=[],r=0,o=t.pathname,i=o.lastIndexOf("/");-1!==i&&++r<=e;){var s=o.substr(0,i);n.push(t.origin+s+"/folderDictionary.js"),i=s.lastIndexOf("/")}return n},r.prototype.isStrictMode=function(){return o.isStrictMode()||this.get(o.getConf().strictModeVarName)},r.prototype.isValidVariable=function(e){if(!this.isStrictMode())return!0;var t=this.get(o.getConf().declaredVarsVarName);if(!(!t||!t.indexOf)&&-1!==t.indexOf(e))return!0;for(var n=this.changesStack.length-1;0<=n;--n)if(-1!==this.changesStack[n].impliedDeclaredVars.indexOf(e))return!0;return!1},r.prototype.getVarExpression=function(e){var t=this.getExpressionFromLocal(e);return void 0!==t?t:this.globalVarsExpressions[e]},r.prototype.getExpressionFromLocal=function(e){for(var t=this.changesStack.length-1;0<=t;--t){var n=this.changesStack[t].expressions[e];if(void 0!==n)return n}},r.prototype.isLocalVar=function(e){return void 0!==this.vars[e]},t.exports=r},{"../context.js":87,"../utils.js":161,loadjs:62}],160:[function(e,t,n){var r,p,f,h,o,i,g,m=e("../context.js"),s=e("./scope.js"),a=e("../utils.js"),u=e("../parsers/parserNodeRenderer.js");t.exports=(r=6,p=function(e,t,n,r){for(var o=t.length-1;0<=o;o--){var i=t[o];u.processDefine(n,i,!0,e,r)}},f=function(e,t,n){if(!Array.isArray(e.root))return e.root;var r=g(),o=t,i=0;do{var s=o.getAttribute(r);if(s)return n[s]}while(9!==(o=o.parentNode).nodeType&&++i<100);throw"Error trying to get root: not found!"},h=function(e){var t={},n=e.root;if(Array.isArray(n))for(var r=0;r<n.length;r++)o(n[r],t);else o(n,t);return t},o=function(e,t){var n=i();(t[n]=e).setAttribute(g(),n)},i=function(){return a.generateId(r)},g=function(){return m.getTags().rootKey},{build:function(e,t,n,r){n=new s(e.dictionary,n,!0,m.getFolderDictionaries());return r&&((e,t,n)=>{var r=h(e),o=g(),i=f(e,t,r).getAttribute(o),s=m.getTags().talDefine,a=m.getTags().talAutoDefine,u=t.parentNode,l=0,c=[];do{var d=u.getAttribute(s),d=(d&&c.push(d),u.getAttribute(a)),d=(d&&c.push(d),u.getAttribute(o));if(d&&d===i)return p(n,c,u,e.indexExpressions)}while(9!==(u=u.parentNode).nodeType&&++l<100);throw"Error trying to update scope: root not found!"})(e,t,n),n}})},{"../context.js":87,"../parsers/parserNodeRenderer.js":153,"../utils.js":161,"./scope.js":159}],161:[function(e,t,n){function r(e){return!(!e||"[object Object]"!==Object.prototype.toString.call(e)||(e=u(e))&&("function"!=typeof(e=l.call(e,"constructor")&&e.constructor)||c.call(e)!==d))}function o(e){e=e||{};for(var t=1;t<arguments.length;t++){var n=arguments[t];if(n)for(var r in n)n.hasOwnProperty(r)&&("object"==typeof n[r]?e[r]=o(e[r],n[r]):e[r]=n[r])}return e}function i(e){if(!e)throw"Error trying to process ajax: no arguments!";if(!e.url)throw"Error trying to process ajax: no URL defined!";if(!e.done)throw"Error trying to process ajax: no done callback defined!";var t=new window.XMLHttpRequest;t.addEventListener("load",function(){200<=this.status&&this.status<400?e.done(e.parseJSON?JSON.parse(t.responseText):t.responseText):e.fail(void 0,void 0,this.statusText)}),e.fail&&t.addEventListener("error",e.fail),t.open("GET",e.url),t.send()}function s(n,r){return n&&r&&"object"==typeof n&&"object"==typeof r?Object.keys(n).length===Object.keys(r).length&&Object.keys(n).reduce(function(e,t){return e&&s(n[t],r[t])},!0):n===r}function a(e){if(null==e)return"undefined";if(Array.isArray(e)){for(var t="Array[ ",n=0;n<e.length;++n)t+=(0===n?"":", ")+a(e[n]);return t+=" ]"}return r(e)?JSON.stringify(e):e}var u,l,c,d;t.exports=(u=Object.getPrototypeOf,c=(l={}.hasOwnProperty).toString,d=c.call(Object),{generateId:function(e,t){for(var n=t||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r="",o=0;o<e;o++){var i=Math.floor(Math.random()*n.length);r+=n.substring(i,i+1)}return r},isFunction:function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},isPlainObject:r,deepExtend:o,extend:function(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e},getJSON:function(e){e.parseJSON=!0,i(e)},ajax:i,deepEqual:s,copyArray:function(e){for(var t=[],n=0;n<e.length;++n)t.push(e[n]);return t},genericToString:a})},{}],162:[function(e,t,n){t.exports="0.40.3"},{}]},{},[56]);