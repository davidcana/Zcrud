<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>ZCrud API reference - General options</title>
        
        <script type="text/javascript" src="../lib/syntaxHighlighter/lib.js"></script>
        <script type="module" src="../js/zpt.js"></script>

        <link rel="stylesheet" type="text/css" href="../themes/basic/theme.css" media="all">
        <link rel="stylesheet" type="text/css" href="../docs.css">
        <link rel="stylesheet" type="text/css" href="../lib/syntaxHighlighter/theme.css">
    </head>
    <body>
        <div id="commonHeader" data-use-macro="'header@templates.html'">
            <!-- The header -->
        </div>
        
        <div class="header1Div">
            <h1>ZCrud API reference - Pages</h1>
        </div>
        
        <p>
            It includes all configurations options about <em>pages</em>. ZCrud manages some <em>pages</em>: list, create, update and delete. The <em>pageConf</em> configuration option defines it. Its default value is:
        </p>
        <pre class="brush: javascript">
    pageConf: {
        defaultPageConf: {
            showStatus: false,
            modifiedFieldsClass: 'zcrud-modified-field',
            modifiedRowsClass: 'zcrud-modified-row',
            hideTr: function( $tr ){
                $tr.fadeOut();
            },
            showTr: function( $tr ){
                $tr.fadeIn();
            },
            buttons: {
                byRow: []
            }
        },
        pages: {
            list: {
                template: "listDefaultTemplate@templates/lists.html",
                showStatus: true,
                components: {
                    paging: {
                        isOn: true
                    }
                },
                buttons: {
                    toolbar: [ 'list_showCreateForm' ],
                    byRow: [ 'list_showEditForm', 'list_showDeleteForm' ]
                }
            }, 
            create: {
                template: "formDefaultTemplate@templates/forms.html",
                components: {},
                buttons: {
                    toolbar: [ 'undo', 'redo', 'form_cancel', 'form_submit' ]
                }
            }, 
            update: {
                template: "formDefaultTemplate@templates/forms.html",
                components: {},
                buttons: {
                    toolbar: [ 'undo', 'redo', 'form_cancel', 'form_submit' ]
                }
            }, 
            delete: {
                template: "deleteDefaultTemplate@templates/forms.html",
                components: {},
                buttons: {
                    toolbar: [ 'form_cancel', 'form_submit' ]
                }
            }
        }
    }
        </pre>
        <p>
            The <em>pageConf</em> configuration option contains 2 elements:
        </p>
        <ul>
            <li><em>defaultPageConf</em>. A group of configuration options working as default for all pages.</li>
            <li><em>pages</em>. The 4 pages managed by ZCrud.                     
                It contains 4 elements:
                <ul>
                    <li><em>create</em>. A form that creates a new record.</li>
                    <li><em>delete</em>. A form that deletes an existing record.</li>
                    <li><em>list</em>. Shows a list of records.</li>
                    <li><em>update</em>. A form that updates an existing record.</li>
                </ul>
            </li>
        </ul>
        
        <p>
            The list of configuration options included in <em>defaultPageConf</em> or in any page is:
        </p>
        <ul class="generalOptionList">
            <li>
                <a id="buttons"></a>
                <div class="header">
                    <span class="name">buttons</span>
                    <span class="dataType">object</span>
                    <span class="default">an object</span>
                </div>
                <div class="body">
                    Defines the buttons in a form. See <a href="fieldsOptions.html#buttons">field buttons</a> for details.
                </div>
            </li>
            <li>
                <a id="components"></a>
                <div class="header">
                    <span class="name">components</span>
                    <span class="dataType">object</span>
                    <span class="default">an object</span>
                </div>
                <div class="body">
                    A lot of configuration options grouped by component. Nowadays only for lists. There are 5 components:
                    <ul>
                        <li>
                            <em>paging</em>. All about paging. On by default. Suboptions:
                            <ul>
                                <li><em>isOn</em>. On/off paging.</li>
                                <li><em>constructorClass</em>. The path to the javascript class that implements this component.</li>
                                <li><em>defaultPageSize</em>. Default number of items to show per page. Default value is <em>10</em>.</li>
                                <li><em>pageSizes</em>. A list of page sizes. The user can select any of these. Default value is <em>[10, 25, 50, 100, 250, 500]</em>.</li>
                                <li><em>pageSizeChangeArea</em>. Defines whether the list of page sizes is shown. Default value is <em>true</em>.</li>
                                <li><em>gotoPageFieldType</em>. Type of <em>Go to page</em> field. Possible values a are 'textbox', 'combobox' and 'none'.</li>
                                <li><em>gotoPageFieldAttributes</em>. Attributes to add to <em>Go to page</em> field. Default value is <em>{}</em>.</li>
                                <li><em>maxNumberOfAllShownPages</em>. ZCrud will not show more than this number of page links.</li>
                                <li><em>block1NumberOfPages</em>. Maximum number of pages to show (first pages).</li>
                                <li><em>block2NumberOfPages</em>. Maximum number of pages to show around current page.</li>
                                <li><em>block3NumberOfPages</em>. Maximum number of pages to show (last pages).</li>
                            </ul>
                        </li>
                        <li>
                            <em>sorting</em>. All about sorting. Off by default.
                            <ul>
                                <li><em>isOn</em>. On/off sorting.</li>
                                <li><em>constructorClass</em>. The path to the javascript class that implements this component.</li>
                                <li><em>loadFromLocalStorage</em>. If <em>true</em> ZCrud will save/load sorting preferences in local storage.</li>
                                <li>
                                    <em>default</em>. Default sorting:
                                    <ul>
                                        <li><em>fieldId</em>. Sort by this field.</li>
                                        <li><em>type</em>. Sort type (<em>asc</em> or <em>desc</em>).</li>
                                    </ul>
                                </li>
                                <li><em>allowUser</em>. If <em>true</em> the user will be able to click on buttons in the header of the table to select the field and the type of sorting.</li>
                            </ul>
                        </li>
                        <li>
                            <em>filtering</em>. All about filtering. Off by default.
                            <ul>
                                <li><em>isOn</em>. On/off filtering.</li>
                                <li><em>constructorClass</em>. The path to the javascript class that implements this component.</li>
                                <li><em>fields</em>. The list of fields to define the filter.</li>
                                <li><em>fieldsTemplate</em>. The template to build the list of fields.</li>
                                <li><em>forceToFilter</em>. Enable/disable force use this filter before doing changes.</li>
                            </ul>
                        </li>
                        <li>
                            <em>selecting</em>. All about selecting. Off by default.
                            <ul>
                                <li><em>isOn</em>. On/off selecting.</li>
                                <li><em>constructorClass</em>. The path to the javascript class that implements this component.</li>
                                <li><em>multiple</em>. Defines whether multiple selection is allowed.</li>
                                <li><em>mode</em>. Array of string that defines the selecting mode. Possible values are <em>checkbox</em> (must click a checkbox) and <em>onRowClick</em> (must click on any place of the row). Default value is <em>[ 'checkbox', 'onRowClick']</em>.</li>
                            </ul>
                        </li>
                        <li>
                            <em>editing</em>. All about editing. Off by default.
                            <ul>
                                <li><em>isOn</em>. On/off editing. If true the list is a editable list; if false it is an only read list.</li>
                                <li><em>constructorClass</em>. The path to the javascript class that implements this component.</li>
                                <li><em>updateURL</em>. The server URL to submit the new, the updated and the removed records.</li>
                                <li><em>modifiedFieldsClass</em> and <em>modifiedRowsClass</em>. The class names added by ZCrud when a field is changed or if a row is changed.</li>
                                <li><em>hideTr</em> and <em>showTr</em>. Functions to customize hide/show rows.</li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </li>
            <li>
                <a id="fields"></a>
                <div class="header">
                    <span class="name">fields</span>
                    <span class="dataType">object</span>
                    <span class="default">{}</span>
                </div>
                <div class="body">
                    Defines the list of fields of this page. Go to <a href="fieldsLists.html">Field lists</a> to see more details.
                </div>
            </li>
            <li>
                <a id="getGroupOfRecordsURL"></a>
                <div class="header">
                    <span class="name">getGroupOfRecordsURL</span>
                    <span class="dataType">string</span>
                    <span class="default">undefined</span>
                </div>
                <div class="body">
                    The server URL to retrieve a group of records. Useful for lists and subforms.
                </div>
            </li>
            <li>
                <a id="getRecordURL"></a>
                <div class="header">
                    <span class="name">getRecordURL</span>
                    <span class="dataType">string</span>
                    <span class="default">undefined</span>
                </div>
                <div class="body">
                    The server URL to retrieve a record by id.
                </div>
            </li>
            <li>
                <a id="hideTr"></a>
                <div class="header">
                    <span class="name">hideTr</span>
                    <span class="dataType">function</span>
                    <span class="default">function( $tr ){ $tr.fadeOut(); }</span>
                </div>
                <div class="body">
                    Function to run when a row is hidden.
                </div>
            </li>
            <li>
                <a id="modifiedFieldsClass"></a>
                <div class="header">
                    <span class="name">modifiedFieldsClass</span>
                    <span class="dataType">string</span>
                    <span class="default">'zcrud-modified-field'</span>
                </div>
                <div class="body">
                    The class name added by ZCrud when a field is changed.
                </div>
            </li>
            <li>
                <a id="modifiedRowsClass"></a>
                <div class="header">
                    <span class="name">modifiedRowsClass</span>
                    <span class="dataType">string</span>
                    <span class="default">'zcrud-modified-row'</span>
                </div>
                <div class="body">
                    The class name added by ZCrud when a row is changed.
                </div>
            </li>
            <li>
                <a id="showTr"></a>
                <div class="header">
                    <span class="name">showTr</span>
                    <span class="dataType">function</span>
                    <span class="default">function( $tr ){ $tr.fadeIn(); }</span>
                </div>
                <div class="body">
                    Function to run when a row is shown.
                </div>
            </li>
            <li>
                <a id="template"></a>
                <div class="header">
                    <span class="name">template</span>
                    <span class="dataType">string</span>
                    <span class="default">depending on page</span>
                </div>
                <div class="body">
                    The template that ZCrud will use to build the page.
                </div>
            </li>
            <li>
                <a id="updateURL"></a>
                <div class="header">
                    <span class="name">updateURL</span>
                    <span class="dataType">string</span>
                    <span class="default">undefined</span>
                </div>
                <div class="body">
                    The server URL to submit the new, the updated and the removed records.
                </div>
            </li>
        </ul>

        <div id="commonFooter" data-use-macro="'referenceFooter@templates.html'">
            <!-- The footer -->
        </div>
    </body>
</html>