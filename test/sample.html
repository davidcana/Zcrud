<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Zcrud sample page</title>
        
        <link rel="stylesheet" type="text/css" href="../themes/basic/basic.css" media="all">
        <link rel="stylesheet" type="text/css" href="../lib/datetimepicker/jquery.datetimepicker.css" media="all">
        
        <script src="http://127.0.0.1:9966/sample.js" defer></script>
    </head>
    <body>
        <div id="departmentsContainer">
            <div id="zcrud-busy-message">
                Starting zCrud...
            </div>
        </div>
        
        <div data-mdefine-macro="busyDefaultTemplate" 
             style="display: none">
            <div data-tattributes="id 'zcrud-message'"></div>
            <div data-tattributes="id 'zcrud-busy-message'">
                Loading zCrud contents... Busy!
            </div>         
        </div>
        
        <div data-mdefine-macro="listDefaultTemplate" 
             class="zcrud-main-container" 
             style="display: none">
            
            <div class="zcrud-header">
                <span class="zcrud-title"
                      data-tcontent="options/title">
                    The title option
                </span>
                (default)
                <span class="zcrud-toolbar">
                    <button title="New record" class="zcrud-new-command-button"></button>
                </span>
                <div class="zcrud-status">
                    Status:
                    <span data-tcondition="status">
                        <span data-tattributes="id 'zcrud-message'"
                              data-tcondition="status/message"
                              data-tcontent="status/message">Operation done!</span>
                        <span data-tattributes="id 'zcrud-message-time'"
                              data-tcondition="status/date"
                              data-tcontent="string:(${status/date})">(14:23)</span>
                    </span>
                </div>
            </div>
            <table class="zcrud">
                <thead>
                    <tr>
                        <th data-trepeat="field options/currentList/fields" 
                            class="zcrud-column-header"
                            data-tattributes="style cond: field/width (string:width:${field/width}) null">
                            <span data-treplace="field/title">Field title</span>
                        </th>
                        <th class="zcrud-command-column-header"></th>
                        <th class="zcrud-command-column-header"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-trepeat="record records"
                        data-tattributes="data-record-key record[ options/key ]">
                        <td data-trepeat="field options/currentList/fields"
                            data-tcontent="record[ field/id ]">
                            Field value
                        </td>
                        <td>
                            <button title="Edit record" class="zcrud-edit-command-button"></button>
                        </td>
                        <td>
                            <button title="Delete record" class="zcrud-delete-command-button"></button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="zcrud-column-resize-bar" style="display: none"></div>
            <div class="zcrud-column-selection-container" style="display: none"></div>

        </div>
        
        <div data-mdefine-macro="listCustomizedTemplate" 
             class="zcrud-main-container" 
             style="display: none">
            
            <div class="zcrud-header"> 
                <span class="zcrud-title"
                      data-tcontent="options/title">
                    The title option
                </span>
                (customized)
                <span class="zcrud-toolbar">
                    <button title="New record" class="zcrud-new-command-button"></button>
                </span>
                <div class="zcrud-status">
                    Status:
                    <span data-tcondition="status">
                        <span data-tattributes="id 'zcrud-message'"
                              data-tcondition="status/message"
                              data-tcontent="status/message">Operation done!</span>
                        <span data-tattributes="id 'zcrud-message-time'"
                              data-tcondition="status/date"
                              data-tcontent="string:(${status/date})">(14:23)</span>
                    </span>
                </div>
            </div>
            <table class="zcrud">
                <thead>
                    <tr>
                        <th class="zcrud-column-header" style="width: 10%">
                            Id
                        </th>
                        <th class="zcrud-column-header" style="width: 90%">
                            Name
                        </th>
                        <th class="zcrud-command-column-header"></th>
                        <th class="zcrud-command-column-header"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-trepeat="record records"
                        data-tattributes="data-record-key record[ options/key ]">
                        <td data-tcontent="record/id">
                            1
                        </td>
                        <td data-tcontent="record/name">
                            UPD
                        </td>
                        <td>
                            <button title="Edit record" class="zcrud-edit-command-button"></button>
                        </td>
                        <td>
                            <button title="Delete record" class="zcrud-delete-command-button"></button>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="zcrud-column-resize-bar" style="display: none"></div>
            <div class="zcrud-column-selection-container" style="display: none"></div>

        </div>
        
        <div data-mdefine-macro="formDefaultTemplate" 
             class="zcrud-main-container" 
             style="display: none">
            
            <div data-tattributes="id 'zcrud-message'"></div>
            <div class="zcrud-header"> 
                <span class="zcrud-title" data-tcontent="options/title">
                    The title option
                </span>
                <span data-tcontent="options/currentForm/title">
                    Current form title
                </span>
                (default)
            </div>
            <form class="zcrud-form">
                <input type="hidden"
                       name="zcRecordKey" 
                       data-tattributes="id 'zcrud-recordKey'; value record[ options/key ]" >
                
                <div class="zcrud-field" 
                     data-trepeat="field options/currentForm/fields"
                     data-tdefine="id field/id; value record[ id ]; type field/type; elementId string:zcrud-${id}">
                    <div>
                        <label data-tattributes="for elementId" data-tcontent="field/title">
                            The id of the field
                        </label>
                    </div>
                    <div class="zcrud-field-help" data-tcontent="field/description">
                        The description of this field.
                    </div>
                    
                    <input data-tcondition="eq: type 'text'"
                           data-tattributes="id elementId; name elementId; value value"
                           type="text"
                           placeholder="">
                    <textarea data-tcondition="eq: type 'textarea'"
                              data-tattributes="id elementId; name elementId"
                              data-tcontent="cond: value value ''"
                              placeholder="">The textarea value.</textarea>
                    <input data-tcondition="or: (eq: type 'date') (eq: type 'datetime') (eq: type 'time')"
                           data-tattributes="id elementId; name elementId; value value"
                           type="text"
                           placeholder="">
                    <select data-tcondition="eq: type 'select'"
                            data-tattributes="id elementId; name elementId; value value">
                        <option data-trepeat="option field/optionsList"
                                data-tattributes="value option/value; selected cond: (eq: option/value value) 'selected' null"
                                data-tcontent="option/displayText"></option>
                    </select>
                    <div data-tcondition="eq: type 'radio'"
                         data-omittag=""
                         data-tattributes="id elementId; name elementId; value value">
                        <div data-trepeat="option field/optionsList">
                            <input type="radio"
                                   data-tattributes="name elementId;
                                                     value option/value; 
                                                     checked cond: (eq: option/value value) 'checked' null">
                            <span data-treplace="option/displayText">The display text</span>
                        </div>
                    </div>
                </div>
            </form>
            <div class="zcrud-button-panel">
                <button type="button" data-tattributes="id 'form-cancel-button'">
                    Cancel
                </button>
                <button type="button" data-tattributes="id 'form-submit-button'">
                    Save
                </button>
            </div>
        </div>
        
        <div data-mdefine-macro="formCustomizedTemplate" 
             class="zcrud-main-container" 
             style="display: none">
            
            <div data-tattributes="id 'zcrud-message'"></div>
            <div class="zcrud-header"> 
                <span class="zcrud-title" data-tcontent="options/title">
                    The title option
                </span>
                <span data-tcontent="options/currentForm/title">
                    Current form title
                </span>
                (customized)
            </div>
            <form class="zcrud-form">
                <input type="hidden"
                       name="zcRecordKey" 
                       data-tattributes="id 'zcRecordKey'; value record[ options/key ]" >
                
                <div class="zcrud-field">
                    <div>
                        <label for="zcrud-id">
                            Id
                        </label>
                    </div>
                    <div class="zcrud-field-help">
                        The unique id of the department.
                    </div>
                    <input type="text"
                           placeholder="" 
                           name="id" 
                           data-tattributes="id 'zcrud-id'; value record/id">
                </div>
                
                <div class="zcrud-field">
                    <div>
                        <label for="zcrud-id">
                            Name
                        </label>
                    </div>
                    <div class="zcrud-field-help">
                        The name of the department.
                    </div>
                    <input type="text"
                           placeholder="" 
                           name="name" 
                           data-tattributes="id 'zcrud-name'; value record/name">
                </div>
            </form>
            <div class="zcrud-button-panel">
                <button type="button" data-tattributes="id 'form-cancel-button'">
                    Cancel
                </button>
                <button type="button" data-tattributes="id 'form-submit-button'">
                    Save
                </button>
            </div>
        </div>
        
        <div data-mdefine-macro="deleteDefaultTemplate" 
             class="zcrud-main-container" 
             style="display: none">
            
            <div data-tattributes="id 'zcrud-message'"></div>
            <div class="zcrud-header"> 
                <span class="zcrud-title" data-tcontent="options/title">
                    The title option
                </span>
                <span data-tcontent="options/currentForm/title">
                    Current form title
                </span>
                (default)
            </div>
            <form class="zcrud-form">
                <input type="hidden"
                       name="zcRecordKey" 
                       data-tattributes="id 'zcRecordKey'; value record[ options/key ]" >
                
                <div class="zcrud-field"
                     data-trepeat="field options/currentForm/fields"
                     data-tdefine="id field/id; elementId string:zcrud-${id}">
                    <div>
                        <label data-tattributes="for elementId" data-tcontent="field/title">
                            The id of the field
                        </label>
                    </div>
                    <div class="zcrud-field-help" data-tcontent="field/description">
                        The description of this field.
                    </div>
                    <div class="zcrud-property" data-tcontent="record[ field/id ]">
                        The value
                    </div>
                </div>
            </form>
            <div class="zcrud-button-panel">
                <button type="button" data-tattributes="id 'form-cancel-button'">
                    Cancel
                </button>
                <button type="button" data-tattributes="id 'form-submit-button'">
                    Delete
                </button>
            </div>
        </div>
        
        <div data-mdefine-macro="deleteCustomizedTemplate" 
             class="zcrud-main-container" 
             style="display: none">
            
            <div data-tattributes="id 'zcrud-message'"></div>
            <div class="zcrud-header"> 
                <span class="zcrud-title" data-tcontent="options/title">
                    The title option
                </span>
                <span data-tcontent="options/currentForm/title">
                    Current form title
                </span>
                (customized)
            </div>
            <form class="zcrud-form">
                <input type="hidden"
                       name="zcRecordKey" 
                       data-tattributes="id 'zcrud-recordKey'; value record[ options/key ]" >
                
                <div class="zcrud-field">
                    <div>
                        <label for="zcrud-id">
                            Id
                        </label>
                    </div>
                    <div class="zcrud-field-help">
                        The unique id of the department.
                    </div>
                    <div class="zcrud-property" data-tcontent="record/id">
                        The id
                    </div>
                </div>
                
                <div class="zcrud-field">
                    <div>
                        <label for="zcrud-id">
                            Name
                        </label>
                    </div>
                    <div class="zcrud-field-help">
                        The name of the department.
                    </div>
                    <div class="zcrud-property" data-tcontent="record/name">
                        The name
                    </div>
                </div>
            </form>
            <div class="zcrud-button-panel">
                <button type="button" data-tattributes="id 'form-cancel-button'">
                    Cancel
                </button>
                <button type="button" data-tattributes="id 'form-submit-button'">
                    Delete
                </button>
            </div>
        </div>
    </body>
</html>
